/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var he=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/buffer","vs/base/common/path","vs/base/common/network","vs/base/common/lifecycle","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/editor/common/core/position","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],ce=function(ue){for(var e=[],U=0,D=ue.length;U<D;U++)e[U]=he[ue[U]];return e};define(he[14],ce([0,1,4,8]),function(ue,e,U,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=void 0;function B(i){const r=i;return r?typeof r.read=="function":!1}e.$8d=B;function I(i){const r=i;return r?[r.on,r.pause,r.resume,r.destroy].every(h=>typeof h=="function"):!1}e.$9d=I;function F(i){const r=i;return r?I(r.stream)&&Array.isArray(r.buffer)&&typeof r.ended=="boolean":!1}e.$0d=F;function X(i,r){return new v(i,r)}e.$$d=X;class v{constructor(r,h){this.e=r,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(r){if(!this.a.destroyed){if(this.a.flowing)this.g(r);else if(this.b.data.push(r),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(r){this.a.destroyed||(this.a.flowing?this.h(r):this.b.error.push(r))}end(r){this.a.destroyed||(typeof r<"u"&&this.write(r),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(r){this.c.data.slice(0).forEach(h=>h(r))}h(r){this.c.error.length===0?(0,U.$1)(r):this.c.error.slice(0).forEach(h=>h(r))}i(){this.c.end.slice(0).forEach(r=>r())}on(r,h){if(!this.a.destroyed)switch(r){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(r,h){if(this.a.destroyed)return;let m;switch(r){case"data":m=this.c.data;break;case"end":m=this.c.end;break;case"error":m=this.c.error;break}if(m){const L=m.indexOf(h);L>=0&&m.splice(L,1)}}j(){if(this.b.data.length>0){const r=this.e(this.b.data);this.g(r),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach(m=>m())}}k(){if(this.c.error.length>0){for(const r of this.b.error)this.h(r);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function $(i,r){const h=[];let m;for(;(m=i.read())!==null;)h.push(m);return r(h)}e.$_d=$;function y(i,r,h){const m=[];let L;for(;(L=i.read())!==null&&m.length<h;)m.push(L);return L===null&&m.length>0?r(m):{read:()=>{if(m.length>0)return m.shift();if(typeof L<"u"){const A=L;return L=void 0,A}return i.read()}}}e.$ae=y;function V(i,r){return new Promise((h,m)=>{const L=[];f(i,{onData:A=>{r&&L.push(A)},onError:A=>{r?m(A):h(void 0)},onEnd:()=>{h(r?r(L):void 0)}})})}e.$be=V;function f(i,r,h){i.on("error",m=>{h?.isCancellationRequested||r.onError(m)}),i.on("end",()=>{h?.isCancellationRequested||r.onEnd()}),i.on("data",m=>{h?.isCancellationRequested||r.onData(m)})}e.$ce=f;function O(i,r){return new Promise((h,m)=>{const L=new D.$Sc,A=[],z=R=>{if(A.push(R),A.length>r)return L.dispose(),i.pause(),h({stream:i,buffer:A,ended:!1})},d=R=>(L.dispose(),m(R)),C=()=>(L.dispose(),h({stream:i,buffer:A,ended:!0}));L.add((0,D.$Rc)(()=>i.removeListener("error",d))),i.on("error",d),L.add((0,D.$Rc)(()=>i.removeListener("end",C))),i.on("end",C),L.add((0,D.$Rc)(()=>i.removeListener("data",z))),i.on("data",z)})}e.$de=O;function g(i,r){const h=X(r);return h.end(i),h}e.$ee=g;function a(){const i=X(()=>{throw new Error("not supported")});return i.end(),i}e.$fe=a;function l(i){let r=!1;return{read:()=>r?null:(r=!0,i)}}e.$ge=l;function c(i,r,h){const m=X(h);return f(i,{onData:L=>m.write(r.data(L)),onError:L=>m.error(r.error?r.error(L):L),onEnd:()=>m.end()}),m}e.$he=c;function n(i,r,h){let m=!1;return{read:()=>{const L=r.read();return m?L:(m=!0,L!==null?h([i,L]):i)}}}e.$ie=n;function s(i,r,h){let m=!1;const L=X(h);return f(r,{onData:A=>m?L.write(A):(m=!0,L.write(h([i,A]))),onError:A=>L.error(A),onEnd:()=>{m||(m=!0,L.write(i)),L.end()}}),L}e.$je=s}),define(he[5],ce([0,1,15,14]),function(ue,e,U,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=void 0;const B=typeof Buffer<"u",I=new U.$V(()=>new Uint8Array(256));let F,X;class v{static alloc(w){return B?new v(Buffer.allocUnsafe(w)):new v(new Uint8Array(w))}static wrap(w){return B&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new v(w)}static fromString(w,H){return!(H?.dontUseNodeBuffer||!1)&&B?new v(Buffer.from(w)):(F||(F=new TextEncoder),new v(F.encode(w)))}static fromByteArray(w){const H=v.alloc(w.length);for(let ee=0,te=w.length;ee<te;ee++)H.buffer[ee]=w[ee];return H}static concat(w,H){if(typeof H>"u"){H=0;for(let ne=0,re=w.length;ne<re;ne++)H+=w[ne].byteLength}const ee=v.alloc(H);let te=0;for(let ne=0,re=w.length;ne<re;ne++){const ie=w[ne];ee.set(ie,te),te+=ie.byteLength}return ee}constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}clone(){const w=v.alloc(this.byteLength);return w.set(this),w}toString(){return B?this.buffer.toString():(X||(X=new TextDecoder),X.decode(this.buffer))}slice(w,H){return new v(this.buffer.subarray(w,H))}set(w,H){if(w instanceof v)this.buffer.set(w.buffer,H);else if(w instanceof Uint8Array)this.buffer.set(w,H);else if(w instanceof ArrayBuffer)this.buffer.set(new Uint8Array(w),H);else if(ArrayBuffer.isView(w))this.buffer.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),H);else throw new Error("Unknown argument 'array'")}readUInt32BE(w){return f(this.buffer,w)}writeUInt32BE(w,H){O(this.buffer,w,H)}readUInt32LE(w){return g(this.buffer,w)}writeUInt32LE(w,H){a(this.buffer,w,H)}readUInt8(w){return l(this.buffer,w)}writeUInt8(w,H){c(this.buffer,w,H)}indexOf(w,H=0){return $(this.buffer,w instanceof v?w.buffer:w,H)}}e.$ke=v;function $(k,w,H=0){const ee=w.byteLength,te=k.byteLength;if(ee===0)return 0;if(ee===1)return k.indexOf(w[0]);if(ee>te-H)return-1;const ne=I.value;ne.fill(w.length);for(let Z=0;Z<w.length;Z++)ne[w[Z]]=w.length-Z-1;let re=H+w.length-1,ie=re,b=-1;for(;re<te;)if(k[re]===w[ie]){if(ie===0){b=re;break}re--,ie--}else re+=Math.max(w.length-ie,ne[k[re]]),ie=w.length-1;return b}e.$le=$;function y(k,w){return k[w+0]<<0>>>0|k[w+1]<<8>>>0}e.$me=y;function V(k,w,H){k[H+0]=w&255,w=w>>>8,k[H+1]=w&255}e.$ne=V;function f(k,w){return k[w]*2**24+k[w+1]*2**16+k[w+2]*2**8+k[w+3]}e.$oe=f;function O(k,w,H){k[H+3]=w,w=w>>>8,k[H+2]=w,w=w>>>8,k[H+1]=w,w=w>>>8,k[H]=w}e.$pe=O;function g(k,w){return k[w+0]<<0>>>0|k[w+1]<<8>>>0|k[w+2]<<16>>>0|k[w+3]<<24>>>0}e.$qe=g;function a(k,w,H){k[H+0]=w&255,w=w>>>8,k[H+1]=w&255,w=w>>>8,k[H+2]=w&255,w=w>>>8,k[H+3]=w&255}e.$re=a;function l(k,w){return k[w]}e.$se=l;function c(k,w,H){k[H]=w}e.$te=c;function n(k){return D.$_d(k,w=>v.concat(w))}e.$ue=n;function s(k){return D.$ge(k)}e.$ve=s;function i(k){return D.$be(k,w=>v.concat(w))}e.$we=i;async function r(k){return k.ended?v.concat(k.buffer):v.concat([...k.buffer,await i(k.stream)])}e.$xe=r;function h(k){return D.$ee(k,w=>v.concat(w))}e.$ye=h;function m(k){return D.$he(k,{data:w=>typeof w=="string"?v.fromString(w):v.wrap(w)},w=>v.concat(w))}e.$ze=m;function L(k){return D.$$d(w=>v.concat(w),k)}e.$Ae=L;function A(k,w){return D.$ie(k,w,H=>v.concat(H))}e.$Be=A;function z(k,w){return D.$je(k,w,H=>v.concat(H))}e.$Ce=z;function d(k){let w=0,H=0,ee=0;const te=new Uint8Array(Math.floor(k.length/4*3)),ne=ie=>{switch(H){case 3:te[ee++]=w|ie,H=0;break;case 2:te[ee++]=w|ie>>>2,w=ie<<6,H=3;break;case 1:te[ee++]=w|ie>>>4,w=ie<<4,H=2;break;default:w=ie<<2,H=1}};for(let ie=0;ie<k.length;ie++){const b=k.charCodeAt(ie);if(b>=65&&b<=90)ne(b-65);else if(b>=97&&b<=122)ne(b-97+26);else if(b>=48&&b<=57)ne(b-48+52);else if(b===43||b===45)ne(62);else if(b===47||b===95)ne(63);else{if(b===61)break;throw new SyntaxError(`Unexpected base64 character ${k[ie]}`)}}const re=ee;for(;H>0;)ne(0);return v.wrap(te).slice(0,re)}e.$De=d;function C(k){const w=k.split(".")[1],H=d(w);return JSON.parse(H.toString())}e.$Ee=C;const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function K({buffer:k},w=!0,H=!1){const ee=H?T:R;let te="";const ne=k.byteLength%3;let re=0;for(;re<k.byteLength-ne;re+=3){const ie=k[re+0],b=k[re+1],Z=k[re+2];te+=ee[ie>>>2],te+=ee[(ie<<4|b>>>4)&63],te+=ee[(b<<2|Z>>>6)&63],te+=ee[Z&63]}if(ne===1){const ie=k[re+0];te+=ee[ie>>>2],te+=ee[ie<<4&63],w&&(te+="==")}else if(ne===2){const ie=k[re+0],b=k[re+1];te+=ee[ie>>>2],te+=ee[(ie<<4|b>>>4)&63],te+=ee[b<<2&63],w&&(te+="=")}return te}e.$Fe=K}),define(he[16],ce([0,1]),function(ue,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Td=void 0,e.$Td=Symbol("MicrotaskDelay")}),define(he[17],ce([0,1]),function(ue,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$BG=e.StringEOL=void 0;var U;(function(B){B[B.Unknown=0]="Unknown",B[B.Invalid=3]="Invalid",B[B.LF=1]="LF",B[B.CRLF=2]="CRLF"})(U||(e.StringEOL=U={}));function D(B){let I=0,F=0,X=0,v=0;for(let $=0,y=B.length;$<y;$++){const V=B.charCodeAt($);V===13?(I===0&&(F=$),I++,$+1<y&&B.charCodeAt($+1)===10?(v|=2,$++):v|=3,X=$+1):V===10&&(v|=1,I===0&&(F=$),I++,X=$+1)}return I===0&&(F=B.length),[I,F,B.length-X,v]}e.$BG=D}),define(he[18],ce([0,1]),function(ue,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$O=e.$0O=e.$9O=e.$8O=e.$7O=e.$6O=e.$5O=e.$4O=e.$3O=e.NodeColor=e.$2O=void 0;class U{constructor(l,c){this.piece=l,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$3O)return B(this.right);let l=this;for(;l.parent!==e.$3O&&l.parent.left!==l;)l=l.parent;return l.parent===e.$3O?e.$3O:l.parent}prev(){if(this.left!==e.$3O)return I(this.left);let l=this;for(;l.parent!==e.$3O&&l.parent.right!==l;)l=l.parent;return l.parent===e.$3O?e.$3O:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$2O=U;var D;(function(a){a[a.Black=0]="Black",a[a.Red=1]="Red"})(D||(e.NodeColor=D={})),e.$3O=new U(null,0),e.$3O.parent=e.$3O,e.$3O.left=e.$3O,e.$3O.right=e.$3O,e.$3O.color=0;function B(a){for(;a.left!==e.$3O;)a=a.left;return a}e.$4O=B;function I(a){for(;a.right!==e.$3O;)a=a.right;return a}e.$5O=I;function F(a){return a===e.$3O?0:a.size_left+a.piece.length+F(a.right)}function X(a){return a===e.$3O?0:a.lf_left+a.piece.lineFeedCnt+X(a.right)}function v(){e.$3O.parent=e.$3O}function $(a,l){const c=l.right;c.size_left+=l.size_left+(l.piece?l.piece.length:0),c.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=c.left,c.left!==e.$3O&&(c.left.parent=l),c.parent=l.parent,l.parent===e.$3O?a.root=c:l.parent.left===l?l.parent.left=c:l.parent.right=c,c.left=l,l.parent=c}e.$6O=$;function y(a,l){const c=l.left;l.left=c.right,c.right!==e.$3O&&(c.right.parent=l),c.parent=l.parent,l.size_left-=c.size_left+(c.piece?c.piece.length:0),l.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),l.parent===e.$3O?a.root=c:l===l.parent.right?l.parent.right=c:l.parent.left=c,c.right=l,l.parent=c}e.$7O=y;function V(a,l){let c,n;if(l.left===e.$3O?(n=l,c=n.right):l.right===e.$3O?(n=l,c=n.left):(n=B(l.right),c=n.right),n===a.root){a.root=c,c.color=0,l.detach(),v(),a.root.parent=e.$3O;return}const s=n.color===1;if(n===n.parent.left?n.parent.left=c:n.parent.right=c,n===l?(c.parent=n.parent,g(a,c)):(n.parent===l?c.parent=n:c.parent=n.parent,g(a,c),n.left=l.left,n.right=l.right,n.parent=l.parent,n.color=l.color,l===a.root?a.root=n:l===l.parent.left?l.parent.left=n:l.parent.right=n,n.left!==e.$3O&&(n.left.parent=n),n.right!==e.$3O&&(n.right.parent=n),n.size_left=l.size_left,n.lf_left=l.lf_left,g(a,n)),l.detach(),c.parent.left===c){const r=F(c),h=X(c);if(r!==c.parent.size_left||h!==c.parent.lf_left){const m=r-c.parent.size_left,L=h-c.parent.lf_left;c.parent.size_left=r,c.parent.lf_left=h,O(a,c.parent,m,L)}}if(g(a,c.parent),s){v();return}let i;for(;c!==a.root&&c.color===0;)c===c.parent.left?(i=c.parent.right,i.color===1&&(i.color=0,c.parent.color=1,$(a,c.parent),i=c.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.right.color===0&&(i.left.color=0,i.color=1,y(a,i),i=c.parent.right),i.color=c.parent.color,c.parent.color=0,i.right.color=0,$(a,c.parent),c=a.root)):(i=c.parent.left,i.color===1&&(i.color=0,c.parent.color=1,y(a,c.parent),i=c.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.left.color===0&&(i.right.color=0,i.color=1,$(a,i),i=c.parent.left),i.color=c.parent.color,c.parent.color=0,i.left.color=0,y(a,c.parent),c=a.root));c.color=0,v()}e.$8O=V;function f(a,l){for(g(a,l);l!==a.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const c=l.parent.parent.right;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,$(a,l)),l.parent.color=0,l.parent.parent.color=1,y(a,l.parent.parent))}else{const c=l.parent.parent.left;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,y(a,l)),l.parent.color=0,l.parent.parent.color=1,$(a,l.parent.parent))}a.root.color=0}e.$9O=f;function O(a,l,c,n){for(;l!==a.root&&l!==e.$3O;)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=n),l=l.parent}e.$0O=O;function g(a,l){let c=0,n=0;if(l!==a.root){for(;l!==a.root&&l===l.parent.right;)l=l.parent;if(l!==a.root)for(l=l.parent,c=F(l.left)-l.size_left,n=X(l.left)-l.lf_left,l.size_left+=c,l.lf_left+=n;l!==a.root&&(c!==0||n!==0);)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=n),l=l.parent}}e.$$O=g}),define(he[9],ce([0,1,6,2,3,41]),function(ue,e,U,D,B,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fg=e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=void 0;function F(d){return d===47||d===92}e.$3f=F;function X(d){return d.replace(/[\\/]/g,U.$gc.sep)}e.$4f=X;function v(d){return d.indexOf("/")===-1&&(d=X(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}e.$5f=v;function $(d,C=U.$gc.sep){if(!d)return"";const R=d.length,T=d.charCodeAt(0);if(F(T)){if(F(d.charCodeAt(1))&&!F(d.charCodeAt(2))){let k=3;const w=k;for(;k<R&&!F(d.charCodeAt(k));k++);if(w!==k&&!F(d.charCodeAt(k+1))){for(k+=1;k<R;k++)if(F(d.charCodeAt(k)))return d.slice(0,k+1).replace(/[\\/]/g,C)}}return C}else if(c(T)&&d.charCodeAt(1)===58)return F(d.charCodeAt(2))?d.slice(0,2)+C:d.slice(0,2);let K=d.indexOf("://");if(K!==-1){for(K+=3;K<R;K++)if(F(d.charCodeAt(K)))return d.slice(0,K+1)}return""}e.$6f=$;function y(d){if(!D.$i||!d||d.length<5)return!1;let C=d.charCodeAt(0);if(C!==92||(C=d.charCodeAt(1),C!==92))return!1;let R=2;const T=R;for(;R<d.length&&(C=d.charCodeAt(R),C!==92);R++);return!(T===R||(C=d.charCodeAt(R+1),isNaN(C)||C===92))}e.$7f=y;const V=/[\\/:\*\?"<>\|]/g,f=/[\\/]/g,O=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function g(d,C=D.$i){const R=C?V:f;return!(!d||d.length===0||/^\s+$/.test(d)||(R.lastIndex=0,R.test(d))||C&&O.test(d)||d==="."||d===".."||C&&d[d.length-1]==="."||C&&d.length!==d.trim().length||d.length>255)}e.$8f=g;function a(d,C,R){const T=d===C;return!R||T?T:!d||!C?!1:(0,B.$bf)(d,C)}e.$9f=a;function l(d,C,R,T=U.sep){if(d===C)return!0;if(!d||!C||C.length>d.length)return!1;if(R){if(!(0,B.$cf)(d,C))return!1;if(C.length===d.length)return!0;let k=C.length;return C.charAt(C.length-1)===T&&k--,d.charAt(k)===T}return C.charAt(C.length-1)!==T&&(C+=T),d.indexOf(C)===0}e.$0f=l;function c(d){return d>=65&&d<=90||d>=97&&d<=122}e.$$f=c;function n(d,C){return D.$i&&d.endsWith(":")&&(d+=U.sep),(0,U.$ic)(d)||(d=(0,U.$jc)(C,d)),d=(0,U.$hc)(d),D.$i?(d=(0,B.$We)(d,U.sep),d.endsWith(":")&&(d+=U.sep)):(d=(0,B.$We)(d,U.sep),d||(d=U.sep)),d}e.$_f=n;function s(d){const C=(0,U.$hc)(d);return D.$i?d.length>3?!1:i(C)&&(d.length===2||C.charCodeAt(2)===92):C===U.$gc.sep}e.$ag=s;function i(d,C=D.$i){return C?c(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}e.$bg=i;function r(d,C=D.$i){return i(d,C)?d[0]:void 0}e.$cg=r;function h(d,C,R){return C.length>d.length?-1:d===C?0:(R&&(d=d.toLowerCase(),C=C.toLowerCase()),d.indexOf(C))}e.$dg=h;function m(d){const C=d.split(":");let R,T,K;for(const k of C){const w=Number(k);(0,I.$Of)(w)?T===void 0?T=w:K===void 0&&(K=w):R=R?[R,k].join(":"):k}if(!R)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:R,line:T!==void 0?T:void 0,column:K!==void 0?K:T!==void 0?1:void 0}}e.$eg=m;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",A="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function z(d,C,R=8){let T="";for(let k=0;k<R;k++){let w;k===0&&D.$i&&!C&&(R===3||R===4)?w=A:w=L,T+=w.charAt(Math.floor(Math.random()*w.length))}let K;return C?K=`${C}-${T}`:K=T,d?(0,U.$jc)(d,K):K}e.$fg=z}),define(he[19],ce([0,1,6]),function(ue,e,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fs=e.$Es=e.$Ds=e.$Cs=e.$Bs=void 0,e.$Bs=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const D={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},B={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function I(y){const V=(0,U.$oc)(y),f=D[V.toLowerCase()];return f!==void 0?f:F(y)}e.$Cs=I;function F(y){const V=(0,U.$oc)(y);return B[V.toLowerCase()]}e.$Ds=F;function X(y){for(const V in B)if(B[V]===y)return V}e.$Es=X;const v=/^(.+)\/(.+?)(;.+)?$/;function $(y,V){const f=v.exec(y);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:V?void 0:y}e.$Fs=$}),define(he[7],ce([0,1,4,2,3,10]),function(ue,e,U,D,B,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.Schemas=void 0;var F;(function(f){f.inMemory="inmemory",f.vscode="vscode",f.internal="private",f.walkThrough="walkThrough",f.walkThroughSnippet="walkThroughSnippet",f.http="http",f.https="https",f.file="file",f.mailto="mailto",f.untitled="untitled",f.data="data",f.command="command",f.vscodeRemote="vscode-remote",f.vscodeRemoteResource="vscode-remote-resource",f.vscodeManagedRemoteResource="vscode-managed-remote-resource",f.vscodeUserData="vscode-userdata",f.vscodeCustomEditor="vscode-custom-editor",f.vscodeNotebookCell="vscode-notebook-cell",f.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",f.vscodeNotebookCellOutput="vscode-notebook-cell-output",f.vscodeInteractiveInput="vscode-interactive-input",f.vscodeSettings="vscode-settings",f.vscodeWorkspaceTrust="vscode-workspace-trust",f.vscodeTerminal="vscode-terminal",f.vscodeChatSesssion="vscode-chat-editor",f.webviewPanel="webview-panel",f.vscodeWebview="vscode-webview",f.extension="extension",f.aiChat="cursor.aichat",f.aiReader="cursor.aireader",f.vscodeFileResource="vscode-file",f.tmp="tmp",f.vsls="vsls",f.vscodeSourceControl="vscode-scm"})(F||(e.Schemas=F={}));function X(f,O){return I.URI.isUri(f)?(0,B.$bf)(f.scheme,O):(0,B.$cf)(f,O+":")}e.$gg=X;function v(f,...O){return O.some(g=>X(f,g))}e.$hg=v,e.$ig="vscode-tkn",e.$jg="tkn";class ${constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${F.vscodeRemoteResource}`}setPreferredWebSchema(O){this.d=O}setDelegate(O){this.e=O}setServerRootPath(O){this.f=`${O}/${F.vscodeRemoteResource}`}set(O,g,a){this.a[O]=g,this.b[O]=a}setConnectionToken(O,g){this.c[O]=g}getPreferredWebSchema(){return this.d}rewrite(O){if(this.e)try{return this.e(O)}catch(s){return U.$1(s),O}const g=O.authority;let a=this.a[g];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const l=this.b[g],c=this.c[g];let n=`path=${encodeURIComponent(O.path)}`;return typeof c=="string"&&(n+=`&${e.$jg}=${encodeURIComponent(c)}`),I.URI.from({scheme:D.$o?this.d:F.vscodeRemoteResource,authority:`${a}:${l}`,path:this.f,query:n})}}e.$kg=new $,e.$lg="vs/../../extensions",e.$mg="vs/../../node_modules",e.$ng="vs/../../node_modules.asar",e.$og="vs/../../node_modules.asar.unpacked",e.$pg="vscode-app";class y{static{this.a=e.$pg}asBrowserUri(O){const g=this.b(O,ue);return this.uriToBrowserUri(g)}uriToBrowserUri(O){return O.scheme===F.vscodeRemote?e.$kg.rewrite(O):O.scheme===F.file&&(D.$m||D.$q===`${F.vscodeFileResource}://${y.a}`)?O.with({scheme:F.vscodeFileResource,authority:O.authority||y.a,query:null,fragment:null}):O}asFileUri(O){const g=this.b(O,ue);return this.uriToFileUri(g)}uriToFileUri(O){return O.scheme===F.vscodeFileResource?O.with({scheme:F.file,authority:O.authority!==y.a?O.authority:null,query:null,fragment:null}):O}b(O,g){return I.URI.isUri(O)?O:I.URI.parse(g.toUrl(O))}}e.$qg=new y;var V;(function(f){const O=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);f.CoopAndCoep=Object.freeze(O.get("3"));const g="vscode-coi";function a(c){let n;typeof c=="string"?n=new URL(c).searchParams:c instanceof URL?n=c.searchParams:I.URI.isUri(c)&&(n=new URL(c.toString(!0)).searchParams);const s=n?.get(g);if(s)return O.get(s)}f.getHeadersFromQuery=a;function l(c,n,s){if(!globalThis.crossOriginIsolated)return;const i=n&&s?"3":s?"2":"1";c instanceof URLSearchParams?c.set(g,i):c[g]=i}f.addSearchParam=l})(V||(e.COI=V={}))}),define(he[20],ce([0,1,9,7,6,2,3,10]),function(ue,e,U,D,B,I,F,X){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Tg=e.DataUri=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=void 0;function v(O){return(0,X.$wc)(O,!0)}e.$xg=v;class ${constructor(g){this.a=g}compare(g,a,l=!1){return g===a?0:(0,F.$7e)(this.getComparisonKey(g,l),this.getComparisonKey(a,l))}isEqual(g,a,l=!1){return g===a?!0:!g||!a?!1:this.getComparisonKey(g,l)===this.getComparisonKey(a,l)}getComparisonKey(g,a=!1){return g.with({path:this.a(g)?g.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(g){return this.a(g)}isEqualOrParent(g,a,l=!1){if(g.scheme===a.scheme){if(g.scheme===D.Schemas.file)return U.$0f(v(g),v(a),this.a(g))&&g.query===a.query&&(l||g.fragment===a.fragment);if((0,e.$Og)(g.authority,a.authority))return U.$0f(g.path,a.path,this.a(g),"/")&&g.query===a.query&&(l||g.fragment===a.fragment)}return!1}joinPath(g,...a){return X.URI.joinPath(g,...a)}basenameOrAuthority(g){return(0,e.$Gg)(g)||g.authority}basename(g){return B.$gc.basename(g.path)}extname(g){return B.$gc.extname(g.path)}dirname(g){if(g.path.length===0)return g;let a;return g.scheme===D.Schemas.file?a=X.URI.file(B.$mc(v(g))).path:(a=B.$gc.dirname(g.path),g.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${g.toString})) resulted in a relative path`),a="/")),g.with({path:a})}normalizePath(g){if(!g.path.length)return g;let a;return g.scheme===D.Schemas.file?a=X.URI.file(B.$hc(v(g))).path:a=B.$gc.normalize(g.path),g.with({path:a})}relativePath(g,a){if(g.scheme!==a.scheme||!(0,e.$Og)(g.authority,a.authority))return;if(g.scheme===D.Schemas.file){const n=B.$lc(v(g),v(a));return I.$i?U.$4f(n):n}let l=g.path||"/";const c=a.path||"/";if(this.a(g)){let n=0;for(const s=Math.min(l.length,c.length);n<s&&!(l.charCodeAt(n)!==c.charCodeAt(n)&&l.charAt(n).toLowerCase()!==c.charAt(n).toLowerCase());n++);l=c.substr(0,n)+l.substr(n)}return B.$gc.relative(l,c)}resolvePath(g,a){if(g.scheme===D.Schemas.file){const l=X.URI.file(B.$kc(v(g),a));return g.with({authority:l.authority,path:l.path})}return a=U.$5f(a),g.with({path:B.$gc.resolve(g.path,a)})}isAbsolutePath(g){return!!g.path&&g.path[0]==="/"}isEqualAuthority(g,a){return g===a||g!==void 0&&a!==void 0&&(0,F.$bf)(g,a)}hasTrailingPathSeparator(g,a=B.sep){if(g.scheme===D.Schemas.file){const l=v(g);return l.length>U.$6f(l).length&&l[l.length-1]===a}else{const l=g.path;return l.length>1&&l.charCodeAt(l.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(g.fsPath)}}removeTrailingPathSeparator(g,a=B.sep){return(0,e.$Pg)(g,a)?g.with({path:g.path.substr(0,g.path.length-1)}):g}addTrailingPathSeparator(g,a=B.sep){let l=!1;if(g.scheme===D.Schemas.file){const c=v(g);l=c!==void 0&&c.length===U.$6f(c).length&&c[c.length-1]===a}else{a="/";const c=g.path;l=c.length===1&&c.charCodeAt(c.length-1)===47}return!l&&!(0,e.$Pg)(g,a)?g.with({path:g.path+"/"}):g}}e.$yg=$,e.$zg=new $(()=>!1),e.$Ag=new $(O=>O.scheme===D.Schemas.file?!I.$k:!0),e.$Bg=new $(O=>!0),e.$Cg=e.$zg.isEqual.bind(e.$zg),e.$Dg=e.$zg.isEqualOrParent.bind(e.$zg),e.$Eg=e.$zg.getComparisonKey.bind(e.$zg),e.$Fg=e.$zg.basenameOrAuthority.bind(e.$zg),e.$Gg=e.$zg.basename.bind(e.$zg),e.$Hg=e.$zg.extname.bind(e.$zg),e.$Ig=e.$zg.dirname.bind(e.$zg),e.$Jg=e.$zg.joinPath.bind(e.$zg),e.$Kg=e.$zg.normalizePath.bind(e.$zg),e.$Lg=e.$zg.relativePath.bind(e.$zg),e.$Mg=e.$zg.resolvePath.bind(e.$zg),e.$Ng=e.$zg.isAbsolutePath.bind(e.$zg),e.$Og=e.$zg.isEqualAuthority.bind(e.$zg),e.$Pg=e.$zg.hasTrailingPathSeparator.bind(e.$zg),e.$Qg=e.$zg.removeTrailingPathSeparator.bind(e.$zg),e.$Rg=e.$zg.addTrailingPathSeparator.bind(e.$zg);function y(O,g){const a=[];for(let l=0;l<O.length;l++){const c=g(O[l]);O.some((n,s)=>s===l?!1:(0,e.$Dg)(c,g(n)))||a.push(O[l])}return a}e.$Sg=y;var V;(function(O){O.META_DATA_LABEL="label",O.META_DATA_DESCRIPTION="description",O.META_DATA_SIZE="size",O.META_DATA_MIME="mime";function g(a){const l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(s=>{const[i,r]=s.split(":");i&&r&&l.set(i,r)});const n=a.path.substring(0,a.path.indexOf(";"));return n&&l.set(O.META_DATA_MIME,n),l}O.parseMetaData=g})(V||(e.DataUri=V={}));function f(O,g,a){if(g){let l=O.path;return l&&l[0]!==B.$gc.sep&&(l=B.$gc.sep+l),O.with({scheme:a,authority:g,path:l})}return O.with({scheme:a})}e.$Tg=f}),define(he[21],ce([0,1,42,4,22,8,20,2,16,15]),function(ue,e,U,D,B,I,F,X,v,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.Promises=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=void 0;function y(S){return!!S&&typeof S.then=="function"}e.$Ug=y;function V(S){const u=new U.$7d,p=S(u.token),E=new Promise((G,J)=>{const oe=u.token.onCancellationRequested(()=>{oe.dispose(),J(new D.$5)});Promise.resolve(p).then(ae=>{oe.dispose(),u.dispose(),G(ae)},ae=>{oe.dispose(),u.dispose(),J(ae)})});return new class{cancel(){u.cancel(),u.dispose()}then(G,J){return E.then(G,J)}catch(G){return this.then(void 0,G)}finally(G){return E.finally(G)}}}e.$Vg=V;function f(S,u,p){return new Promise((E,G)=>{const J=u.onCancellationRequested(()=>{J.dispose(),E(p)});S.then(E,G).finally(()=>J.dispose())})}e.$Wg=f;function O(S,u){return new Promise((p,E)=>{const G=u.onCancellationRequested(()=>{G.dispose(),E(new D.$5)});S.then(p,E).finally(()=>G.dispose())})}e.$Xg=O;async function g(S){let u=-1;const p=S.map((E,G)=>E.then(J=>(u=G,J)));try{return await Promise.race(p)}finally{S.forEach((E,G)=>{G!==u&&E.cancel()})}}e.$Yg=g;function a(S,u,p){let E;const G=setTimeout(()=>{E?.(void 0),p?.()},u);return Promise.race([S.finally(()=>clearTimeout(G)),new Promise(J=>E=J)])}e.$Zg=a;function l(S){return new Promise((u,p)=>{const E=S();y(E)?E.then(u,p):u(E)})}e.$1g=l;class c{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(u){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=u,!this.b){const p=()=>{if(this.b=null,this.f)return;const E=this.queue(this.d);return this.d=null,E};this.b=new Promise(E=>{this.a.then(p,p).then(E)})}return new Promise((p,E)=>{this.b.then(p,E)})}return this.a=u(),new Promise((p,E)=>{this.a.then(G=>{this.a=null,p(G)},G=>{this.a=null,E(G)})})}dispose(){this.f=!0}}e.$2g=c;class n{constructor(){this.a=Promise.resolve(null)}queue(u){return this.a=this.a.then(()=>u(),()=>u())}}e.$3g=n;class s{constructor(){this.a=new Map}queue(u,p){const G=(this.a.get(u)??Promise.resolve()).catch(()=>{}).then(p).finally(()=>{this.a.get(u)===G&&this.a.delete(u)});return this.a.set(u,G),G}}e.$4g=s;const i=(S,u)=>{let p=!0;const E=setTimeout(()=>{p=!1,u()},S);return{isTriggered:()=>p,dispose:()=>{clearTimeout(E),p=!1}}},r=S=>{let u=!0;return queueMicrotask(()=>{u&&(u=!1,S())}),{isTriggered:()=>u,dispose:()=>{u=!1}}};class h{constructor(u){this.defaultDelay=u,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(u,p=this.defaultDelay){this.g=u,this.h(),this.b||(this.b=new Promise((G,J)=>{this.d=G,this.f=J}).then(()=>{if(this.b=null,this.d=null,this.g){const G=this.g;return this.g=null,G()}}));const E=()=>{this.a=null,this.d?.(null)};return this.a=p===v.$Td?r(E):i(p,E),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new D.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$5g=h;class m{constructor(u){this.a=new h(u),this.b=new c}trigger(u,p){return this.a.trigger(()=>this.b.queue(u),p)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$6g=m;class L{constructor(){this.a=!1,this.b=new Promise((u,p)=>{this.d=u})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$7g=L;class A extends L{constructor(u){super(),this.f=setTimeout(()=>this.open(),u)}open(){clearTimeout(this.f),super.open()}}e.$8g=A;function z(S,u){return u?new Promise((p,E)=>{const G=setTimeout(()=>{J.dispose(),p()},S),J=u.onCancellationRequested(()=>{clearTimeout(G),J.dispose(),E(new D.$5)})}):V(p=>z(S,p))}e.$9g=z;function d(S,u=0,p){const E=setTimeout(()=>{S(),p&&G.dispose()},u),G=(0,I.$Rc)(()=>{clearTimeout(E),p?.deleteAndLeak(G)});return p?.add(G),G}e.$0g=d;function C(S){const u=[];let p=0;const E=S.length;function G(){return p<E?S[p++]():null}function J(oe){oe!=null&&u.push(oe);const ae=G();return ae?ae.then(J):Promise.resolve(u)}return Promise.resolve(null).then(J)}e.$$g=C;function R(S,u=E=>!!E,p=null){let E=0;const G=S.length,J=()=>{if(E>=G)return Promise.resolve(p);const oe=S[E++];return Promise.resolve(oe()).then(fe=>u(fe)?Promise.resolve(fe):J())};return J()}e.$_g=R;function T(S,u=E=>!!E,p=null){if(S.length===0)return Promise.resolve(p);let E=S.length;const G=()=>{E=-1;for(const J of S)J.cancel?.()};return new Promise((J,oe)=>{for(const ae of S)ae.then(fe=>{--E>=0&&u(fe)?(G(),J(fe)):E===0&&J(p)}).catch(fe=>{--E>=0&&(G(),oe(fe))})})}e.$ah=T;class K{constructor(u){this.a=0,this.b=!1,this.f=u,this.g=[],this.d=0,this.h=new B.$Wd}whenIdle(){return this.size>0?B.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(u){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((p,E)=>{this.g.push({factory:u,c:p,e:E}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const u=this.g.shift();this.d++;const p=u.factory();p.then(u.c,u.e),p.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$bh=K;class k extends K{constructor(){super(1)}}e.$ch=k;class w{constructor(){this.a=new _,this.b=0}queue(u){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,u())):this.a.run(this.b++,u())}}e.$dh=w;class H{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const u=new N;return this.b.add(u),u.p}g(){for(const[,u]of this.a)if(u.size>0)return!1;return!0}queueSize(u,p=F.$zg){const E=p.getComparisonKey(u);return this.a.get(E)?.size??0}queueFor(u,p,E=F.$zg){const G=E.getComparisonKey(u);let J=this.a.get(G);if(!J){J=new k;const oe=this.f++,ae=B.Event.once(J.onDrained)(()=>{J?.dispose(),this.a.delete(G),this.h(),this.d?.deleteAndDispose(oe),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new I.$3c),this.d.set(oe,ae),this.a.set(G,J)}return J.queue(p)}h(){this.g()&&this.j()}j(){for(const u of this.b)u.complete();this.b.clear()}dispose(){for(const[,u]of this.a)u.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$eh=H;class ee{constructor(u,p){this.a=-1,typeof u=="function"&&typeof p=="number"&&this.setIfNotSet(u,p)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(u,p){this.cancel(),this.a=setTimeout(()=>{this.a=-1,u()},p)}setIfNotSet(u,p){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,u()},p))}}e.$fh=ee;class te{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(u,p,E=globalThis){this.cancel();const G=E.setInterval(()=>{u()},p);this.d=(0,I.$Rc)(()=>{E.clearInterval(G),this.d=void 0})}dispose(){this.cancel()}}e.$gh=te;class ne{constructor(u,p){this.b=-1,this.a=u,this.d=p,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(u=this.d){this.cancel(),this.b=setTimeout(this.f,u)}get delay(){return this.d}set delay(u){this.d=u}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$hh=ne;class re{constructor(u,p){p%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${p}ms is not a multiple of 1000ms.`),this.a=u,this.b=p,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(u=this.b){u%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(u/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$ih=re;class ie extends ne{constructor(u,p){super(u,p),this.j=[]}work(u){this.j.push(u),this.isScheduled()||this.schedule()}h(){const u=this.j;this.j=[],this.a?.(u)}dispose(){this.j=[],super.dispose()}}e.$jh=ie;class b extends I.$Tc{constructor(u,p){super(),this.g=u,this.h=p,this.a=[],this.b=this.D(new I.$Uc),this.f=!1}get pending(){return this.a.length}work(u){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+u.length>this.g.maxBufferedWork)return!1}else if(this.pending+u.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const p of u)this.a.push(p);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new ne(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$kh=b,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$mh=(S,u)=>{(0,X.$B)(()=>{if(p)return;const E=Date.now()+15;u(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,E-Date.now())}}))});let p=!1;return{dispose(){p||(p=!0)}}}:e.$mh=(S,u,p)=>{const E=S.requestIdleCallback(u,typeof p=="number"?{timeout:p}:void 0);let G=!1;return{dispose(){G||(G=!0,S.cancelIdleCallback(E))}}},e.$lh=S=>(0,e.$mh)(globalThis,S)}();class Z{constructor(u,p){this.g=!1,this.d=()=>{try{this.j=p()}catch(E){this.l=E}finally{this.g=!0}},this.f=(0,e.$mh)(u,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$nh=Z;class le extends Z{constructor(u){super(globalThis,u)}}e.$oh=le;async function se(S,u,p){let E;for(let G=0;G<p;G++)try{return await S()}catch(J){E=J,await z(u)}throw E}e.$ph=se;class _{isRunning(u){return typeof u=="number"?this.a?.taskId===u:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(u,p,E){return this.a={taskId:u,cancel:()=>E?.(),promise:p},p.then(()=>this.d(u),()=>this.d(u)),p}d(u){this.a&&u===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const u=this.b;this.b=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}queue(u){if(this.b)this.b.run=u;else{let p,E;const G=new Promise((J,oe)=>{p=J,E=oe});this.b={run:u,promise:G,promiseResolve:p,promiseReject:E}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$qh=_;class M{constructor(u,p=()=>Date.now()){this.d=u,this.f=p,this.a=0,this.b=0}increment(){const u=this.f();return u-this.a>this.d&&(this.a=u,this.b=0),this.b++,this.b}}e.$rh=M;var W;(function(S){S[S.Resolved=0]="Resolved",S[S.Rejected=1]="Rejected"})(W||(W={}));class N{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((u,p)=>{this.a=u,this.b=p})}complete(u){return new Promise(p=>{this.a(u),this.d={outcome:0,value:u},p()})}error(u){return new Promise(p=>{this.b(u),this.d={outcome:1,value:u},p()})}cancel(){return this.error(new D.$5)}}e.$sh=N;var Y;(function(S){async function u(E){let G;const J=await Promise.all(E.map(oe=>oe.then(ae=>ae,ae=>{G||(G=ae)})));if(typeof G<"u")throw G;return J}S.settled=u;function p(E){return new Promise(async(G,J)=>{try{await E(G,J)}catch(oe){J(oe)}})}S.withAsyncBody=p})(Y||(e.Promises=Y={}));class Q{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(u){this.a=void 0,this.b=void 0,this.d=!1,this.promise=u.then(p=>(this.a=p,this.d=!0,p),p=>{throw this.b=p,this.d=!0,p})}requireValue(){if(!this.d)throw new D.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$th=Q;class x{constructor(u){this.b=u,this.a=new $.$V(()=>new Q(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$uh=x;var q;(function(S){S[S.Initial=0]="Initial",S[S.DoneOK=1]="DoneOK",S[S.DoneError=2]="DoneError"})(q||(q={}));class t{static fromArray(u){return new t(p=>{p.emitMany(u)})}static fromPromise(u){return new t(async p=>{p.emitMany(await u)})}static fromPromises(u){return new t(async p=>{await Promise.all(u.map(async E=>p.emitOne(await E)))})}static merge(u){return new t(async p=>{await Promise.all(u.map(async E=>{for await(const G of E)p.emitOne(G)}))})}static{this.EMPTY=t.fromArray([])}constructor(u){this.a=0,this.b=[],this.d=null,this.f=new B.$Wd,queueMicrotask(async()=>{const p={emitOne:E=>this.g(E),emitMany:E=>this.h(E),reject:E=>this.k(E)};try{await Promise.resolve(u(p)),this.j()}catch(E){this.k(E)}finally{p.emitOne=void 0,p.emitMany=void 0,p.reject=void 0}})}[Symbol.asyncIterator](){let u=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(u<this.b.length)return{done:!1,value:this.b[u++]};if(this.a===1)return{done:!0,value:void 0};await B.Event.toPromise(this.f.event)}while(!0)}}}static map(u,p){return new t(async E=>{for await(const G of u)E.emitOne(p(G))})}map(u){return t.map(this,u)}static filter(u,p){return new t(async E=>{for await(const G of u)p(G)&&E.emitOne(G)})}filter(u){return t.filter(this,u)}static coalesce(u){return t.filter(u,p=>!!p)}coalesce(){return t.coalesce(this)}static async toPromise(u){const p=[];for await(const E of u)p.push(E);return p}toPromise(){return t.toPromise(this)}g(u){this.a===0&&(this.b.push(u),this.f.fire())}h(u){this.a===0&&(this.b=this.b.concat(u),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(u){this.a===0&&(this.a=2,this.d=u,this.f.fire())}}e.$vh=t;class o extends t{constructor(u,p){super(p),this.l=u}cancel(){this.l.cancel()}}e.$wh=o;function j(S){const u=new U.$7d,p=S(u.token);return new o(u,async E=>{const G=u.token.onCancellationRequested(()=>{G.dispose(),u.dispose(),E.reject(new D.$5)});try{for await(const J of p){if(u.token.isCancellationRequested)return;E.emitOne(J)}G.dispose(),u.dispose()}catch(J){G.dispose(),u.dispose(),E.reject(J)}})}e.$xh=j;class P{constructor(){this.a=new N,this.b=new t(E=>{if(u){E.reject(u);return}return p&&E.emitMany(p),this.d=G=>E.reject(G),this.f=G=>E.emitOne(G),this.a.p});let u,p;this.f=E=>{p||(p=[]),p.push(E)},this.d=E=>{u||(u=E)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(u){this.d(u),this.a.complete()}emitOne(u){this.f(u)}}e.$yh=P}),define(he[23],ce([0,1,43,21,9,24,6,2,3]),function(ue,e,U,D,B,I,F,X,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wj=e.$Vj=e.$Uj=e.$Tj=e.$Sj=e.$Rj=e.$Qj=e.$Pj=e.$Oj=e.$Nj=e.$Mj=e.$Lj=void 0;function $(){return Object.create(null)}e.$Lj=$,e.$Mj="**",e.$Nj="/";const y="[/\\\\]",V="[^/\\\\]",f=/\//g;function O(M,W){switch(M){case 0:return"";case 1:return`${V}*?`;default:return`(?:${y}|${V}+${y}${W?`|${y}${V}+`:""})*?`}}function g(M,W){if(!M)return[];const N=[];let Y=!1,Q=!1,x="";for(const q of M){switch(q){case W:if(!Y&&!Q){N.push(x),x="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":Q=!0;break;case"]":Q=!1;break}x+=q}return x&&N.push(x),N}e.$Oj=g;function a(M){if(!M)return"";let W="";const N=g(M,e.$Nj);if(N.every(Y=>Y===e.$Mj))W=".*";else{let Y=!1;N.forEach((Q,x)=>{if(Q===e.$Mj){if(Y)return;W+=O(2,x===N.length-1)}else{let q=!1,t="",o=!1,j="";for(const P of Q){if(P!=="}"&&q){t+=P;continue}if(o&&(P!=="]"||!j)){let S;P==="-"?S=P:(P==="^"||P==="!")&&!j?S="^":P===e.$Nj?S="":S=(0,v.$Qe)(P),j+=S;continue}switch(P){case"{":q=!0;continue;case"[":o=!0;continue;case"}":{const u=`(?:${g(t,",").map(p=>a(p)).join("|")})`;W+=u,q=!1,t="";break}case"]":{W+="["+j+"]",o=!1,j="";break}case"?":W+=V;continue;case"*":W+=O(1);continue;default:W+=(0,v.$Qe)(P)}}x<N.length-1&&(N[x+1]!==e.$Mj||x+2<N.length)&&(W+=y)}Y=Q===e.$Mj})}return W}const l=/^\*\*\/\*\.[\w\.-]+$/,c=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new I.$Dc(1e4),m=function(){return!1},L=function(){return null};function A(M,W){if(!M)return L;let N;typeof M!="string"?N=M.pattern:N=M,N=N.trim();const Y=`${N}_${!!W.trimForExclusions}`;let Q=h.get(Y);if(Q)return z(Q,M);let x;return l.test(N)?Q=C(N.substr(4),N):(x=c.exec(d(N,W)))?Q=R(x[1],N):(W.trimForExclusions?s:n).test(N)?Q=T(N,W):(x=i.exec(d(N,W)))?Q=K(x[1].substr(1),N,!0):(x=r.exec(d(N,W)))?Q=K(x[1],N,!1):Q=k(N),h.set(Y,Q),z(Q,M)}function z(M,W){if(typeof W=="string")return M;const N=function(Y,Q){return(0,B.$0f)(Y,W.base,!X.$k)?M((0,v.$Ve)(Y.substr(W.base.length),F.sep),Q):null};return N.allBasenames=M.allBasenames,N.allPaths=M.allPaths,N.basenames=M.basenames,N.patterns=M.patterns,N}function d(M,W){return W.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function C(M,W){return function(N,Y){return typeof N=="string"&&N.endsWith(M)?W:null}}function R(M,W){const N=`/${M}`,Y=`\\${M}`,Q=function(q,t){return typeof q!="string"?null:t?t===M?W:null:q===M||q.endsWith(N)||q.endsWith(Y)?W:null},x=[M];return Q.basenames=x,Q.patterns=[W],Q.allBasenames=x,Q}function T(M,W){const N=b(M.slice(1,-1).split(",").map(t=>A(t,W)).filter(t=>t!==L),M),Y=N.length;if(!Y)return L;if(Y===1)return N[0];const Q=function(t,o){for(let j=0,P=N.length;j<P;j++)if(N[j](t,o))return M;return null},x=N.find(t=>!!t.allBasenames);x&&(Q.allBasenames=x.allBasenames);const q=N.reduce((t,o)=>o.allPaths?t.concat(o.allPaths):t,[]);return q.length&&(Q.allPaths=q),Q}function K(M,W,N){const Y=F.sep===F.$gc.sep,Q=Y?M:M.replace(f,F.sep),x=F.sep+Q,q=F.$gc.sep+M;let t;return N?t=function(o,j){return typeof o=="string"&&(o===Q||o.endsWith(x)||!Y&&(o===M||o.endsWith(q)))?W:null}:t=function(o,j){return typeof o=="string"&&(o===Q||!Y&&o===M)?W:null},t.allPaths=[(N?"*/":"./")+M],t}function k(M){try{const W=new RegExp(`^${a(M)}$`);return function(N){return W.lastIndex=0,typeof N=="string"&&W.test(N)?M:null}}catch{return L}}function w(M,W,N){return!M||typeof W!="string"?!1:H(M)(W,void 0,N)}e.$Pj=w;function H(M,W={}){if(!M)return m;if(typeof M=="string"||ee(M)){const N=A(M,W);if(N===L)return m;const Y=function(Q,x){return!!N(Q,x)};return N.allBasenames&&(Y.allBasenames=N.allBasenames),N.allPaths&&(Y.allPaths=N.allPaths),Y}return re(M,W)}e.$Qj=H;function ee(M){const W=M;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.$Rj=ee;function te(M){return M.allBasenames||[]}e.$Sj=te;function ne(M){return M.allPaths||[]}e.$Tj=ne;function re(M,W){const N=b(Object.getOwnPropertyNames(M).map(t=>ie(t,M[t],W)).filter(t=>t!==L)),Y=N.length;if(!Y)return L;if(!N.some(t=>!!t.requiresSiblings)){if(Y===1)return N[0];const t=function(P,S){let u;for(let p=0,E=N.length;p<E;p++){const G=N[p](P,S);if(typeof G=="string")return G;(0,D.$Ug)(G)&&(u||(u=[]),u.push(G))}return u?(async()=>{for(const p of u){const E=await p;if(typeof E=="string")return E}return null})():null},o=N.find(P=>!!P.allBasenames);o&&(t.allBasenames=o.allBasenames);const j=N.reduce((P,S)=>S.allPaths?P.concat(S.allPaths):P,[]);return j.length&&(t.allPaths=j),t}const Q=function(t,o,j){let P,S;for(let u=0,p=N.length;u<p;u++){const E=N[u];E.requiresSiblings&&j&&(o||(o=(0,F.$nc)(t)),P||(P=o.substr(0,o.length-(0,F.$oc)(t).length)));const G=E(t,o,P,j);if(typeof G=="string")return G;(0,D.$Ug)(G)&&(S||(S=[]),S.push(G))}return S?(async()=>{for(const u of S){const p=await u;if(typeof p=="string")return p}return null})():null},x=N.find(t=>!!t.allBasenames);x&&(Q.allBasenames=x.allBasenames);const q=N.reduce((t,o)=>o.allPaths?t.concat(o.allPaths):t,[]);return q.length&&(Q.allPaths=q),Q}function ie(M,W,N){if(W===!1)return L;const Y=A(M,N);if(Y===L)return L;if(typeof W=="boolean")return Y;if(W){const Q=W.when;if(typeof Q=="string"){const x=(q,t,o,j)=>{if(!j||!Y(q,t))return null;const P=Q.replace("$(basename)",()=>o),S=j(P);return(0,D.$Ug)(S)?S.then(u=>u?M:null):S?M:null};return x.requiresSiblings=!0,x}}return Y}function b(M,W){const N=M.filter(t=>!!t.basenames);if(N.length<2)return M;const Y=N.reduce((t,o)=>{const j=o.basenames;return j?t.concat(j):t},[]);let Q;if(W){Q=[];for(let t=0,o=Y.length;t<o;t++)Q.push(W)}else Q=N.reduce((t,o)=>{const j=o.patterns;return j?t.concat(j):t},[]);const x=function(t,o){if(typeof t!="string")return null;if(!o){let P;for(P=t.length;P>0;P--){const S=t.charCodeAt(P-1);if(S===47||S===92)break}o=t.substr(P)}const j=Y.indexOf(o);return j!==-1?Q[j]:null};x.basenames=Y,x.patterns=Q,x.allBasenames=Y;const q=M.filter(t=>!t.basenames);return q.push(x),q}function Z(M,W){return(0,U.$ub)(M,W,(N,Y)=>typeof N=="string"&&typeof Y=="string"?N===Y:typeof N!="string"&&typeof Y!="string"?N.base===Y.base&&N.pattern===Y.pattern:!1)}e.$Uj=Z;function le(M){return M.startsWith("{")&&M.endsWith("}")?M.slice(1,-1).split(","):[M]}function se({globsNewLineSeparated:M,properGlob:W}){const N=[];return M&&N.push(...M.split(`
`)),W&&N.push(...le(W)),N.filter(Y=>Y!=="").map(Y=>Y.match(/^[a-zA-Z0-9]/)?"*"+Y:Y)}e.$Vj=se;function _({globsNewLineSeparated:M,properGlob:W}){const N=se({globsNewLineSeparated:M,properGlob:W});if(N.length!==0)return`{${N.join(",")}}`}e.$Wj=_}),define(he[25],ce([0,1,3,2,5]),function(ue,e,U,D,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jG=e.$iG=e.$hG=void 0;let I;function F(){return I||(I=new TextDecoder("UTF-16LE")),I}let X;function v(){return X||(X=new TextDecoder("UTF-16BE")),X}let $;function y(){return $||($=D.$D()?F():v()),$}e.$hG=y;function V(g,a,l){const c=new Uint16Array(g.buffer,a,l);return l>0&&(c[0]===65279||c[0]===65534)?f(g,a,l):F().decode(c)}e.$iG=V;function f(g,a,l){const c=[];let n=0;for(let s=0;s<l;s++){const i=B.$me(g,a);a+=2,c[n++]=String.fromCharCode(i)}return c.join("")}class O{constructor(a){this.a=a|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const a=new Uint16Array(this.b.buffer,0,this.d);return y().decode(a)}f(){const a=this.e();this.d=0,this.c===null?this.c=[a]:this.c[this.c.length]=a}appendCharCode(a){const l=this.a-this.d;l<=1&&(l===0||U.$ff(a))&&this.f(),this.b[this.d++]=a}appendASCIICharCode(a){this.d===this.a&&this.f(),this.b[this.d++]=a}appendString(a){const l=a.length;if(this.d+l>=this.a){this.f(),this.c[this.c.length]=a;return}for(let c=0;c<l;c++)this.b[this.d++]=a.charCodeAt(c)}}e.$jG=O}),define(he[26],ce([0,1,5,25]),function(ue,e,U,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lG=e.$kG=void 0;function B(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor($,y,V,f){this.oldPosition=$,this.oldText=y,this.newPosition=V,this.newText=f}shift($){return new I(this.oldPosition+$,this.oldText,this.newPosition+$,this.newText)}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${B(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${B(this.oldText)}")`:`(replace@${this.oldPosition} "${B(this.oldText)}" with "${B(this.newText)}")`}static a($){return 4+2*$.length}static c($,y,V){const f=y.length;U.$pe($,f,V),V+=4;for(let O=0;O<f;O++)U.$ne($,y.charCodeAt(O),V),V+=2;return V}static d($,y){const V=U.$oe($,y);return y+=4,(0,D.$iG)($,y,V)}writeSize(){return 4+4+I.a(this.oldText)+I.a(this.newText)}write($,y){return U.$pe($,this.oldPosition,y),y+=4,U.$pe($,this.newPosition,y),y+=4,y=I.c($,this.oldText,y),y=I.c($,this.newText,y),y}static read($,y,V){const f=U.$oe($,y);y+=4;const O=U.$oe($,y);y+=4;const g=I.d($,y);y+=I.a(g);const a=I.d($,y);return y+=I.a(a),V.push(new I(f,g,O,a)),y}}e.$kG=I;function F(v,$){return v===null||v.length===0?$:new X(v,$).compress()}e.$lG=F;class X{constructor($,y){this.a=$,this.c=y,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let $=0,y=0,V=this.n($),f=this.l(y);for(;$<this.f||y<this.h;){if(V===null){this.k(f),f=this.l(++y);continue}if(f===null){this.m(V),V=this.n(++$);continue}if(f.oldEnd<=V.newPosition){this.k(f),f=this.l(++y);continue}if(V.newEnd<=f.oldPosition){this.m(V),V=this.n(++$);continue}if(f.oldPosition<V.newPosition){const[c,n]=X.r(f,V.newPosition-f.oldPosition);this.k(c),f=n;continue}if(V.newPosition<f.oldPosition){const[c,n]=X.q(V,f.oldPosition-V.newPosition);this.m(c),V=n;continue}let a,l;if(f.oldEnd===V.newEnd)a=V,l=f,V=this.n(++$),f=this.l(++y);else if(f.oldEnd<V.newEnd){const[c,n]=X.q(V,f.oldLength);a=c,l=f,V=n,f=this.l(++y)}else{const[c,n]=X.r(f,V.newLength);a=V,l=c,V=this.n(++$),f=n}this.d[this.e++]=new I(a.oldPosition,a.oldText,l.newPosition,l.newText),this.g+=a.newLength-a.oldLength,this.j+=l.newLength-l.oldLength}const O=X.s(this.d);return X.t(O)}k($){this.d[this.e++]=X.o(this.g,$),this.j+=$.newLength-$.oldLength}l($){return $<this.h?this.c[$]:null}m($){this.d[this.e++]=X.p(this.j,$),this.g+=$.newLength-$.oldLength}n($){return $<this.f?this.a[$]:null}static o($,y){return new I(y.oldPosition-$,y.oldText,y.newPosition,y.newText)}static p($,y){return new I(y.oldPosition,y.oldText,y.newPosition+$,y.newText)}static q($,y){const V=$.newText.substr(0,y),f=$.newText.substr(y);return[new I($.oldPosition,$.oldText,$.newPosition,V),new I($.oldEnd,"",$.newPosition+y,f)]}static r($,y){const V=$.oldText.substr(0,y),f=$.oldText.substr(y);return[new I($.oldPosition,V,$.newPosition,$.newText),new I($.oldPosition+y,f,$.newEnd,"")]}static s($){if($.length===0)return $;const y=[];let V=0,f=$[0];for(let O=1;O<$.length;O++){const g=$[O];f.oldEnd===g.oldPosition?f=new I(f.oldPosition,f.oldText+g.oldText,f.newPosition,f.newText+g.newText):(y[V++]=f,f=g)}return y[V++]=f,y}static t($){if($.length===0)return $;const y=[];let V=0;for(let f=0;f<$.length;f++){const O=$[f];O.oldText!==O.newText&&(y[V++]=O)}return y}}}),define(he[27],ce([28,29]),function(ue,e){return ue.create("vs/platform/contextkey/common/contextkey",e)}),define(he[30],ce([28,29]),function(ue,e){return ue.create("vs/platform/contextkey/common/scanner",e)}),define(he[31],ce([0,1,4,30]),function(ue,e,U,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3i=e.TokenType=void 0;var B;(function($){$[$.LParen=0]="LParen",$[$.RParen=1]="RParen",$[$.Neg=2]="Neg",$[$.Eq=3]="Eq",$[$.NotEq=4]="NotEq",$[$.Lt=5]="Lt",$[$.LtEq=6]="LtEq",$[$.Gt=7]="Gt",$[$.GtEq=8]="GtEq",$[$.RegexOp=9]="RegexOp",$[$.RegexStr=10]="RegexStr",$[$.True=11]="True",$[$.False=12]="False",$[$.In=13]="In",$[$.Not=14]="Not",$[$.And=15]="And",$[$.Or=16]="Or",$[$.Str=17]="Str",$[$.QuotedStr=18]="QuotedStr",$[$.Error=19]="Error",$[$.EOF=20]="EOF"})(B||(e.TokenType=B={}));function I(...$){switch($.length){case 1:return(0,D.localize)(0,null,$[0]);case 2:return(0,D.localize)(1,null,$[0],$[1]);case 3:return(0,D.localize)(2,null,$[0],$[1],$[2]);default:return}}const F=(0,D.localize)(3,null),X=(0,D.localize)(4,null);class v{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(y){switch(y.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return y.isTripleEq?"===":"==";case 4:return y.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return y.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return y.lexeme;case 18:return y.lexeme;case 19:return y.lexeme;case 20:return"EOF";default:throw(0,U.$8)(`unhandled token type: ${JSON.stringify(y)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(y=>y.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(y){return this.c=y,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const V=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:V})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const V=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:V})}else this.h(126)?this.k(9):this.l(I("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(I("&&"));break;case 124:this.h(124)?this.k(16):this.l(I("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(y){return this.r()||this.c.charCodeAt(this.e)!==y?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(y){this.f.push({type:y,offset:this.d})}l(y){const V=this.d,f=this.c.substring(this.d,this.e),O={type:19,offset:this.d,lexeme:f};this.g.push({offset:V,lexeme:f,additionalInfo:y}),this.f.push(O)}n(){this.m.lastIndex=this.d;const y=this.m.exec(this.c);if(y){this.e=this.d+y[0].length;const V=this.c.substring(this.d,this.e),f=v.b.get(V);f?this.k(f):this.f.push({type:17,lexeme:V,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(F);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let y=this.e,V=!1,f=!1;for(;;){if(y>=this.c.length){this.e=y,this.l(X);return}const g=this.c.charCodeAt(y);if(V)V=!1;else if(g===47&&!f){y++;break}else g===91?f=!0:g===92?V=!0:g===93&&(f=!1);y++}for(;y<this.c.length&&v.a.has(this.c.charCodeAt(y));)y++;this.e=y;const O=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:O,offset:this.d})}r(){return this.e>=this.c.length}}e.$3i=v}),define(he[32],ce([0,1]),function(ue,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5h=void 0;class U{constructor(B,I=[],F=!1){this.ctor=B,this.staticArguments=I,this.supportsDelayedInstantiation=F}}e.$5h=U}),define(he[33],ce([0,1,32]),function(ue,e,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$js=e.$is=e.InstantiationType=void 0;const D=[];var B;(function(X){X[X.Eager=0]="Eager",X[X.Delayed=1]="Delayed"})(B||(e.InstantiationType=B={}));function I(X,v,$){v instanceof U.$5h||(v=new U.$5h(v,[],!!$)),D.push([X,v])}e.$is=I;function F(){return D}e.$js=F}),define(he[11],ce([0,1]),function(ue,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9h=e.$8h=e.$7h=e._util=void 0;var U;(function(F){F.serviceIds=new Map,F.DI_TARGET="$di$target",F.DI_DEPENDENCIES="$di$dependencies";function X(v){return v[F.DI_DEPENDENCIES]||[]}F.getServiceDependencies=X})(U||(e._util=U={})),e.$7h=B("instantiationService");function D(F,X,v){X[U.DI_TARGET]===X?X[U.DI_DEPENDENCIES].push({id:F,index:v}):(X[U.DI_DEPENDENCIES]=[{id:F,index:v}],X[U.DI_TARGET]=X)}function B(F){if(U.serviceIds.has(F))return U.serviceIds.get(F);const X=function(v,$,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");D(X,v,y)};return X.toString=()=>F,U.serviceIds.set(F,X),X}e.$8h=B;function I(F){return F}e.$9h=I}),define(he[34],ce([0,1,2,3,31,11,27,4]),function(ue,e,U,D,B,I,F,X){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pj=e.$oj=e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=e.$7i=e.$6i=e.$5i=e.ContextKeyExprType=e.$4i=void 0;const v=new Map;v.set("false",!1),v.set("true",!0),v.set("isMac",U.$j),v.set("isLinux",U.$k),v.set("isWindows",U.$i),v.set("isWeb",U.$o),v.set("isMacNative",U.$j&&!U.$o),v.set("isEdge",U.$H),v.set("isFirefox",U.$F),v.set("isChrome",U.$E),v.set("isSafari",U.$G);function $(q,t){if(v.get(q)!==void 0)throw(0,X.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");v.set(q,t)}e.$4i=$;const y=Object.prototype.hasOwnProperty;var V;(function(q){q[q.False=0]="False",q[q.True=1]="True",q[q.Defined=2]="Defined",q[q.Not=3]="Not",q[q.Equals=4]="Equals",q[q.NotEquals=5]="NotEquals",q[q.And=6]="And",q[q.Regex=7]="Regex",q[q.NotRegex=8]="NotRegex",q[q.Or=9]="Or",q[q.In=10]="In",q[q.NotIn=11]="NotIn",q[q.Greater=12]="Greater",q[q.GreaterEquals=13]="GreaterEquals",q[q.Smaller=14]="Smaller",q[q.SmallerEquals=15]="SmallerEquals",q[q.Function=16]="Function"})(V||(e.ContextKeyExprType=V={}));const f={regexParsingWithErrorRecovery:!0},O=(0,F.localize)(0,null),g=(0,F.localize)(1,null),a=(0,F.localize)(2,null),l=(0,F.localize)(3,null),c=(0,F.localize)(4,null),n=(0,F.localize)(5,null),s=(0,F.localize)(6,null),i=(0,F.localize)(7,null);class r{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(t=f){this.k=t,this.d=new B.$3i,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(t){if(t===""){this.h.push({message:O,offset:0,lexeme:"",additionalInfo:g});return}this.f=this.d.reset(t).scan(),this.g=0,this.h=[];try{const o=this.l();if(!this.E()){const j=this.D(),P=j.type===17?n:void 0;throw this.h.push({message:c,offset:j.offset,lexeme:B.$3i.getLexeme(j),additionalInfo:P}),r.c}return o}catch(o){if(o!==r.c)throw o;return}}l(){return this.m()}m(){const t=[this.o()];for(;this.y(16);){const o=this.o();t.push(o)}return t.length===1?t[0]:h.or(...t)}o(){const t=[this.s()];for(;this.y(15);){const o=this.s();t.push(o)}return t.length===1?t[0]:h.and(...t)}s(){if(this.y(2)){const t=this.D();switch(t.type){case 11:return this.z(),d.INSTANCE;case 12:return this.z(),C.INSTANCE;case 0:{this.z();const o=this.l();return this.A(1,l),o?.negate()}case 17:return this.z(),H.create(t.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",t)}}return this.t()}t(){const t=this.D();switch(t.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const o=this.l();return this.A(1,l),o}case 17:{const o=t.lexeme;if(this.z(),this.y(9)){const P=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),P.type!==10)throw this.B("REGEX",P);const S=P.lexeme,u=S.lastIndexOf("/"),p=u===S.length-1?void 0:this.w(S.substring(u+1));let E;try{E=new RegExp(S.substring(1,u),p)}catch{throw this.B("REGEX",P)}return b.create(o,E)}switch(P.type){case 10:case 19:{const S=[P.lexeme];this.z();let u=this.D(),p=0;for(let ae=0;ae<P.lexeme.length;ae++)P.lexeme.charCodeAt(ae)===40?p++:P.lexeme.charCodeAt(ae)===41&&p--;for(;!this.E()&&u.type!==15&&u.type!==16;){switch(u.type){case 0:p++;break;case 1:p--;break;case 10:case 18:for(let ae=0;ae<u.lexeme.length;ae++)u.lexeme.charCodeAt(ae)===40?p++:P.lexeme.charCodeAt(ae)===41&&p--}if(p<0)break;S.push(B.$3i.getLexeme(u)),this.z(),u=this.D()}const E=S.join(""),G=E.lastIndexOf("/"),J=G===E.length-1?void 0:this.w(E.substring(G+1));let oe;try{oe=new RegExp(E.substring(1,G),J)}catch{throw this.B("REGEX",P)}return h.regex(o,oe)}case 18:{const S=P.lexeme;this.z();let u=null;if(!(0,D.$Le)(S)){const p=S.indexOf("/"),E=S.lastIndexOf("/");if(p!==E&&p>=0){const G=S.slice(p+1,E),J=S[E+1]==="i"?"i":"";try{u=new RegExp(G,J)}catch{throw this.B("REGEX",P)}}}if(u===null)throw this.B("REGEX",P);return b.create(o,u)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,a);const P=this.u();return h.notIn(o,P)}switch(this.D().type){case 3:{this.z();const P=this.u();if(this.x().type===18)return h.equals(o,P);switch(P){case"true":return h.has(o);case"false":return h.not(o);default:return h.equals(o,P)}}case 4:{this.z();const P=this.u();if(this.x().type===18)return h.notEquals(o,P);switch(P){case"true":return h.not(o);case"false":return h.has(o);default:return h.notEquals(o,P)}}case 5:return this.z(),re.create(o,this.u());case 6:return this.z(),ie.create(o,this.u());case 7:return this.z(),te.create(o,this.u());case 8:return this.z(),ne.create(o,this.u());case 13:return this.z(),h.in(o,this.u());default:return h.has(o)}}case 20:throw this.h.push({message:s,offset:t.offset,lexeme:"",additionalInfo:i}),r.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const t=this.D();switch(t.type){case 17:case 18:return this.z(),t.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(t){return t.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(t){return this.C(t)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(t,o){if(this.C(t))return this.z();throw this.B(o,this.D())}B(t,o,j){const P=(0,F.localize)(8,null,t,B.$3i.getLexeme(o)),S=o.offset,u=B.$3i.getLexeme(o);return this.h.push({message:P,offset:S,lexeme:u,additionalInfo:j}),r.c}C(t){return this.D().type===t}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$5i=r;class h{static false(){return d.INSTANCE}static true(){return C.INSTANCE}static has(t){return R.create(t)}static equals(t,o){return T.create(t,o)}static notEquals(t,o){return w.create(t,o)}static regex(t,o){return b.create(t,o)}static in(t,o){return K.create(t,o)}static notIn(t,o){return k.create(t,o)}static not(t){return H.create(t)}static and(...t){return se.create(t,null,!0)}static or(...t){return _.create(t,null,!0)}static greater(t,o){return te.create(t,o)}static greaterEquals(t,o){return ne.create(t,o)}static smaller(t,o){return re.create(t,o)}static smallerEquals(t,o){return ie.create(t,o)}static function(t){return z.create(t)}static{this.c=new r({regexParsingWithErrorRecovery:!1})}static deserialize(t){return t==null?void 0:this.c.parse(t)}}e.$6i=h;function m(q){const t=new r({regexParsingWithErrorRecovery:!1});return q.map(o=>(t.parse(o),t.lexingErrors.length>0?t.lexingErrors.map(j=>({errorMessage:j.additionalInfo?(0,F.localize)(9,null,j.additionalInfo):(0,F.localize)(10,null),offset:j.offset,length:j.lexeme.length})):t.parsingErrors.length>0?t.parsingErrors.map(j=>({errorMessage:j.additionalInfo?`${j.message}. ${j.additionalInfo}`:j.message,offset:j.offset,length:j.lexeme.length})):[]))}e.$7i=m;function L(q,t){const o=q?q.substituteConstants():void 0,j=t?t.substituteConstants():void 0;return!o&&!j?!0:!o||!j?!1:o.equals(j)}e.$8i=L;function A(q,t){return q.cmp(t)}class z{static create(t){return new z(t)}constructor(t){this.type=16,this.c=t}cmp(t){return this.type-t.type}equals(t){return t.type===this.type&&t.c===this.c}substituteConstants(){return this}evaluate(t){return this.c()}serialize(){return"(arbitrary function)"}keys(){return[]}map(t){return this}negate(){return new z(()=>!this.c())}}e.$9i=z;class d{static{this.INSTANCE=new d}constructor(){this.type=0}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!1}serialize(){return"false"}keys(){return[]}map(t){return this}negate(){return C.INSTANCE}}e.$0i=d;class C{static{this.INSTANCE=new C}constructor(){this.type=1}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!0}serialize(){return"true"}keys(){return[]}map(t){return this}negate(){return d.INSTANCE}}e.$$i=C;class R{static create(t,o=null){const j=v.get(t);return typeof j=="boolean"?j?C.INSTANCE:d.INSTANCE:new R(t,o)}constructor(t,o){this.key=t,this.c=o,this.type=2}cmp(t){return t.type!==this.type?this.type-t.type:W(this.key,t.key)}equals(t){return t.type===this.type?this.key===t.key:!1}substituteConstants(){const t=v.get(this.key);return typeof t=="boolean"?t?C.INSTANCE:d.INSTANCE:this}evaluate(t){return!!t.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(t){return t.mapDefined(this.key)}negate(){return this.c||(this.c=H.create(this.key,this)),this.c}}e.$_i=R;class T{static create(t,o,j=null){if(typeof o=="boolean")return o?R.create(t,j):H.create(t,j);const P=v.get(t);return typeof P=="boolean"?o===(P?"true":"false")?C.INSTANCE:d.INSTANCE:new T(t,o,j)}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=4}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=v.get(this.c);if(typeof t=="boolean"){const o=t?"true":"false";return this.d===o?C.INSTANCE:d.INSTANCE}return this}evaluate(t){return t.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(t){return t.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=w.create(this.c,this.d,this)),this.f}}e.$aj=T;class K{static create(t,o){return new K(t,o)}constructor(t,o){this.d=t,this.f=o,this.type=10,this.c=null}cmp(t){return t.type!==this.type?this.type-t.type:N(this.d,this.f,t.d,t.f)}equals(t){return t.type===this.type?this.d===t.d&&this.f===t.f:!1}substituteConstants(){return this}evaluate(t){const o=t.getValue(this.f),j=t.getValue(this.d);return Array.isArray(o)?o.includes(j):typeof j=="string"&&typeof o=="object"&&o!==null?y.call(o,j):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(t){return t.mapIn(this.d,this.f)}negate(){return this.c||(this.c=k.create(this.d,this.f)),this.c}}e.$bj=K;class k{static create(t,o){return new k(t,o)}constructor(t,o){this.d=t,this.f=o,this.type=11,this.c=K.create(t,o)}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(t){return t.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$cj=k;class w{static create(t,o,j=null){if(typeof o=="boolean")return o?H.create(t,j):R.create(t,j);const P=v.get(t);return typeof P=="boolean"?o===(P?"true":"false")?d.INSTANCE:C.INSTANCE:new w(t,o,j)}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=5}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=v.get(this.c);if(typeof t=="boolean"){const o=t?"true":"false";return this.d===o?d.INSTANCE:C.INSTANCE}return this}evaluate(t){return t.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(t){return t.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=T.create(this.c,this.d,this)),this.f}}e.$dj=w;class H{static create(t,o=null){const j=v.get(t);return typeof j=="boolean"?j?d.INSTANCE:C.INSTANCE:new H(t,o)}constructor(t,o){this.c=t,this.d=o,this.type=3}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,t.c)}equals(t){return t.type===this.type?this.c===t.c:!1}substituteConstants(){const t=v.get(this.c);return typeof t=="boolean"?t?d.INSTANCE:C.INSTANCE:this}evaluate(t){return!t.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(t){return t.mapNot(this.c)}negate(){return this.d||(this.d=R.create(this.c,this)),this.d}}e.$ej=H;function ee(q,t){if(typeof q=="string"){const o=parseFloat(q);isNaN(o)||(q=o)}return typeof q=="string"||typeof q=="number"?t(q):d.INSTANCE}class te{static create(t,o,j=null){return ee(o,P=>new te(t,P,j))}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=12}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$fj=te;class ne{static create(t,o,j=null){return ee(o,P=>new ne(t,P,j))}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=13}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$gj=ne;class re{static create(t,o,j=null){return ee(o,P=>new re(t,P,j))}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=14}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=ne.create(this.c,this.d,this)),this.f}}e.$hj=re;class ie{static create(t,o,j=null){return ee(o,P=>new ie(t,P,j))}constructor(t,o,j){this.c=t,this.d=o,this.f=j,this.type=15}cmp(t){return t.type!==this.type?this.type-t.type:N(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=te.create(this.c,this.d,this)),this.f}}e.$ij=ie;class b{static create(t,o){return new b(t,o)}constructor(t,o){this.d=t,this.f=o,this.type=7,this.c=null}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.d<t.d)return-1;if(this.d>t.d)return 1;const o=this.f?this.f.source:"",j=t.f?t.f.source:"";return o<j?-1:o>j?1:0}equals(t){if(t.type===this.type){const o=this.f?this.f.source:"",j=t.f?t.f.source:"";return this.d===t.d&&o===j}return!1}substituteConstants(){return this}evaluate(t){const o=t.getValue(this.d);return this.f?this.f.test(o):!1}serialize(){const t=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${t}`}keys(){return[this.d]}map(t){return t.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=Z.create(this)),this.c}}e.$jj=b;class Z{static create(t){return new Z(t)}constructor(t){this.c=t,this.type=8}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(t){return new Z(this.c.map(t))}negate(){return this.c}}e.$kj=Z;function le(q){let t=null;for(let o=0,j=q.length;o<j;o++){const P=q[o].substituteConstants();if(q[o]!==P&&t===null){t=[];for(let S=0;S<o;S++)t[S]=q[S]}t!==null&&(t[o]=P)}return t===null?q:t}class se{static create(t,o,j){return se.d(t,o,j)}constructor(t,o){this.expr=t,this.c=o,this.type=6}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let o=0,j=this.expr.length;o<j;o++){const P=A(this.expr[o],t.expr[o]);if(P!==0)return P}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let o=0,j=this.expr.length;o<j;o++)if(!this.expr[o].equals(t.expr[o]))return!1;return!0}return!1}substituteConstants(){const t=le(this.expr);return t===this.expr?this:se.create(t,this.c,!1)}evaluate(t){for(let o=0,j=this.expr.length;o<j;o++)if(!this.expr[o].evaluate(t))return!1;return!0}static d(t,o,j){const P=[];let S=!1;for(const u of t)if(u){if(u.type===1){S=!0;continue}if(u.type===0)return d.INSTANCE;if(u.type===6){P.push(...u.expr);continue}P.push(u)}if(P.length===0&&S)return C.INSTANCE;if(P.length!==0){if(P.length===1)return P[0];P.sort(A);for(let u=1;u<P.length;u++)P[u-1].equals(P[u])&&(P.splice(u,1),u--);if(P.length===1)return P[0];for(;P.length>1;){const u=P[P.length-1];if(u.type!==9)break;P.pop();const p=P.pop(),E=P.length===0,G=_.create(u.expr.map(J=>se.create([J,p],null,j)),null,E);G&&(P.push(G),P.sort(A))}if(P.length===1)return P[0];if(j){for(let u=0;u<P.length;u++)for(let p=u+1;p<P.length;p++)if(P[u].negate().equals(P[p]))return d.INSTANCE;if(P.length===1)return P[0]}return new se(P,o)}}serialize(){return this.expr.map(t=>t.serialize()).join(" && ")}keys(){const t=[];for(const o of this.expr)t.push(...o.keys());return t}map(t){return new se(this.expr.map(o=>o.map(t)),null)}negate(){if(!this.c){const t=[];for(const o of this.expr)t.push(o.negate());this.c=_.create(t,this,!0)}return this.c}}e.$lj=se;class _{static create(t,o,j){return _.d(t,o,j)}constructor(t,o){this.expr=t,this.c=o,this.type=9}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let o=0,j=this.expr.length;o<j;o++){const P=A(this.expr[o],t.expr[o]);if(P!==0)return P}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let o=0,j=this.expr.length;o<j;o++)if(!this.expr[o].equals(t.expr[o]))return!1;return!0}return!1}substituteConstants(){const t=le(this.expr);return t===this.expr?this:_.create(t,this.c,!1)}evaluate(t){for(let o=0,j=this.expr.length;o<j;o++)if(this.expr[o].evaluate(t))return!0;return!1}static d(t,o,j){let P=[],S=!1;if(t){for(let u=0,p=t.length;u<p;u++){const E=t[u];if(E){if(E.type===0){S=!0;continue}if(E.type===1)return C.INSTANCE;if(E.type===9){P=P.concat(E.expr);continue}P.push(E)}}if(P.length===0&&S)return d.INSTANCE;P.sort(A)}if(P.length!==0){if(P.length===1)return P[0];for(let u=1;u<P.length;u++)P[u-1].equals(P[u])&&(P.splice(u,1),u--);if(P.length===1)return P[0];if(j){for(let u=0;u<P.length;u++)for(let p=u+1;p<P.length;p++)if(P[u].negate().equals(P[p]))return C.INSTANCE;if(P.length===1)return P[0]}return new _(P,o)}}serialize(){return this.expr.map(t=>t.serialize()).join(" || ")}keys(){const t=[];for(const o of this.expr)t.push(...o.keys());return t}map(t){return new _(this.expr.map(o=>o.map(t)),null)}negate(){if(!this.c){const t=[];for(const o of this.expr)t.push(o.negate());for(;t.length>1;){const o=t.shift(),j=t.shift(),P=[];for(const S of x(o))for(const u of x(j))P.push(se.create([S,u],null,!1));t.unshift(_.create(P,null,!1))}this.c=_.create(t,this,!0)}return this.c}}e.$mj=_;class M extends R{static{this.d=[]}static all(){return M.d.values()}constructor(t,o,j){super(t,null),this.f=o,typeof j=="object"?M.d.push({...j,key:t}):j!==!0&&M.d.push({key:t,description:j,type:o!=null?typeof o:void 0})}bindTo(t){return t.createKey(this.key,this.f)}getValue(t){return t.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(t){return T.create(this.key,t)}notEqualsTo(t){return w.create(this.key,t)}}e.$nj=M,e.$oj=(0,I.$8h)("contextKeyService");function W(q,t){return q<t?-1:q>t?1:0}function N(q,t,o,j){return q<o?-1:q>o?1:t<j?-1:t>j?1:0}function Y(q,t){if(q.type===0||t.type===1)return!0;if(q.type===9)return t.type===9?Q(q.expr,t.expr):!1;if(t.type===9){for(const o of t.expr)if(Y(q,o))return!0;return!1}if(q.type===6){if(t.type===6)return Q(t.expr,q.expr);for(const o of q.expr)if(Y(o,t))return!0;return!1}return q.equals(t)}e.$pj=Y;function Q(q,t){let o=0,j=0;for(;o<q.length&&j<t.length;){const P=q[o].cmp(t[j]);if(P<0)return!1;P===0&&o++,j++}return o===q.length}function x(q){return q.type===9?q.expr:[q]}}),define(he[12],ce([0,1,44,13,35,18,36]),function(ue,e,U,D,B,I,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jP=e.$iP=e.$hP=e.$gP=e.$fP=void 0;const X=65535;function v(c){let n;return c[c.length-1]<65536?n=new Uint16Array(c.length):n=new Uint32Array(c.length),n.set(c,0),n}class ${constructor(n,s,i,r,h){this.lineStarts=n,this.cr=s,this.lf=i,this.crlf=r,this.isBasicASCII=h}}function y(c,n=!0){const s=[0];let i=1;for(let r=0,h=c.length;r<h;r++){const m=c.charCodeAt(r);m===13?r+1<h&&c.charCodeAt(r+1)===10?(s[i++]=r+2,r++):s[i++]=r+1:m===10&&(s[i++]=r+1)}return n?v(s):s}e.$fP=y;function V(c,n){c.length=0,c[0]=0;let s=1,i=0,r=0,h=0,m=!0;for(let A=0,z=n.length;A<z;A++){const d=n.charCodeAt(A);d===13?A+1<z&&n.charCodeAt(A+1)===10?(h++,c[s++]=A+2,A++):(i++,c[s++]=A+1):d===10?(r++,c[s++]=A+1):m&&d!==9&&(d<32||d>126)&&(m=!1)}const L=new $(v(c),i,r,h,m);return c.length=0,L}e.$gP=V;class f{constructor(n,s,i,r,h){this.bufferIndex=n,this.start=s,this.end=i,this.lineFeedCnt=r,this.length=h}}e.$hP=f;class O{constructor(n,s){this.buffer=n,this.lineStarts=s}}e.$iP=O;class g{constructor(n,s){this.a=[],this.c=n,this.d=s,this.b=0,n.root!==I.$3O&&n.iterate(n.root,i=>(i!==I.$3O&&this.a.push(i.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class a{constructor(n){this.a=n,this.b=[]}get(n){for(let s=this.b.length-1;s>=0;s--){const i=this.b[s];if(i.nodeStartOffset<=n&&i.nodeStartOffset+i.node.piece.length>=n)return i}return null}get2(n){for(let s=this.b.length-1;s>=0;s--){const i=this.b[s];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<n&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=n)return i}return null}set(n){this.b.length>=this.a&&this.b.shift(),this.b.push(n)}validate(n){let s=!1;const i=this.b;for(let r=0;r<i.length;r++){const h=i[r];if(h.node.parent===null||h.nodeStartOffset>=n){i[r]=null,s=!0;continue}}if(s){const r=[];for(const h of i)h!==null&&r.push(h);this.b=r}}}class l{constructor(n,s,i){this.create(n,s,i)}create(n,s,i){this.a=[new O("",[0])],this.g={line:0,column:0},this.root=I.$3O,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=i;let r=null;for(let h=0,m=n.length;h<m;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=y(n[h].buffer));const L=new f(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this.a.push(n[h]),r=this.S(r,L)}this.h=new a(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(n){const s=X,i=s-Math.floor(s/3),r=i*2;let h="",m=0;const L=[];if(this.iterate(this.root,A=>{const z=this.R(A),d=z.length;if(m<=i||m+d<r)return h+=z,m+=d,!0;const C=h.replace(/\r\n|\r|\n/g,n);return L.push(new O(C,y(C))),h=z,m=d,!0}),m>0){const A=h.replace(/\r\n|\r|\n/g,n);L.push(new O(A,y(A)))}this.create(L,n,!0)}getEOL(){return this.d}setEOL(n){this.d=n,this.e=this.d.length,this.normalizeEOL(n)}createSnapshot(n){return new g(this,n)}equal(n){if(this.getLength()!==n.getLength()||this.getLineCount()!==n.getLineCount())return!1;let s=0;return this.iterate(this.root,r=>{if(r===I.$3O)return!0;const h=this.R(r),m=h.length,L=n.G(s),A=n.G(s+m),z=n.getValueInRange2(L,A);return s+=m,h===z})}getOffsetAt(n,s){let i=0,r=this.root;for(;r!==I.$3O;)if(r.left!==I.$3O&&r.lf_left+1>=n)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=n){i+=r.size_left;const h=this.B(r,n-r.lf_left-2);return i+=h+s-1}else n-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let s=this.root,i=0;const r=n;for(;s!==I.$3O;)if(s.size_left!==0&&s.size_left>=n)s=s.left;else if(s.size_left+s.piece.length>=n){const h=this.A(s,n-s.size_left);if(i+=s.lf_left+h.index,h.index===0){const m=this.getOffsetAt(i+1,1),L=r-m;return new U.$dt(i+1,L+1)}return new U.$dt(i+1,h.remainder+1)}else if(n-=s.size_left+s.piece.length,i+=s.lf_left+s.piece.lineFeedCnt,s.right===I.$3O){const h=this.getOffsetAt(i+1,1),m=r-n-h;return new U.$dt(i+1,m+1)}else s=s.right;return new U.$dt(1,1)}getValueInRange(n,s){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const i=this.H(n.startLineNumber,n.startColumn),r=this.H(n.endLineNumber,n.endColumn),h=this.getValueInRange2(i,r);return s?s!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(n,s){if(n.node===s.node){const L=n.node,A=this.a[L.piece.bufferIndex].buffer,z=this.u(L.piece.bufferIndex,L.piece.start);return A.substring(z+n.remainder,z+s.remainder)}let i=n.node;const r=this.a[i.piece.bufferIndex].buffer,h=this.u(i.piece.bufferIndex,i.piece.start);let m=r.substring(h+n.remainder,h+i.piece.length);for(i=i.next();i!==I.$3O;){const L=this.a[i.piece.bufferIndex].buffer,A=this.u(i.piece.bufferIndex,i.piece.start);if(i===s.node){m+=L.substring(A,A+s.remainder);break}else m+=L.substr(A,i.piece.length);i=i.next()}return m}getLinesContent(){const n=[];let s=0,i="",r=!1;return this.iterate(this.root,h=>{if(h===I.$3O)return!0;const m=h.piece;let L=m.length;if(L===0)return!0;const A=this.a[m.bufferIndex].buffer,z=this.a[m.bufferIndex].lineStarts,d=m.start.line,C=m.end.line;let R=z[d]+m.start.column;if(r&&(A.charCodeAt(R)===10&&(R++,L--),n[s++]=i,i="",r=!1,L===0))return!0;if(d===C)return!this.f&&A.charCodeAt(R+L-1)===13?(r=!0,i+=A.substr(R,L-1)):i+=A.substr(R,L),!0;i+=this.f?A.substring(R,Math.max(R,z[d+1]-this.e)):A.substring(R,z[d+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=i;for(let T=d+1;T<C;T++)i=this.f?A.substring(z[T],z[T+1]-this.e):A.substring(z[T],z[T+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=i;return!this.f&&A.charCodeAt(z[C]+m.end.column-1)===13?(r=!0,m.end.column===0?s--:i=A.substr(z[C],m.end.column-1)):i=A.substr(z[C],m.end.column),!0}),r&&(n[s++]=i,i=""),n[s++]=i,n}getLength(){return this.c}getLineCount(){return this.b}getLineContent(n){return this.j.lineNumber===n?this.j.value:(this.j.lineNumber=n,n===this.b?this.j.value=this.getLineRawContent(n):this.f?this.j.value=this.getLineRawContent(n,this.e):this.j.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(n){if(n.remainder===n.node.piece.length){const s=n.node.next();if(!s)return 0;const i=this.a[s.piece.bufferIndex],r=this.u(s.piece.bufferIndex,s.piece.start);return i.buffer.charCodeAt(r)}else{const s=this.a[n.node.piece.bufferIndex],r=this.u(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return s.buffer.charCodeAt(r)}}getLineCharCode(n,s){const i=this.H(n,s+1);return this.l(i)}getLineLength(n){if(n===this.getLineCount()){const s=this.getOffsetAt(n,1);return this.getLength()-s}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this.e}getCharCode(n){const s=this.G(n);return this.l(s)}findMatchesInNode(n,s,i,r,h,m,L,A,z,d,C){const R=this.a[n.piece.bufferIndex],T=this.u(n.piece.bufferIndex,n.piece.start),K=this.u(n.piece.bufferIndex,h),k=this.u(n.piece.bufferIndex,m);let w;const H={line:0,column:0};let ee,te;s._wordSeparators?(ee=R.buffer.substring(K,k),te=ne=>ne+K,s.reset(0)):(ee=R.buffer,te=ne=>ne,s.reset(K));do if(w=s.next(ee),w){if(te(w.index)>=k)return d;this.s(n,te(w.index)-T,H);const ne=this.t(n.piece.bufferIndex,h,H),re=H.line===h.line?H.column-h.column+r:H.column+1,ie=re+w[0].length;if(C[d++]=(0,F.$bP)(new D.$2F(i+ne,re,i+ne,ie),w,A),te(w.index)+w[0].length>=k||d>=z)return d}while(w);return d}findMatchesLineByLine(n,s,i,r){const h=[];let m=0;const L=new F.$eP(s.wordSeparators,s.regex);let A=this.H(n.startLineNumber,n.startColumn);if(A===null)return[];const z=this.H(n.endLineNumber,n.endColumn);if(z===null)return[];let d=this.s(A.node,A.remainder);const C=this.s(z.node,z.remainder);if(A.node===z.node)return this.findMatchesInNode(A.node,L,n.startLineNumber,n.startColumn,d,C,s,i,r,m,h),h;let R=n.startLineNumber,T=A.node;for(;T!==z.node;){const k=this.t(T.piece.bufferIndex,d,T.piece.end);if(k>=1){const H=this.a[T.piece.bufferIndex].lineStarts,ee=this.u(T.piece.bufferIndex,T.piece.start),te=H[d.line+k],ne=R===n.startLineNumber?n.startColumn:1;if(m=this.findMatchesInNode(T,L,R,ne,d,this.s(T,te-ee),s,i,r,m,h),m>=r)return h;R+=k}const w=R===n.startLineNumber?n.startColumn-1:0;if(R===n.endLineNumber){const H=this.getLineContent(R).substring(w,n.endColumn-1);return m=this.n(s,L,H,n.endLineNumber,w,m,h,i,r),h}if(m=this.n(s,L,this.getLineContent(R).substr(w),R,w,m,h,i,r),m>=r)return h;R++,A=this.H(R,1),T=A.node,d=this.s(A.node,A.remainder)}if(R===n.endLineNumber){const k=R===n.startLineNumber?n.startColumn-1:0,w=this.getLineContent(R).substring(k,n.endColumn-1);return m=this.n(s,L,w,n.endLineNumber,k,m,h,i,r),h}const K=R===n.startLineNumber?n.startColumn:1;return m=this.findMatchesInNode(z.node,L,R,K,d,C,s,i,r,m,h),h}n(n,s,i,r,h,m,L,A,z){const d=n.wordSeparators;if(!A&&n.simpleSearch){const R=n.simpleSearch,T=R.length,K=i.length;let k=-T;for(;(k=i.indexOf(R,k+T))!==-1;)if((!d||(0,F.$dP)(d,i,K,k,T))&&(L[m++]=new B.$iI(new D.$2F(r,k+1+h,r,k+1+T+h),null),m>=z))return m;return m}let C;s.reset(0);do if(C=s.next(i),C&&(L[m++]=(0,F.$bP)(new D.$2F(r,C.index+1+h,r,C.index+1+C[0].length+h),C,A),m>=z))return m;while(C);return m}insert(n,s,i=!1){if(this.f=this.f&&i,this.j.lineNumber=0,this.j.value="",this.root!==I.$3O){const{node:r,remainder:h,nodeStartOffset:m}=this.G(n),L=r.piece,A=L.bufferIndex,z=this.s(r,h);if(r.piece.bufferIndex===0&&L.end.line===this.g.line&&L.end.column===this.g.column&&m+L.length===n&&s.length<X){this.F(r,s),this.y();return}if(m===n)this.o(s,r),this.h.validate(n);else if(m+r.piece.length>n){const d=[];let C=new f(L.bufferIndex,z,L.end,this.t(L.bufferIndex,z,L.end),this.u(A,L.end)-this.u(A,z));if(this.K()&&this.M(s)&&this.I(r,h)===10){const k={line:C.start.line+1,column:0};C=new f(C.bufferIndex,k,C.end,this.t(C.bufferIndex,k,C.end),C.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(r,h-1)===13){const k=this.s(r,h-1);this.C(r,k),s="\r"+s,r.piece.length===0&&d.push(r)}else this.C(r,z);else this.C(r,z);const R=this.w(s);C.length>0&&this.S(r,C);let T=r;for(let K=0;K<R.length;K++)T=this.S(T,R[K]);this.v(d)}else this.q(s,r)}else{const r=this.w(s);let h=this.T(null,r[0]);for(let m=1;m<r.length;m++)h=this.S(h,r[m])}this.y()}delete(n,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===I.$3O)return;const i=this.G(n),r=this.G(n+s),h=i.node,m=r.node;if(h===m){const R=this.s(h,i.remainder),T=this.s(h,r.remainder);if(i.nodeStartOffset===n){if(s===h.piece.length){const K=h.next();(0,I.$8O)(this,h),this.N(K),this.y();return}this.D(h,T),this.h.validate(n),this.N(h),this.y();return}if(i.nodeStartOffset+h.piece.length===n+s){this.C(h,R),this.O(h),this.y();return}this.E(h,R,T),this.y();return}const L=[],A=this.s(h,i.remainder);this.C(h,A),this.h.validate(n),h.piece.length===0&&L.push(h);const z=this.s(m,r.remainder);this.D(m,z),m.piece.length===0&&L.push(m);const d=h.next();for(let R=d;R!==I.$3O&&R!==m;R=R.next())L.push(R);const C=h.piece.length===0?h.prev():h;this.v(L),this.O(C),this.y()}o(n,s){const i=[];if(this.K()&&this.M(n)&&this.L(s)){const m=s.piece,L={line:m.start.line+1,column:0},A=new f(m.bufferIndex,L,m.end,this.t(m.bufferIndex,L,m.end),m.length-1);s.piece=A,n+=`
`,(0,I.$0O)(this,s,-1,-1),s.piece.length===0&&i.push(s)}const r=this.w(n);let h=this.T(s,r[r.length-1]);for(let m=r.length-2;m>=0;m--)h=this.T(h,r[m]);this.N(h),this.v(i)}q(n,s){this.Q(n,s)&&(n+=`
`);const i=this.w(n),r=this.S(s,i[0]);let h=r;for(let m=1;m<i.length;m++)h=this.S(h,i[m]);this.N(r)}s(n,s,i){const r=n.piece,h=n.piece.bufferIndex,m=this.a[h].lineStarts,A=m[r.start.line]+r.start.column+s;let z=r.start.line,d=r.end.line,C=0,R=0,T=0;for(;z<=d&&(C=z+(d-z)/2|0,T=m[C],C!==d);)if(R=m[C+1],A<T)d=C-1;else if(A>=R)z=C+1;else break;return i?(i.line=C,i.column=A-T,null):{line:C,column:A-T}}t(n,s,i){if(i.column===0)return i.line-s.line;const r=this.a[n].lineStarts;if(i.line===r.length-1)return i.line-s.line;const h=r[i.line+1],m=r[i.line]+i.column;if(h>m+1)return i.line-s.line;const L=m-1;return this.a[n].buffer.charCodeAt(L)===13?i.line-s.line+1:i.line-s.line}u(n,s){return this.a[n].lineStarts[s.line]+s.column}v(n){for(let s=0;s<n.length;s++)(0,I.$8O)(this,n[s])}w(n){if(n.length>X){const d=[];for(;n.length>X;){const R=n.charCodeAt(X-1);let T;R===13||R>=55296&&R<=56319?(T=n.substring(0,X-1),n=n.substring(X-1)):(T=n.substring(0,X),n=n.substring(X));const K=y(T);d.push(new f(this.a.length,{line:0,column:0},{line:K.length-1,column:T.length-K[K.length-1]},K.length-1,T.length)),this.a.push(new O(T,K))}const C=y(n);return d.push(new f(this.a.length,{line:0,column:0},{line:C.length-1,column:n.length-C[C.length-1]},C.length-1,n.length)),this.a.push(new O(n,C)),d}let s=this.a[0].buffer.length;const i=y(n,!1);let r=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(n)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},r=this.g;for(let d=0;d<i.length;d++)i[d]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+="_"+n,s+=1}else{if(s!==0)for(let d=0;d<i.length;d++)i[d]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+=n}const h=this.a[0].buffer.length,m=this.a[0].lineStarts.length-1,L=h-this.a[0].lineStarts[m],A={line:m,column:L},z=new f(0,r,A,this.t(0,r,A),h-s);return this.g=A,[z]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(n,s=0){let i=this.root,r="";const h=this.h.get2(n);if(h){i=h.node;const m=this.B(i,n-h.nodeStartLineNumber-1),L=this.a[i.piece.bufferIndex].buffer,A=this.u(i.piece.bufferIndex,i.piece.start);if(h.nodeStartLineNumber+i.piece.lineFeedCnt===n)r=L.substring(A+m,A+i.piece.length);else{const z=this.B(i,n-h.nodeStartLineNumber);return L.substring(A+m,A+z-s)}}else{let m=0;const L=n;for(;i!==I.$3O;)if(i.left!==I.$3O&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const A=this.B(i,n-i.lf_left-2),z=this.B(i,n-i.lf_left-1),d=this.a[i.piece.bufferIndex].buffer,C=this.u(i.piece.bufferIndex,i.piece.start);return m+=i.size_left,this.h.set({node:i,nodeStartOffset:m,nodeStartLineNumber:L-(n-1-i.lf_left)}),d.substring(C+A,C+z-s)}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const A=this.B(i,n-i.lf_left-2),z=this.a[i.piece.bufferIndex].buffer,d=this.u(i.piece.bufferIndex,i.piece.start);r=z.substring(d+A,d+i.piece.length);break}else n-=i.lf_left+i.piece.lineFeedCnt,m+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==I.$3O;){const m=this.a[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const L=this.B(i,0),A=this.u(i.piece.bufferIndex,i.piece.start);return r+=m.substring(A,A+L-s),r}else{const L=this.u(i.piece.bufferIndex,i.piece.start);r+=m.substr(L,i.piece.length)}i=i.next()}return r}y(){let n=this.root,s=1,i=0;for(;n!==I.$3O;)s+=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;this.b=s,this.c=i,this.h.validate(this.c)}A(n,s){const i=n.piece,r=this.s(n,s),h=r.line-i.start.line;if(this.u(i.bufferIndex,i.end)-this.u(i.bufferIndex,i.start)===s){const m=this.t(n.piece.bufferIndex,i.start,r);if(m!==h)return{index:m,remainder:0}}return{index:h,remainder:r.column}}B(n,s){if(s<0)return 0;const i=n.piece,r=this.a[i.bufferIndex].lineStarts,h=i.start.line+s+1;return h>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[h]-r[i.start.line]-i.start.column}C(n,s){const i=n.piece,r=i.lineFeedCnt,h=this.u(i.bufferIndex,i.end),m=s,L=this.u(i.bufferIndex,m),A=this.t(i.bufferIndex,i.start,m),z=A-r,d=L-h,C=i.length+d;n.piece=new f(i.bufferIndex,i.start,m,A,C),(0,I.$0O)(this,n,d,z)}D(n,s){const i=n.piece,r=i.lineFeedCnt,h=this.u(i.bufferIndex,i.start),m=s,L=this.t(i.bufferIndex,m,i.end),A=this.u(i.bufferIndex,m),z=L-r,d=h-A,C=i.length+d;n.piece=new f(i.bufferIndex,m,i.end,L,C),(0,I.$0O)(this,n,d,z)}E(n,s,i){const r=n.piece,h=r.start,m=r.end,L=r.length,A=r.lineFeedCnt,z=s,d=this.t(r.bufferIndex,r.start,z),C=this.u(r.bufferIndex,s)-this.u(r.bufferIndex,h);n.piece=new f(r.bufferIndex,r.start,z,d,C),(0,I.$0O)(this,n,C-L,d-A);const R=new f(r.bufferIndex,i,m,this.t(r.bufferIndex,i,m),this.u(r.bufferIndex,m)-this.u(r.bufferIndex,i)),T=this.S(n,R);this.N(T)}F(n,s){this.Q(s,n)&&(s+=`
`);const i=this.K()&&this.L(s)&&this.M(n),r=this.a[0].buffer.length;this.a[0].buffer+=s;const h=y(s,!1);for(let T=0;T<h.length;T++)h[T]+=r;if(i){const T=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:r-T}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const m=this.a[0].lineStarts.length-1,L=this.a[0].buffer.length-this.a[0].lineStarts[m],A={line:m,column:L},z=n.piece.length+s.length,d=n.piece.lineFeedCnt,C=this.t(0,n.piece.start,A),R=C-d;n.piece=new f(n.piece.bufferIndex,n.piece.start,A,C,z),this.g=A,(0,I.$0O)(this,n,s.length,R)}G(n){let s=this.root;const i=this.h.get(n);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:n-i.nodeStartOffset};let r=0;for(;s!==I.$3O;)if(s.size_left>n)s=s.left;else if(s.size_left+s.piece.length>=n){r+=s.size_left;const h={node:s,remainder:n-s.size_left,nodeStartOffset:r};return this.h.set(h),h}else n-=s.size_left+s.piece.length,r+=s.size_left+s.piece.length,s=s.right;return null}H(n,s){let i=this.root,r=0;for(;i!==I.$3O;)if(i.left!==I.$3O&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const h=this.B(i,n-i.lf_left-2),m=this.B(i,n-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(h+s-1,m),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const h=this.B(i,n-i.lf_left-2);if(h+s-1<=i.piece.length)return{node:i,remainder:h+s-1,nodeStartOffset:r};s-=i.piece.length-h;break}else n-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==I.$3O;){if(i.piece.lineFeedCnt>0){const h=this.B(i,0),m=this.J(i);return{node:i,remainder:Math.min(s-1,h),nodeStartOffset:m}}else if(i.piece.length>=s-1){const h=this.J(i);return{node:i,remainder:s-1,nodeStartOffset:h}}else s-=i.piece.length;i=i.next()}return null}I(n,s){if(n.piece.lineFeedCnt<1)return-1;const i=this.a[n.piece.bufferIndex],r=this.u(n.piece.bufferIndex,n.piece.start)+s;return i.buffer.charCodeAt(r)}J(n){if(!n)return 0;let s=n.size_left;for(;n!==this.root;)n.parent.right===n&&(s+=n.parent.size_left+n.parent.piece.length),n=n.parent;return s}K(){return!(this.f&&this.d===`
`)}L(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===I.$3O||n.piece.lineFeedCnt===0)return!1;const s=n.piece,i=this.a[s.bufferIndex].lineStarts,r=s.start.line,h=i[r]+s.start.column;return r===i.length-1||i[r+1]>h+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(h)===10}M(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===I.$3O||n.piece.lineFeedCnt===0?!1:this.I(n,n.piece.length-1)===13}N(n){if(this.K()&&this.L(n)){const s=n.prev();this.M(s)&&this.P(s,n)}}O(n){if(this.K()&&this.M(n)){const s=n.next();this.L(s)&&this.P(n,s)}}P(n,s){const i=[],r=this.a[n.piece.bufferIndex].lineStarts;let h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:r[n.piece.end.line]-r[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const m=n.piece.length-1,L=n.piece.lineFeedCnt-1;n.piece=new f(n.piece.bufferIndex,n.piece.start,h,L,m),(0,I.$0O)(this,n,-1,-1),n.piece.length===0&&i.push(n);const A={line:s.piece.start.line+1,column:0},z=s.piece.length-1,d=this.t(s.piece.bufferIndex,A,s.piece.end);s.piece=new f(s.piece.bufferIndex,A,s.piece.end,d,z),(0,I.$0O)(this,s,-1,-1),s.piece.length===0&&i.push(s);const C=this.w(`\r
`);this.S(n,C[0]);for(let R=0;R<i.length;R++)(0,I.$8O)(this,i[R])}Q(n,s){if(this.K()&&this.M(n)){const i=s.next();if(this.L(i)){if(n+=`
`,i.piece.length===1)(0,I.$8O)(this,i);else{const r=i.piece,h={line:r.start.line+1,column:0},m=r.length-1,L=this.t(r.bufferIndex,h,r.end);i.piece=new f(r.bufferIndex,h,r.end,L,m),(0,I.$0O)(this,i,-1,-1)}return!0}}return!1}iterate(n,s){if(n===I.$3O)return s(I.$3O);const i=this.iterate(n.left,s);return i&&s(n)&&this.iterate(n.right,s)}R(n){if(n===I.$3O)return"";const s=this.a[n.piece.bufferIndex],i=n.piece,r=this.u(i.bufferIndex,i.start),h=this.u(i.bufferIndex,i.end);return s.buffer.substring(r,h)}getPieceContent(n){const s=this.a[n.bufferIndex],i=this.u(n.bufferIndex,n.start),r=this.u(n.bufferIndex,n.end);return s.buffer.substring(i,r)}S(n,s){const i=new I.$2O(s,1);if(i.left=I.$3O,i.right=I.$3O,i.parent=I.$3O,i.size_left=0,i.lf_left=0,this.root===I.$3O)this.root=i,i.color=0;else if(n.right===I.$3O)n.right=i,i.parent=n;else{const h=(0,I.$4O)(n.right);h.left=i,i.parent=h}return(0,I.$9O)(this,i),i}T(n,s){const i=new I.$2O(s,1);if(i.left=I.$3O,i.right=I.$3O,i.parent=I.$3O,i.size_left=0,i.lf_left=0,this.root===I.$3O)this.root=i,i.color=0;else if(n.left===I.$3O)n.left=i,i.parent=n;else{const r=(0,I.$5O)(n.left);r.right=i,i.parent=r}return(0,I.$9O)(this,i),i}U(n){let s="";return this.iterate(n,i=>(s+=this.R(i),!0)),s}}e.$jP=l}),define(he[37],ce([0,1,22,3,13,35,12,17,26,8]),function(ue,e,U,D,B,I,F,X,v,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kP=void 0;class y extends $.$Tc{constructor(f,O,g,a,l,c,n){super(),this.m=this.D(new U.$Wd),this.onDidChangeContent=this.m.event,this.f=O,this.j=!c,this.g=a,this.h=l,this.c=new F.$jP(f,g,n)}equals(f){return!(f instanceof y)||this.f!==f.f||this.getEOL()!==f.getEOL()?!1:this.c.equal(f.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(f){return this.c.createSnapshot(f?this.f:"")}getOffsetAt(f,O){return this.c.getOffsetAt(f,O)}getPositionAt(f){return this.c.getPositionAt(f)}getRangeAt(f,O){const g=f+O,a=this.getPositionAt(f),l=this.getPositionAt(g);return new B.$2F(a.lineNumber,a.column,l.lineNumber,l.column)}getValueInRange(f,O=0){if(f.isEmpty())return"";const g=this.n(O);return this.c.getValueInRange(f,g)}getValueLengthInRange(f,O=0){if(f.isEmpty())return 0;if(f.startLineNumber===f.endLineNumber)return f.endColumn-f.startColumn;const g=this.getOffsetAt(f.startLineNumber,f.startColumn),a=this.getOffsetAt(f.endLineNumber,f.endColumn);let l=0;const c=this.n(O),n=this.getEOL();if(c.length!==n.length){const s=c.length-n.length,i=f.endLineNumber-f.startLineNumber;l=s*i}return a-g+l}getCharacterCountInRange(f,O=0){if(this.j){let g=0;const a=f.startLineNumber,l=f.endLineNumber;for(let c=a;c<=l;c++){const n=this.getLineContent(c),s=c===a?f.startColumn-1:0,i=c===l?f.endColumn-1:n.length;for(let r=s;r<i;r++)D.$ff(n.charCodeAt(r))?(g=g+1,r=r+1):g=g+1}return g+=this.n(O).length*(l-a),g}return this.getValueLengthInRange(f,O)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(f){return this.c.getLineContent(f)}getLineCharCode(f,O){return this.c.getLineCharCode(f,O)}getCharCode(f){return this.c.getCharCode(f)}getLineLength(f){return this.c.getLineLength(f)}getLineMinColumn(f){return 1}getLineMaxColumn(f){return this.getLineLength(f)+1}getLineFirstNonWhitespaceColumn(f){const O=D.$3e(this.getLineContent(f));return O===-1?0:O+1}getLineLastNonWhitespaceColumn(f){const O=D.$5e(this.getLineContent(f));return O===-1?0:O+2}n(f){switch(f){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(f){this.c.setEOL(f)}applyEdits(f,O,g){let a=this.g,l=this.h,c=this.j,n=!0,s=[];for(let z=0;z<f.length;z++){const d=f[z];n&&d._isTracked&&(n=!1);const C=d.range;if(d.text){let w=!0;c||(w=!D.$qf(d.text),c=w),!a&&w&&(a=D.$pf(d.text)),!l&&w&&(l=D.$sf(d.text))}let R="",T=0,K=0,k=0;if(d.text){let w;[T,K,k,w]=(0,X.$BG)(d.text);const H=this.getEOL();w===0||w===(H===`\r
`?2:1)?R=d.text:R=d.text.replace(/\r\n|\r|\n/g,H)}s[z]={sortIndex:z,identifier:d.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:R,eolCount:T,firstLineLength:K,lastLineLength:k,forceMoveMarkers:!!d.forceMoveMarkers,isAutoWhitespaceEdit:d.isAutoWhitespaceEdit||!1}}s.sort(y.t);let i=!1;for(let z=0,d=s.length-1;z<d;z++){const C=s[z].range.getEndPosition(),R=s[z+1].range.getStartPosition();if(R.isBeforeOrEqual(C)){if(R.isBefore(C))throw new Error("Overlapping ranges are not allowed!");i=!0}}n&&(s=this.q(s));const r=g||O?y._getInverseEditRanges(s):[],h=[];if(O)for(let z=0;z<s.length;z++){const d=s[z],C=r[z];if(d.isAutoWhitespaceEdit&&d.range.isEmpty())for(let R=C.startLineNumber;R<=C.endLineNumber;R++){let T="";R===C.startLineNumber&&(T=this.getLineContent(d.range.startLineNumber),D.$3e(T)!==-1)||h.push({lineNumber:R,oldContent:T})}}let m=null;if(g){let z=0;m=[];for(let d=0;d<s.length;d++){const C=s[d],R=r[d],T=this.getValueInRange(C.range),K=C.rangeOffset+z;z+=C.text.length-T.length,m[d]={sortIndex:C.sortIndex,identifier:C.identifier,range:R,text:T,textChange:new v.$kG(C.rangeOffset,T,K,C.text)}}i||m.sort((d,C)=>d.sortIndex-C.sortIndex)}this.g=a,this.h=l,this.j=c;const L=this.s(s);let A=null;if(O&&h.length>0){h.sort((z,d)=>d.lineNumber-z.lineNumber),A=[];for(let z=0,d=h.length;z<d;z++){const C=h[z].lineNumber;if(z>0&&h[z-1].lineNumber===C)continue;const R=h[z].oldContent,T=this.getLineContent(C);T.length===0||T===R||D.$3e(T)!==-1||A.push(C)}}return this.m.fire(),new I.$oI(m,L,A)}q(f){return f.length<1e3?f:[this._toSingleEditOperation(f)]}_toSingleEditOperation(f){let O=!1;const g=f[0].range,a=f[f.length-1].range,l=new B.$2F(g.startLineNumber,g.startColumn,a.endLineNumber,a.endColumn);let c=g.startLineNumber,n=g.startColumn;const s=[];for(let L=0,A=f.length;L<A;L++){const z=f[L],d=z.range;O=O||z.forceMoveMarkers,s.push(this.getValueInRange(new B.$2F(c,n,d.startLineNumber,d.startColumn))),z.text.length>0&&s.push(z.text),c=d.endLineNumber,n=d.endColumn}const i=s.join(""),[r,h,m]=(0,X.$BG)(i);return{sortIndex:0,identifier:f[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:i,eolCount:r,firstLineLength:h,lastLineLength:m,forceMoveMarkers:O,isAutoWhitespaceEdit:!1}}s(f){f.sort(y.u);const O=[];for(let g=0;g<f.length;g++){const a=f[g],l=a.range.startLineNumber,c=a.range.startColumn,n=a.range.endLineNumber,s=a.range.endColumn;if(l===n&&c===s&&a.text.length===0)continue;a.text?(this.c.delete(a.rangeOffset,a.rangeLength),this.c.insert(a.rangeOffset,a.text,!0)):this.c.delete(a.rangeOffset,a.rangeLength);const i=new B.$2F(l,c,n,s);O.push({range:i,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return O}findMatchesLineByLine(f,O,g,a){return this.c.findMatchesLineByLine(f,O,g,a)}getPieceTree(){return this.c}static _getInverseEditRange(f,O){const g=f.startLineNumber,a=f.startColumn,[l,c,n]=(0,X.$BG)(O);let s;if(O.length>0){const i=l+1;i===1?s=new B.$2F(g,a,g,a+c):s=new B.$2F(g,a,g+i-1,n+1)}else s=new B.$2F(g,a,g,a);return s}static _getInverseEditRanges(f){const O=[];let g=0,a=0,l=null;for(let c=0,n=f.length;c<n;c++){const s=f[c];let i,r;l?l.range.endLineNumber===s.range.startLineNumber?(i=g,r=a+(s.range.startColumn-l.range.endColumn)):(i=g+(s.range.startLineNumber-l.range.endLineNumber),r=s.range.startColumn):(i=s.range.startLineNumber,r=s.range.startColumn);let h;if(s.text.length>0){const m=s.eolCount+1;m===1?h=new B.$2F(i,r,i,r+s.firstLineLength):h=new B.$2F(i,r,i+m-1,s.lastLineLength+1)}else h=new B.$2F(i,r,i,r);g=h.endLineNumber,a=h.endColumn,O.push(h),l=s}return O}static t(f,O){const g=B.$2F.compareRangesUsingEnds(f.range,O.range);return g===0?f.sortIndex-O.sortIndex:g}static u(f,O){const g=B.$2F.compareRangesUsingEnds(f.range,O.range);return g===0?O.sortIndex-f.sortIndex:-g}}e.$kP=y}),define(he[38],ce([0,1,3,12,37]),function(ue,e,U,D,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lP=void 0;class I{constructor(v,$,y,V,f,O,g,a,l){this.a=v,this.b=$,this.c=y,this.d=V,this.e=f,this.f=O,this.g=g,this.h=a,this.j=l}k(v){const $=this.c+this.d+this.e,y=this.c+this.e;return $===0?v===1?`
`:`\r
`:y>$/2?`\r
`:`
`}create(v){const $=this.k(v),y=this.a;if(this.j&&($===`\r
`&&(this.c>0||this.d>0)||$===`
`&&(this.c>0||this.e>0)))for(let f=0,O=y.length;f<O;f++){const g=y[f].buffer.replace(/\r\n|\r|\n/g,$),a=(0,D.$fP)(g);y[f]=new D.$iP(g,a)}const V=new B.$kP(y,this.b,$,this.f,this.g,this.h,this.j);return{textBuffer:V,disposable:V}}getFirstLineText(v){return this.a[0].buffer.substr(0,v).split(/\r\n|\r|\n/)[0]}}class F{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(v){if(v.length===0)return;this.a.length===0&&U.$yf(v)&&(this.b=U.$xf,v=v.substr(1));const $=v.charCodeAt(v.length-1);$===13||$>=55296&&$<=56319?(this.m(v.substr(0,v.length-1),!1),this.c=!0,this.d=$):(this.m(v,!1),this.c=!1,this.d=$)}m(v,$){!$&&v.length===0||(this.c?this.n(String.fromCharCode(this.d)+v):this.n(v))}n(v){const $=(0,D.$gP)(this.e,v);this.a.push(new D.$iP(v,$.lineStarts)),this.f+=$.cr,this.g+=$.lf,this.h+=$.crlf,$.isBasicASCII||(this.l=!1,this.j||(this.j=U.$pf(v)),this.k||(this.k=U.$sf(v)))}finish(v=!0){return this.o(),new I(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,v)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const v=this.a[this.a.length-1];v.buffer+=String.fromCharCode(this.d);const $=(0,D.$fP)(v.buffer);v.lineStarts=$,this.d===13&&this.f++}}}e.$lP=F}),define(he[39],ce([0,1,5,24,7,33,11]),function(ue,e,U,D,B,I,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$UX=e.$TX=e.$SX=e.$RX=void 0,e.$RX=(0,F.$8h)("notebookDocumentService");const X=["W","X","Y","Z","a","b","c","d","e","f"],v=new RegExp(`^[${X.join("")}]+`),$=7;function y(O){if(O.scheme!==B.Schemas.vscodeNotebookCell)return;const g=O.fragment.indexOf("s");if(g<0)return;const a=parseInt(O.fragment.substring(0,g).replace(v,""),$),l=(0,U.$De)(O.fragment.substring(g+1)).toString();if(!isNaN(a))return{handle:a,notebook:O.with({scheme:l,fragment:null})}}e.$SX=y;function V(O,g){const a=g.toString($),c=`${a.length<X.length?X[a.length-1]:"z"}${a}s${(0,U.$Fe)(U.$ke.fromString(O.scheme),!0,!0)}`;return O.with({scheme:B.Schemas.vscodeNotebookCell,fragment:c})}e.$TX=V;class f{constructor(){this.a=new D.$Ac}getNotebook(g){if(g.scheme===B.Schemas.vscodeNotebookCell){const a=y(g);if(a){const l=this.a.get(a.notebook);if(l)return l}}return this.a.get(g)}addNotebookDocument(g){this.a.set(g.uri,g)}removeNotebookDocument(g){this.a.delete(g.uri)}}e.$UX=f,(0,I.$is)(e.$RX,f,1)}),define(he[40],ce([0,1,5,23,45,19,7,6,2,34,39]),function(ue,e,U,D,B,I,F,X,v,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$aY=e.$_X=e.$$X=e.$0X=e.CellStatusbarAlignment=e.$9X=e.$8X=e.$7X=e.NotebookEditorPriority=e.$6X=e.$5X=e.$4X=e.$3X=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$2X=e.$1X=e.$ZX=e.$YX=e.CellKind=e.$XX=e.$WX=e.$VX=void 0,e.$VX="workbench.editor.notebook",e.$WX="workbench.editor.notebookTextDiffEditor",e.$XX="workbench.editor.interactive";var V;(function(b){b[b.Markup=1]="Markup",b[b.Code=2]="Code"})(V||(e.CellKind=V={})),e.$YX=["application/json","application/javascript","text/html","image/svg+xml",I.$Bs.latex,I.$Bs.markdown,"image/png","image/jpeg",I.$Bs.text],e.$ZX=[I.$Bs.latex,I.$Bs.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",I.$Bs.text],e.$1X=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$2X="_notAvailable";var f;(function(b){b[b.Running=1]="Running",b[b.Idle=2]="Idle"})(f||(e.NotebookRunState=f={}));var O;(function(b){b[b.Unconfirmed=1]="Unconfirmed",b[b.Pending=2]="Pending",b[b.Executing=3]="Executing"})(O||(e.NotebookCellExecutionState=O={}));var g;(function(b){b[b.Unconfirmed=1]="Unconfirmed",b[b.Pending=2]="Pending",b[b.Executing=3]="Executing"})(g||(e.NotebookExecutionState=g={}));var a;(function(b){b[b.WithHardKernelDependency=0]="WithHardKernelDependency",b[b.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",b[b.Pure=2]="Pure",b[b.Never=3]="Never"})(a||(e.NotebookRendererMatch=a={}));var l;(function(b){b.Always="always",b.Never="never",b.Optional="optional"})(l||(e.RendererMessagingSpec=l={}));var c;(function(b){b[b.ModelChange=1]="ModelChange",b[b.Move=2]="Move",b[b.ChangeCellLanguage=5]="ChangeCellLanguage",b[b.Initialize=6]="Initialize",b[b.ChangeCellMetadata=7]="ChangeCellMetadata",b[b.Output=8]="Output",b[b.OutputItem=9]="OutputItem",b[b.ChangeCellContent=10]="ChangeCellContent",b[b.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",b[b.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",b[b.ChangeCellMime=13]="ChangeCellMime",b[b.Unknown=100]="Unknown"})(c||(e.NotebookCellsChangeType=c={}));var n;(function(b){b[b.Handle=0]="Handle",b[b.Index=1]="Index"})(n||(e.SelectionStateType=n={}));var s;(function(b){b[b.Replace=1]="Replace",b[b.Output=2]="Output",b[b.Metadata=3]="Metadata",b[b.CellLanguage=4]="CellLanguage",b[b.DocumentMetadata=5]="DocumentMetadata",b[b.Move=6]="Move",b[b.OutputItems=7]="OutputItems",b[b.PartialMetadata=8]="PartialMetadata",b[b.PartialInternalMetadata=9]="PartialInternalMetadata"})(s||(e.CellEditType=s={}));var i;(function(b){b.scheme=F.Schemas.vscodeNotebookCell;function Z(N,Y){return(0,y.$TX)(N,Y)}b.generate=Z;function le(N){return(0,y.$SX)(N)}b.parse=le;function se(N,Y){return N.with({scheme:F.Schemas.vscodeNotebookCellOutput,fragment:`op${Y??""},${N.scheme!==F.Schemas.file?N.scheme:""}`})}b.generateCellOutputUri=se;function _(N){if(N.scheme!==F.Schemas.vscodeNotebookCellOutput)return;const Y=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(N.fragment);if(!Y)return;const Q=Y[1]&&Y[1]!==""?Y[1]:void 0,x=Y[2];return{outputId:Q,notebook:N.with({scheme:x||F.Schemas.file,fragment:null})}}b.parseCellOutputUri=_;function M(N,Y,Q){return b.generate(N,Y).with({scheme:Q})}b.generateCellPropertyUri=M;function W(N,Y){if(N.scheme===Y)return b.parse(N.with({scheme:b.scheme}))}b.parseCellPropertyUri=W})(i||(e.CellUri=i={}));const r=b=>v.$i?b.replace(/\//g,"\\"):b;class h{constructor(Z=[],le=e.$YX){this.e=le,this.d=[...new Set(Z)].map(se=>({pattern:se,matches:D.$Qj(r(se))}))}sort(Z){const le=new Map(B.Iterable.map(Z,_=>[_,r(_)]));let se=[];for(const{matches:_}of this.d)for(const[M,W]of le)if(_(W)){se.push(M),le.delete(M);break}return le.size&&(se=se.concat([...le.keys()].sort((_,M)=>this.e.indexOf(_)-this.e.indexOf(M)))),se}prioritize(Z,le){const se=this.f(Z);if(se===-1){this.d.unshift({pattern:Z,matches:D.$Qj(r(Z))});return}const _=new Set(le.map(W=>this.f(W,se)));_.delete(-1);const M=Array.from(_).sort();this.d.splice(se+1,0,...M.map(W=>this.d[W]));for(let W=M.length-1;W>=0;W--)this.d.splice(M[W],1)}toArray(){return this.d.map(Z=>Z.pattern)}f(Z,le=this.d.length){const se=r(Z);for(let _=0;_<le;_++)if(this.d[_].matches(se))return _;return-1}}e.$3X=h;function m(b,Z,le,se=(_,M)=>_===M){const _=[];function M(Y,Q,x){if(Q===0&&x.length===0)return;const q=_[_.length-1];q&&q.start+q.deleteCount===Y?(q.deleteCount+=Q,q.toInsert.push(...x)):_.push({start:Y,deleteCount:Q,toInsert:x})}let W=0,N=0;for(;;){if(W===b.length){M(W,0,Z.slice(N));break}if(N===Z.length){M(W,b.length-W,[]);break}const Y=b[W],Q=Z[N];if(se(Y,Q)){W+=1,N+=1;continue}le(Q)?(M(W,1,[]),W+=1):(M(W,0,[Q]),N+=1)}return _}e.$4X=m,e.$5X=new $.$nj("notebookEditorCursorAtBoundary","none"),e.$6X=new $.$nj("notebookEditorCursorAtLineBoundary","none");var L;(function(b){b.default="default",b.option="option"})(L||(e.NotebookEditorPriority=L={}));function A(b){const Z=b;return!!((typeof Z.include=="string"||D.$Rj(Z.include))&&(typeof Z.exclude=="string"||D.$Rj(Z.exclude)))}e.$7X=A;function z(b,Z,le){if(Array.isArray(b.viewType)&&b.viewType.indexOf(Z)>=0||b.viewType===Z)return!0;if(b.filenamePattern){const se=A(b.filenamePattern)?b.filenamePattern.include:b.filenamePattern,_=A(b.filenamePattern)?b.filenamePattern.exclude:void 0;if(D.$Pj(se,(0,X.$nc)(le.fsPath).toLowerCase()))return!(_&&D.$Pj(_,(0,X.$nc)(le.fsPath).toLowerCase()))}return!1}e.$8X=z,e.$9X={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell",cellChat:"notebook.experimental.cellChat",notebookVariablesView:"notebook.experimental.variablesView"};var d;(function(b){b[b.Left=1]="Left",b[b.Right=2]="Right"})(d||(e.CellStatusbarAlignment=d={}));class C{static{this.d="notebook/"}static create(Z){return`${C.d}${Z}`}static parse(Z){if(Z.startsWith(C.d))return Z.substring(C.d.length)}}e.$0X=C;function R(b){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(b)}e.$$X=R;const T=new TextDecoder;function K(b){const Z=[];let le=!1;for(const W of b)(Z.length===0||le)&&(Z.push(W),le=!0);let se=H(Z);const _=U.$ke.concat(Z.map(W=>U.$ke.wrap(W))),M=ie(_);return se=se||M.byteLength!==_.byteLength,{data:M,didCompression:se}}e.$_X=K,e.$aY=`${String.fromCharCode(27)}[A`;const k=e.$aY.split("").map(b=>b.charCodeAt(0)),w=10;function H(b){let Z=!1;return b.forEach((le,se)=>{if(se===0||le.length<e.$aY.length)return;const _=b[se-1],M=le.subarray(0,e.$aY.length);if(M[0]===k[0]&&M[1]===k[1]&&M[2]===k[2]){const W=_.lastIndexOf(w);if(W===-1)return;Z=!0,b[se-1]=_.subarray(0,W),b[se]=le.subarray(e.$aY.length)}}),Z}function ee(b){let Z=b;do b=Z,Z=b.replace(/[^\n]\x08/gm,"");while(Z.length<b.length);return b}function te(b){for(b=b.replace(/\r+\n/gm,`
`);b.search(/\r[^$]/g)>-1;){const Z=b.match(/^(.*)\r+/m)[1];let le=b.match(/\r+(.*)$/m)[1];le=le+Z.slice(le.length,Z.length),b=b.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,le)}return b}const ne="\b".charCodeAt(0),re="\r".charCodeAt(0);function ie(b){return!b.buffer.includes(ne)&&!b.buffer.includes(re)?b:U.$ke.fromString(te(ee(T.decode(b.buffer))))}}),define(he[46],ce([0,1,47,48,10,38,40,13,36]),function(ue,e,U,D,B,I,F,X,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NotebookEditorSimpleWorker=void 0;function $(a){let l=(0,D.$Xi)(104579,0);for(let c=0;c<a.buffer.length;c++)l=(0,D.$Wi)(a.buffer[c],l);return l}class y{get textBuffer(){if(this.a)return this.a;const l=new I.$lP;l.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const c=l.finish(!0);return this.a=c.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,D.$Vi)(this.getValue())),this.b}constructor(l,c,n,s,i,r,h){this.handle=l,this.d=c,this.language=n,this.cellKind=s,this.outputs=i,this.metadata=r,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const l=this.textBuffer.getLineCount();return new X.$2F(1,1,l,this.textBuffer.getLineLength(l)+1)}getValue(){const l=this.getFullModelRange();return this.textBuffer.getValueInRange(l,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,D.$Vi)([(0,D.$Vi)(this.language),(0,D.$Vi)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(l=>({outputs:l.outputs.map(c=>({mime:c.mime,data:$(c.data)})),metadata:l.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,D.$Vi)([(0,D.$Vi)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class V{constructor(l,c,n){this.uri=l,this.cells=c,this.metadata=n}acceptModelChanged(l){l.rawEvents.forEach(c=>{if(c.kind===F.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(c.changes);else if(c.kind===F.NotebookCellsChangeType.Move){const n=this.cells.splice(c.index,1);this.cells.splice(c.newIdx,0,...n)}else if(c.kind===F.NotebookCellsChangeType.Output){const n=this.cells[c.index];n.outputs=c.outputs}else if(c.kind===F.NotebookCellsChangeType.ChangeCellLanguage){this.a(c.index);const n=this.cells[c.index];n.language=c.language}else if(c.kind===F.NotebookCellsChangeType.ChangeCellMetadata){this.a(c.index);const n=this.cells[c.index];n.metadata=c.metadata}else if(c.kind===F.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(c.index);const n=this.cells[c.index];n.internalMetadata=c.internalMetadata}})}a(l){if(l<0||l>=this.cells.length)throw new Error(`Illegal index ${l}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(l){l.reverse().forEach(c=>{const s=c[2].map(i=>new y(i.handle,i.source,i.language,i.cellKind,i.outputs,i.metadata));this.cells.splice(c[0],c[1],...s)})}}class f{constructor(l){this.textModel=l}getElements(){const l=new Int32Array(this.textModel.cells.length);for(let c=0;c<this.textModel.cells.length;c++)l[c]=this.textModel.cells[c].getComparisonValue();return l}getCellHash(l){const c=Array.isArray(l.source)?l.source.join(`
`):l.source;return(0,D.$Vi)([(0,D.$Vi)(c),l.metadata])}}class O{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(l,c){this.a[l]=new V(B.URI.parse(l),c.cells.map(n=>new y(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata)),c.metadata)}acceptModelChanged(l,c){this.a[l]?.acceptModelChanged(c)}acceptRemovedModel(l){this.a[l]&&delete this.a[l]}computeDiff(l,c){const n=this.b(l),s=this.b(c);return{cellsDiff:new U.$8F(new f(n),new f(s)).ComputeDiff(!1)}}canPromptRecommendation(l){const n=this.b(l).cells;for(let s=0;s<n.length;s++){const i=n[s];if(i.cellKind===F.CellKind.Markup||i.language!=="python")continue;const r=i.textBuffer.getLineCount(),h=Math.min(r,20),m=new X.$2F(1,1,h,i.textBuffer.getLineLength(h)+1),A=new v.$_O("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!A)continue;if(i.textBuffer.findMatchesLineByLine(m,A,!0,1).length>0)return!0}return!1}b(l){return this.a[l]}}e.NotebookEditorSimpleWorker=O;function g(a){return new O}e.create=g})}).call(this);

//# sourceMappingURL=https://cursor-sourcemaps.s3.amazonaws.com/sourcemaps/fcd6e551d6f014d13071eac9bd4904e7e0346720/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
