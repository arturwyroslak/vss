/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/lifecycle","vs/base/common/platform","vs/base/common/observableInternal/logging","vs/base/common/observableInternal/base","vs/base/common/errors","vs/editor/common/tokens/lineTokens","vs/base/common/uri","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/base/common/observable","vs/base/common/buffer","vs/editor/common/core/eolCounter","vs/editor/common/encodedTokenAttributes","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/base/common/strings","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/model/fixedArray","vs/base/common/arrays","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/base/common/extpath","vs/base/common/path","vs/amdX","vs/base/common/event","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],H=function(W){for(var e=[],N=0,k=W.length;N<k;N++)e[N]=K[W[N]];return e};define(K[22],H([0,1]),function(W,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$U=e.$T=void 0,e.$T=!1;class N{static get(){const v=new Map,C=new Map,s=new Map,f=new Map;function t(a,i){a.has(i.detail)||a.set(i.detail,-i.timestamp)}function c(a,i){const n=a.get(i.detail);n&&(n>=0||a.set(i.detail,n+i.timestamp))}let $=[];typeof W=="function"&&typeof W.getStats=="function"&&($=W.getStats().slice(0).sort((a,i)=>a.timestamp-i.timestamp));for(const a of $)switch(a.type){case 10:t(v,a);break;case 11:case 12:c(v,a);break;case 21:t(C,a);break;case 22:c(C,a);break;case 33:t(s,a);break;case 34:c(s,a);break;case 31:t(f,a);break;case 32:c(f,a);break}let d=0;s.forEach(a=>d+=a);function h(a){const i=[];return a.forEach((n,r)=>i.push([r,n])),i}return{amdLoad:h(v),amdInvoke:h(C),nodeRequire:h(s),nodeEval:h(f),nodeRequireTotal:d}}static toMarkdownTable(v,C){let s="";const f=[];return v.forEach((t,c)=>{f[c]=t.length}),C.forEach(t=>{t.forEach((c,$)=>{typeof c>"u"&&(c=t[$]="-");const d=c.toString().length;f[$]=Math.max(d,f[$])})}),v.forEach((t,c)=>{s+=`| ${t+" ".repeat(f[c]-t.toString().length)} `}),s+=`|
`,v.forEach((t,c)=>{s+=`| ${"-".repeat(f[c])} `}),s+=`|
`,C.forEach(t=>{t.forEach((c,$)=>{typeof c<"u"&&(s+=`| ${c+" ".repeat(f[$]-c.toString().length)} `)}),s+=`|
`}),s}}e.$U=N}),define(K[4],H([0,1]),function(W,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vd=e.$ud=e.$td=void 0;let N;function k(n){N=n}e.$td=k;function v(){return N}e.$ud=v;class C{constructor(){this.a=0,this.d=new WeakMap}b(r){return s([f(a("|  ",this.a)),r])}c(r){return r.hadValue?r.didChange?[f(" "),c($(r.oldValue,70),{color:"red",strikeThrough:!0}),f(" "),c($(r.newValue,60),{color:"green"})]:[f(" (unchanged)")]:[f(" "),c($(r.newValue,60),{color:"green"}),f(" (initial)")]}handleObservableChanged(r,b){console.log(...this.b([t("observable value changed"),c(r.debugName,{color:"BlueViolet"}),...this.c(b)]))}formatChanges(r){if(r.size!==0)return c(" (changed deps: "+[...r].map(b=>b.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(r){const b=r.handleChange;this.d.set(r,new Set),r.handleChange=(T,M)=>(this.d.get(r).add(T),b.apply(r,[T,M]))}handleDerivedRecomputed(r,b){const T=this.d.get(r);console.log(...this.b([t("derived recomputed"),c(r.debugName,{color:"BlueViolet"}),...this.c(b),this.formatChanges(T),{data:[{fn:r._computeFn}]}])),T.clear()}handleFromEventObservableTriggered(r,b){console.log(...this.b([t("observable from event triggered"),c(r.debugName,{color:"BlueViolet"}),...this.c(b),{data:[{fn:r._getValue}]}]))}handleAutorunCreated(r){const b=r.handleChange;this.d.set(r,new Set),r.handleChange=(T,M)=>(this.d.get(r).add(T),b.apply(r,[T,M]))}handleAutorunTriggered(r){const b=this.d.get(r);console.log(...this.b([t("autorun"),c(r.debugName,{color:"BlueViolet"}),this.formatChanges(b),{data:[{fn:r._runFn}]}])),b.clear(),this.a++}handleAutorunFinished(r){this.a--}handleBeginTransaction(r){let b=r.getDebugName();b===void 0&&(b=""),console.log(...this.b([t("transaction"),c(b,{color:"BlueViolet"}),{data:[{fn:r._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$vd=C;function s(n){const r=new Array,b=[];let T="";function M(S){if("length"in S)for(const g of S)g&&M(g);else"text"in S?(T+=`%c${S.text}`,r.push(S.style),S.data&&b.push(...S.data)):"data"in S&&b.push(...S.data)}M(n);const L=[T,...r];return L.push(...b),L}function f(n){return c(n,{color:"black"})}function t(n){return c(i(`${n}: `,10),{color:"black",bold:!0})}function c(n,r={color:"black"}){function b(M){return Object.entries(M).reduce((L,[S,g])=>`${L}${S}:${g};`,"")}const T={color:r.color};return r.strikeThrough&&(T["text-decoration"]="line-through"),r.bold&&(T["font-weight"]="bold"),{text:n,style:b(T)}}function $(n,r){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=r?`"${n}"`:`"${n.substr(0,r-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?d(n,r):h(n,r);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function d(n,r){let b="[ ",T=!0;for(const M of n){if(T||(b+=", "),b.length-5>r){b+="...";break}T=!1,b+=`${$(M,r-b.length)}`}return b+=" ]",b}function h(n,r){let b="{ ",T=!0;for(const[M,L]of Object.entries(n)){if(T||(b+=", "),b.length-5>r){b+="...";break}T=!1,b+=`${M}: ${$(L,r-b.length)}`}return b+=" }",b}function a(n,r){let b="";for(let T=1;T<=r;T++)b+=n;return b}function i(n,r){for(;n.length<r;)n+=" ";return n}}),define(K[5],H([0,1,4]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rd=e.$Qd=e.$Pd=e.$Od=e.$Nd=e.$Md=e.$Ld=e.$Kd=e.$Jd=e.$Id=e.$Hd=e.$Gd=e.$Fd=e.$Ed=e.$Dd=e.$Cd=void 0;let k;function v(P){k=P}e.$Cd=v;let C;function s(P){C=P}e.$Dd=s;let f;function t(P){f=P}e.$Ed=t;class c{get TChange(){return null}reportChanges(){this.get()}read(I){return I?I.readObservable(this):this.get()}map(I,m){const l=m===void 0?void 0:I,R=m===void 0?I:m;return f({owner:l,debugName:()=>{const q=U(R);if(q!==void 0)return q;const p=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(R.toString());if(p)return`${this.debugName}.${p[2]}`;if(!l)return`${this.debugName} (mapped)`}},q=>R(this.read(q),q))}recomputeInitiallyAndOnChange(I,m){return I.add(k(this,m)),this}keepObserved(I){return I.add(C(this)),this}}e.$Fd=c;class $ extends c{constructor(){super(...arguments),this.c=new Set}addObserver(I){const m=this.c.size;this.c.add(I),m===0&&this.f()}removeObserver(I){this.c.delete(I)&&this.c.size===0&&this.g()}f(){}g(){}}e.$Gd=$;function d(P,I){const m=new r(P,I);try{P(m)}finally{m.finish()}}e.$Hd=d;let h;function a(P){if(h)P(h);else{const I=new r(P,void 0);h=I;try{P(I)}finally{I.finish(),h=void 0}}}e.$Id=a;async function i(P,I){const m=new r(P,I);try{await P(m)}finally{m.finish()}}e.$Jd=i;function n(P,I,m){P?I(P):d(I,m)}e.$Kd=n;class r{constructor(I,m){this._fn=I,this.b=m,this.a=[],(0,N.$ud)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():U(this._fn)}updateObserver(I,m){this.a.push({observer:I,observable:m}),I.beginUpdate(m)}finish(){const I=this.a;for(let m=0;m<I.length;m++){const{observer:l,observable:R}=I[m];l.endUpdate(R)}this.a=null,(0,N.$ud)()?.handleEndTransaction()}}e.$Ld=r;const b=new Map,T=new WeakMap;function M(P,I,m,l){const R=T.get(P);if(R)return R;const q=L(P,I,m,l);if(q){let B=b.get(q)??0;B++,b.set(q,B);const p=B===1?q:`${q}#${B}`;return T.set(P,p),p}}e.$Md=M;function L(P,I,m,l){const R=T.get(P);if(R)return R;const q=l?y(l)+".":"";let B;if(I!==void 0)if(typeof I=="function"){if(B=I(),B!==void 0)return q+B}else return q+I;if(m!==void 0&&(B=U(m),B!==void 0))return q+B;if(l!==void 0){for(const p in l)if(l[p]===P)return q+p}}const S=new Map,g=new WeakMap;function y(P){const I=g.get(P);if(I)return I;const m=O(P);let l=S.get(m)??0;l++,S.set(m,l);const R=l===1?m:`${m}#${l}`;return g.set(P,R),R}function O(P){const I=P.constructor;return I?I.name:"Object"}function U(P){const I=P.toString(),l=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(I);return(l?l[1]:void 0)?.trim()}e.$Nd=U;function D(P,I){return typeof P=="string"?new u(void 0,P,I):new u(P,void 0,I)}e.$Od=D;class u extends ${get debugName(){return M(this,this.d,void 0,this.b)??"ObservableValue"}constructor(I,m,l){super(),this.b=I,this.d=m,this.a=l}get(){return this.a}set(I,m,l){if(this.a===I)return;let R;m||(m=R=new r(()=>{},()=>`Setting ${this.debugName}`));try{const q=this.a;this.e(I),(0,N.$ud)()?.handleObservableChanged(this,{oldValue:q,newValue:I,change:l,didChange:!0,hadValue:!0});for(const B of this.c)m.updateObserver(B,this),B.handleChange(this,l)}finally{R&&R.finish()}}toString(){return`${this.debugName}: ${this.a}`}e(I){this.a=I}}e.$Pd=u;function E(P,I){return typeof P=="string"?new j(void 0,P,I):new j(P,void 0,I)}e.$Qd=E;class j extends u{e(I){this.a!==I&&(this.a&&this.a.dispose(),this.a=I)}dispose(){this.a?.dispose()}}e.$Rd=j}),define(K[9],H([0,1,23,2,5,4]),function(W,e,N,k,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ed=e.$dd=e.$cd=e.$bd=e.$ad=e.$_c=e.$$c=void 0;function s(i){return new h(void 0,i,void 0,void 0)}e.$$c=s;function f(i,n){return new h(i.debugName,n,void 0,void 0)}e.$_c=f;function t(i,n){return new h(i.debugName,n,i.createEmptyChangeSummary,i.handleChange)}e.$ad=t;function c(i,n){const r=new k.$Sc,b=t({debugName:i.debugName??(()=>(0,v.$Nd)(n)),createEmptyChangeSummary:i.createEmptyChangeSummary,handleChange:i.handleChange},(T,M)=>{r.clear(),n(T,M,r)});return(0,k.$Rc)(()=>{b.dispose(),r.dispose()})}e.$bd=c;function $(i){const n=new k.$Sc,r=f({debugName:()=>(0,v.$Nd)(i)||"(anonymous)"},b=>{n.clear(),i(b,n)});return(0,k.$Rc)(()=>{r.dispose(),n.dispose()})}e.$cd=$;var d;(function(i){i[i.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",i[i.stale=2]="stale",i[i.upToDate=3]="upToDate"})(d||(d={}));class h{get debugName(){if(typeof this.h=="string")return this.h;if(typeof this.h=="function"){const r=this.h();if(r!==void 0)return r}const n=(0,v.$Nd)(this._runFn);return n!==void 0?n:"(anonymous)"}constructor(n,r,b,T){this.h=n,this._runFn=r,this.i=b,this.j=T,this.a=2,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.i?.(),(0,C.$ud)()?.handleAutorunCreated(this),this.k(),(0,k.$Kc)(this)}dispose(){this.c=!0;for(const n of this.e)n.removeObserver(this);this.e.clear(),(0,k.$Lc)(this)}k(){if(this.a===3)return;const n=this.f;this.f=this.e,this.e=n,this.a=3;const r=this.c;try{if(!r){(0,C.$ud)()?.handleAutorunTriggered(this);const b=this.g;this.g=this.i?.(),this._runFn(this,b)}}finally{r||(0,C.$ud)()?.handleAutorunFinished(this);for(const b of this.f)b.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===3&&(this.a=1),this.b++}endUpdate(){if(this.b===1)do{if(this.a===1){this.a=3;for(const n of this.e)if(n.reportChanges(),this.a===2)break}this.k()}while(this.a!==3);this.b--,(0,N.$9c)(()=>this.b>=0)}handlePossibleChange(n){this.a===3&&this.e.has(n)&&!this.f.has(n)&&(this.a=1)}handleChange(n,r){this.e.has(n)&&!this.f.has(n)&&(!this.j||this.j({changedObservable:n,change:r,didChange:T=>T===n},this.g))&&(this.a=2)}readObservable(n){if(this.c)return n.get();n.addObserver(this);const r=n.get();return this.e.add(n),this.f.delete(n),r}}e.$dd=h,function(i){i.Observer=h}(s||(e.$$c=s={}));function a(i,n){let r;return f({debugName:()=>(0,v.$Nd)(n)},b=>{const T=i.read(b),M=r;r=T,n({lastValue:M,newValue:T})})}e.$ed=a}),define(K[10],H([0,1,23,2,5,4]),function(W,e,N,k,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bd=e.$Ad=e.$zd=e.$yd=e.$xd=e.$wd=void 0;const s=(i,n)=>i===n;function f(i,n){return n!==void 0?new a(i,void 0,n,void 0,void 0,void 0,s):new a(void 0,void 0,i,void 0,void 0,void 0,s)}e.$wd=f;function t(i,n){return new a(i.owner,i.debugName,n,void 0,void 0,i.onLastObserverRemoved,i.equalityComparer??s)}e.$xd=t;function c(i,n){return new a(i.owner,i.debugName,n,i.createEmptyChangeSummary,i.handleChange,void 0,i.equalityComparer??s)}e.$yd=c;function $(i,n){let r,b;n===void 0?(r=i,b=void 0):(b=i,r=n);const T=new k.$Sc;return new a(b,()=>(0,v.$Nd)(r)??"(anonymous)",M=>(T.clear(),r(M,T)),void 0,void 0,()=>T.dispose(),s)}e.$zd=$;function d(i,n){let r,b;n===void 0?(r=i,b=void 0):(b=i,r=n);const T=new k.$Sc;return new a(b,()=>(0,v.$Nd)(r)??"(anonymous)",M=>{T.clear();const L=r(M);return L&&T.add(L),L},void 0,void 0,()=>T.dispose(),s)}e.$Ad=d,(0,v.$Ed)(t);var h;(function(i){i[i.initial=0]="initial",i[i.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",i[i.stale=2]="stale",i[i.upToDate=3]="upToDate"})(h||(h={}));class a extends v.$Gd{get debugName(){return(0,v.$Md)(this,this.p,this._computeFn,this.n)??"(anonymous)"}constructor(n,r,b,T,M,L=void 0,S){super(),this.n=n,this.p=r,this._computeFn=b,this.q=T,this.s=M,this.t=L,this.u=S,this.e=0,this.h=void 0,this.j=0,this.k=new Set,this.l=new Set,this.m=void 0,this.m=this.q?.(),(0,C.$ud)()?.handleDerivedCreated(this)}g(){this.e=0,this.h=void 0;for(const n of this.k)n.removeObserver(this);this.k.clear(),this.t?.()}get(){if(this.c.size===0){const n=this._computeFn(this,this.q?.());return this.g(),n}else{do{if(this.e===1){for(const n of this.k)if(n.reportChanges(),this.e===2)break}this.e===1&&(this.e=3),this.w()}while(this.e!==3);return this.h}}w(){if(this.e===3)return;const n=this.l;this.l=this.k,this.k=n;const r=this.e!==0,b=this.h;this.e=3;const T=this.m;this.m=this.q?.();try{this.h=this._computeFn(this,T)}finally{for(const L of this.l)L.removeObserver(this);this.l.clear()}const M=r&&!this.u(b,this.h);if((0,C.$ud)()?.handleDerivedRecomputed(this,{oldValue:b,newValue:this.h,change:void 0,didChange:M,hadValue:r}),M)for(const L of this.c)L.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.j++;const r=this.j===1;if(this.e===3&&(this.e=1,!r))for(const b of this.c)b.handlePossibleChange(this);if(r)for(const b of this.c)b.beginUpdate(this)}endUpdate(n){if(this.j--,this.j===0){const r=[...this.c];for(const b of r)b.endUpdate(this)}(0,N.$9c)(()=>this.j>=0)}handlePossibleChange(n){if(this.e===3&&this.k.has(n)&&!this.l.has(n)){this.e=1;for(const r of this.c)r.handlePossibleChange(this)}}handleChange(n,r){if(this.k.has(n)&&!this.l.has(n)){const b=this.s?this.s({changedObservable:n,change:r,didChange:M=>M===n},this.m):!0,T=this.e===3;if(b&&(this.e===1||T)&&(this.e=2,T))for(const M of this.c)M.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const r=n.get();return this.k.add(n),this.l.delete(n),r}addObserver(n){const r=!this.c.has(n)&&this.j>0;super.addObserver(n),r&&n.beginUpdate(this)}removeObserver(n){const r=this.c.has(n)&&this.j>0;super.removeObserver(n),r&&n.endUpdate(this)}}e.$Bd=a}),define(K[24],H([0,1,2,9,5,10,4]),function(W,e,N,k,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sd=e.$rd=e.$qd=e.$pd=e.$od=e.$nd=e.$md=e.$ld=e.$kd=e.$jd=e.$id=e.$hd=e.$gd=e.$fd=void 0;function f(D){return new t(D)}e.$fd=f;class t extends v.$Fd{constructor(u){super(),this.a=u}get debugName(){return this.toString()}get(){return this.a}addObserver(u){}removeObserver(u){}toString(){return`Const: ${this.a}`}}function c(D){const u=(0,v.$Od)("promiseValue",{});return D.then(E=>{u.set({value:E},void 0)}),u}e.$gd=c;function $(D,u){return new Promise(E=>{let j=!1,P=!1;const I=D.map(l=>({isFinished:u(l),state:l})),m=(0,k.$$c)(l=>{const{isFinished:R,state:q}=I.read(l);R&&(j?m.dispose():P=!0,E(q))});j=!0,P&&m.dispose()})}e.$hd=$;function d(D,u){return new h(D,u)}e.$id=d;class h extends v.$Gd{constructor(u,E){super(),this.h=u,this._getValue=E,this.b=!1,this.l=j=>{const P=this._getValue(j),I=this.a,m=!this.b||I!==P;let l=!1;m&&(this.a=P,this.b&&(l=!0,(0,v.$Kd)(h.globalTransaction,R=>{(0,s.$ud)()?.handleFromEventObservableTriggered(this,{oldValue:I,newValue:P,change:void 0,didChange:m,hadValue:this.b});for(const q of this.c)R.updateObserver(q,this),q.handleChange(this,void 0)},()=>{const R=this.j();return"Event fired"+(R?`: ${R}`:"")})),this.b=!0),l||(0,s.$ud)()?.handleFromEventObservableTriggered(this,{oldValue:I,newValue:P,change:void 0,didChange:m,hadValue:this.b})}}j(){return(0,v.$Nd)(this._getValue)}get debugName(){const u=this.j();return"From Event"+(u?`: ${u}`:"")}f(){this.e=this.h(this.l)}g(){this.e.dispose(),this.e=void 0,this.b=!1,this.a=void 0}get(){return this.e?(this.b||this.l(void 0),this.a):this._getValue(void 0)}}e.$jd=h,function(D){D.Observer=h;function u(E,j){let P=!1;h.globalTransaction===void 0&&(h.globalTransaction=E,P=!0);try{j()}finally{P&&(h.globalTransaction=void 0)}}D.batchEventsGlobally=u}(d||(e.$id=d={}));function a(D,u){return new i(D,u)}e.$kd=a;class i extends v.$Gd{constructor(u,E){super(),this.debugName=u,this.b=E,this.h=()=>{(0,v.$Hd)(j=>{for(const P of this.c)j.updateObserver(P,this),P.handleChange(this,void 0)},()=>this.debugName)}}f(){this.a=this.b(this.h)}g(){this.a.dispose(),this.a=void 0}get(){}}function n(D){return typeof D=="string"?new r(D):new r(void 0,D)}e.$ld=n;class r extends v.$Gd{get debugName(){return(0,v.$Md)(this,this.a,void 0,this.b)??"Observable Signal"}constructor(u,E){super(),this.a=u,this.b=E}trigger(u,E){if(!u){(0,v.$Hd)(j=>{this.trigger(j,E)},()=>`Trigger signal ${this.debugName}`);return}for(const j of this.c)u.updateObserver(j,this),j.handleChange(this,E)}get(){}}function b(D,u,E){const j=(0,v.$Od)("debounced",void 0);let P;return E.add((0,k.$$c)(I=>{const m=D.read(I);P&&clearTimeout(P),P=setTimeout(()=>{(0,v.$Hd)(l=>{j.set(m,l)})},u)})),j}e.$md=b;function T(D,u,E){const j=(0,v.$Od)("triggeredRecently",!1);let P;return E.add(D(()=>{j.set(!0,void 0),P&&clearTimeout(P),P=setTimeout(()=>{j.set(!1,void 0)},u)})),j}e.$nd=T;function M(D){const u=new S(!1,void 0);return D.addObserver(u),(0,N.$Rc)(()=>{D.removeObserver(u)})}e.$od=M,(0,v.$Dd)(M);function L(D,u){const E=new S(!0,u);return D.addObserver(E),u?u(D.get()):D.reportChanges(),(0,N.$Rc)(()=>{D.removeObserver(E)})}e.$pd=L,(0,v.$Cd)(L);class S{constructor(u,E){this.b=u,this.c=E,this.a=0}beginUpdate(u){this.a++}endUpdate(u){this.a--,this.a===0&&this.b&&(this.c?this.c(u.get()):u.reportChanges())}handlePossibleChange(u){}handleChange(u,E){}}function g(D){let u;return(0,C.$wd)(j=>(u=D(j,u),u))}e.$qd=g;function y(D,u){let E;const j=(0,v.$Od)("derivedObservableWithWritableCache.counter",0),P=(0,C.$wd)(D,I=>(j.read(I),E=u(I,E),E));return Object.assign(P,{clearCache:I=>{E=void 0,j.set(j.get()+1,I)}})}e.$rd=y;function O(D,u,E,j){let P=new U(E,j);return(0,C.$xd)({debugName:()=>(0,v.$Md)(P,void 0,E,D),owner:D,onLastObserverRemoved:()=>{P.dispose(),P=new U(E)}},m=>(P.setItems(u.read(m)),P.getItems()))}e.$sd=O;class U{constructor(u,E){this.c=u,this.e=E,this.a=new Map,this.b=[]}dispose(){this.a.forEach(u=>u.store.dispose()),this.a.clear()}setItems(u){const E=[],j=new Set(this.a.keys());for(const P of u){const I=this.e?this.e(P):P;let m=this.a.get(I);if(m)j.delete(I);else{const l=new N.$Sc;m={out:this.c(P,l),store:l},this.a.set(I,m)}E.push(m.out)}for(const P of j)this.a.get(P).store.dispose(),this.a.delete(P);this.b=E}getItems(){return this.b}}}),define(K[11],H([0,1,5,10,9,24,4]),function(W,e,N,k,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wasEventTriggeredRecently=e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return N.$Od}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return N.$Qd}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return N.$Hd}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return N.$Kd}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.$wd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.$xd}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.$yd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.$zd}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return v.$$c}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return v.$ed}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return v.$ad}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return v.$cd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return v.$_c}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return v.$bd}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return C.$fd}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return C.$md}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return C.$qd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return C.$rd}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return C.$od}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return C.$pd}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return C.$id}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return C.$gd}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return C.$ld}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return C.$kd}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return C.$hd}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return C.$nd}}),!1&&(0,s.$td)(new s.$vd)}),define(K[25],H([0,1,6,2]),function(W,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=void 0;function v(L){const S=L;return S?typeof S.read=="function":!1}e.$8d=v;function C(L){const S=L;return S?[S.on,S.pause,S.resume,S.destroy].every(g=>typeof g=="function"):!1}e.$9d=C;function s(L){const S=L;return S?C(S.stream)&&Array.isArray(S.buffer)&&typeof S.ended=="boolean":!1}e.$0d=s;function f(L,S){return new t(L,S)}e.$$d=f;class t{constructor(S,g){this.e=S,this.f=g,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(S){if(!this.a.destroyed){if(this.a.flowing)this.g(S);else if(this.b.data.push(S),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(g=>this.d.push(g))}}error(S){this.a.destroyed||(this.a.flowing?this.h(S):this.b.error.push(S))}end(S){this.a.destroyed||(typeof S<"u"&&this.write(S),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(S){this.c.data.slice(0).forEach(g=>g(S))}h(S){this.c.error.length===0?(0,N.$1)(S):this.c.error.slice(0).forEach(g=>g(S))}i(){this.c.end.slice(0).forEach(S=>S())}on(S,g){if(!this.a.destroyed)switch(S){case"data":this.c.data.push(g),this.resume();break;case"end":this.c.end.push(g),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(g),this.a.flowing&&this.k();break}}removeListener(S,g){if(this.a.destroyed)return;let y;switch(S){case"data":y=this.c.data;break;case"end":y=this.c.end;break;case"error":y=this.c.error;break}if(y){const O=y.indexOf(g);O>=0&&y.splice(O,1)}}j(){if(this.b.data.length>0){const S=this.e(this.b.data);this.g(S),this.b.data.length=0;const g=[...this.d];this.d.length=0,g.forEach(y=>y())}}k(){if(this.c.error.length>0){for(const S of this.b.error)this.h(S);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function c(L,S){const g=[];let y;for(;(y=L.read())!==null;)g.push(y);return S(g)}e.$_d=c;function $(L,S,g){const y=[];let O;for(;(O=L.read())!==null&&y.length<g;)y.push(O);return O===null&&y.length>0?S(y):{read:()=>{if(y.length>0)return y.shift();if(typeof O<"u"){const U=O;return O=void 0,U}return L.read()}}}e.$ae=$;function d(L,S){return new Promise((g,y)=>{const O=[];h(L,{onData:U=>{S&&O.push(U)},onError:U=>{S?y(U):g(void 0)},onEnd:()=>{g(S?S(O):void 0)}})})}e.$be=d;function h(L,S,g){L.on("error",y=>{g?.isCancellationRequested||S.onError(y)}),L.on("end",()=>{g?.isCancellationRequested||S.onEnd()}),L.on("data",y=>{g?.isCancellationRequested||S.onData(y)})}e.$ce=h;function a(L,S){return new Promise((g,y)=>{const O=new k.$Sc,U=[],D=j=>{if(U.push(j),U.length>S)return O.dispose(),L.pause(),g({stream:L,buffer:U,ended:!1})},u=j=>(O.dispose(),y(j)),E=()=>(O.dispose(),g({stream:L,buffer:U,ended:!0}));O.add((0,k.$Rc)(()=>L.removeListener("error",u))),L.on("error",u),O.add((0,k.$Rc)(()=>L.removeListener("end",E))),L.on("end",E),O.add((0,k.$Rc)(()=>L.removeListener("data",D))),L.on("data",D)})}e.$de=a;function i(L,S){const g=f(S);return g.end(L),g}e.$ee=i;function n(){const L=f(()=>{throw new Error("not supported")});return L.end(),L}e.$fe=n;function r(L){let S=!1;return{read:()=>S?null:(S=!0,L)}}e.$ge=r;function b(L,S,g){const y=f(g);return h(L,{onData:O=>y.write(S.data(O)),onError:O=>y.error(S.error?S.error(O):O),onEnd:()=>y.end()}),y}e.$he=b;function T(L,S,g){let y=!1;return{read:()=>{const O=S.read();return y?O:(y=!0,O!==null?g([L,O]):L)}}}e.$ie=T;function M(L,S,g){let y=!1;const O=f(g);return h(S,{onData:U=>y?O.write(U):(y=!0,O.write(g([L,U]))),onError:U=>O.error(U),onEnd:()=>{y||(y=!0,O.write(L)),O.end()}}),O}e.$je=M}),define(K[12],H([0,1,26,25]),function(W,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=void 0;const v=typeof Buffer<"u",C=new N.$V(()=>new Uint8Array(256));let s,f;class t{static alloc(l){return v?new t(Buffer.allocUnsafe(l)):new t(new Uint8Array(l))}static wrap(l){return v&&!Buffer.isBuffer(l)&&(l=Buffer.from(l.buffer,l.byteOffset,l.byteLength)),new t(l)}static fromString(l,R){return!(R?.dontUseNodeBuffer||!1)&&v?new t(Buffer.from(l)):(s||(s=new TextEncoder),new t(s.encode(l)))}static fromByteArray(l){const R=t.alloc(l.length);for(let q=0,B=l.length;q<B;q++)R.buffer[q]=l[q];return R}static concat(l,R){if(typeof R>"u"){R=0;for(let p=0,Y=l.length;p<Y;p++)R+=l[p].byteLength}const q=t.alloc(R);let B=0;for(let p=0,Y=l.length;p<Y;p++){const V=l[p];q.set(V,B),B+=V.byteLength}return q}constructor(l){this.buffer=l,this.byteLength=this.buffer.byteLength}clone(){const l=t.alloc(this.byteLength);return l.set(this),l}toString(){return v?this.buffer.toString():(f||(f=new TextDecoder),f.decode(this.buffer))}slice(l,R){return new t(this.buffer.subarray(l,R))}set(l,R){if(l instanceof t)this.buffer.set(l.buffer,R);else if(l instanceof Uint8Array)this.buffer.set(l,R);else if(l instanceof ArrayBuffer)this.buffer.set(new Uint8Array(l),R);else if(ArrayBuffer.isView(l))this.buffer.set(new Uint8Array(l.buffer,l.byteOffset,l.byteLength),R);else throw new Error("Unknown argument 'array'")}readUInt32BE(l){return h(this.buffer,l)}writeUInt32BE(l,R){a(this.buffer,l,R)}readUInt32LE(l){return i(this.buffer,l)}writeUInt32LE(l,R){n(this.buffer,l,R)}readUInt8(l){return r(this.buffer,l)}writeUInt8(l,R){b(this.buffer,l,R)}indexOf(l,R=0){return c(this.buffer,l instanceof t?l.buffer:l,R)}}e.$ke=t;function c(m,l,R=0){const q=l.byteLength,B=m.byteLength;if(q===0)return 0;if(q===1)return m.indexOf(l[0]);if(q>B-R)return-1;const p=C.value;p.fill(l.length);for(let X=0;X<l.length;X++)p[l[X]]=l.length-X-1;let Y=R+l.length-1,V=Y,_=-1;for(;Y<B;)if(m[Y]===l[V]){if(V===0){_=Y;break}Y--,V--}else Y+=Math.max(l.length-V,p[m[Y]]),V=l.length-1;return _}e.$le=c;function $(m,l){return m[l+0]<<0>>>0|m[l+1]<<8>>>0}e.$me=$;function d(m,l,R){m[R+0]=l&255,l=l>>>8,m[R+1]=l&255}e.$ne=d;function h(m,l){return m[l]*2**24+m[l+1]*2**16+m[l+2]*2**8+m[l+3]}e.$oe=h;function a(m,l,R){m[R+3]=l,l=l>>>8,m[R+2]=l,l=l>>>8,m[R+1]=l,l=l>>>8,m[R]=l}e.$pe=a;function i(m,l){return m[l+0]<<0>>>0|m[l+1]<<8>>>0|m[l+2]<<16>>>0|m[l+3]<<24>>>0}e.$qe=i;function n(m,l,R){m[R+0]=l&255,l=l>>>8,m[R+1]=l&255,l=l>>>8,m[R+2]=l&255,l=l>>>8,m[R+3]=l&255}e.$re=n;function r(m,l){return m[l]}e.$se=r;function b(m,l,R){m[R]=l}e.$te=b;function T(m){return k.$_d(m,l=>t.concat(l))}e.$ue=T;function M(m){return k.$ge(m)}e.$ve=M;function L(m){return k.$be(m,l=>t.concat(l))}e.$we=L;async function S(m){return m.ended?t.concat(m.buffer):t.concat([...m.buffer,await L(m.stream)])}e.$xe=S;function g(m){return k.$ee(m,l=>t.concat(l))}e.$ye=g;function y(m){return k.$he(m,{data:l=>typeof l=="string"?t.fromString(l):t.wrap(l)},l=>t.concat(l))}e.$ze=y;function O(m){return k.$$d(l=>t.concat(l),m)}e.$Ae=O;function U(m,l){return k.$ie(m,l,R=>t.concat(R))}e.$Be=U;function D(m,l){return k.$je(m,l,R=>t.concat(R))}e.$Ce=D;function u(m){let l=0,R=0,q=0;const B=new Uint8Array(Math.floor(m.length/4*3)),p=V=>{switch(R){case 3:B[q++]=l|V,R=0;break;case 2:B[q++]=l|V>>>2,l=V<<6,R=3;break;case 1:B[q++]=l|V>>>4,l=V<<4,R=2;break;default:l=V<<2,R=1}};for(let V=0;V<m.length;V++){const _=m.charCodeAt(V);if(_>=65&&_<=90)p(_-65);else if(_>=97&&_<=122)p(_-97+26);else if(_>=48&&_<=57)p(_-48+52);else if(_===43||_===45)p(62);else if(_===47||_===95)p(63);else{if(_===61)break;throw new SyntaxError(`Unexpected base64 character ${m[V]}`)}}const Y=q;for(;R>0;)p(0);return t.wrap(B).slice(0,Y)}e.$De=u;function E(m){const l=m.split(".")[1],R=u(l);return JSON.parse(R.toString())}e.$Ee=E;const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function I({buffer:m},l=!0,R=!1){const q=R?P:j;let B="";const p=m.byteLength%3;let Y=0;for(;Y<m.byteLength-p;Y+=3){const V=m[Y+0],_=m[Y+1],X=m[Y+2];B+=q[V>>>2],B+=q[(V<<4|_>>>4)&63],B+=q[(_<<2|X>>>6)&63],B+=q[X&63]}if(p===1){const V=m[Y+0];B+=q[V>>>2],B+=q[V<<4&63],l&&(B+="==")}else if(p===2){const V=m[Y+0],_=m[Y+1];B+=q[V>>>2],B+=q[(V<<4|_>>>4)&63],B+=q[_<<2&63],l&&(B+="=")}return B}e.$Fe=I}),define(K[27],H([0,1]),function(W,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Td=void 0,e.$Td=Symbol("MicrotaskDelay")}),define(K[13],H([0,1]),function(W,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$BG=e.StringEOL=void 0;var N;(function(v){v[v.Unknown=0]="Unknown",v[v.Invalid=3]="Invalid",v[v.LF=1]="LF",v[v.CRLF=2]="CRLF"})(N||(e.StringEOL=N={}));function k(v){let C=0,s=0,f=0,t=0;for(let c=0,$=v.length;c<$;c++){const d=v.charCodeAt(c);d===13?(C===0&&(s=c),C++,c+1<$&&v.charCodeAt(c+1)===10?(t|=2,c++):t|=3,f=c+1):d===10&&(t|=1,C===0&&(s=c),C++,f=c+1)}return C===0&&(s=v.length),[C,s,v.length-f,t]}e.$BG=k}),define(K[14],H([0,1]),function(W,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zG=e.MetadataConsts=e.StandardTokenType=e.ColorId=e.FontStyle=e.LanguageId=void 0;var N;(function(t){t[t.Null=0]="Null",t[t.PlainText=1]="PlainText"})(N||(e.LanguageId=N={}));var k;(function(t){t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough"})(k||(e.FontStyle=k={}));var v;(function(t){t[t.None=0]="None",t[t.DefaultForeground=1]="DefaultForeground",t[t.DefaultBackground=2]="DefaultBackground"})(v||(e.ColorId=v={}));var C;(function(t){t[t.Other=0]="Other",t[t.Comment=1]="Comment",t[t.String=2]="String",t[t.RegEx=3]="RegEx"})(C||(e.StandardTokenType=C={}));var s;(function(t){t[t.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",t[t.TOKEN_TYPE_MASK=768]="TOKEN_TYPE_MASK",t[t.BALANCED_BRACKETS_MASK=1024]="BALANCED_BRACKETS_MASK",t[t.FONT_STYLE_MASK=30720]="FONT_STYLE_MASK",t[t.FOREGROUND_MASK=16744448]="FOREGROUND_MASK",t[t.BACKGROUND_MASK=4278190080]="BACKGROUND_MASK",t[t.ITALIC_MASK=2048]="ITALIC_MASK",t[t.BOLD_MASK=4096]="BOLD_MASK",t[t.UNDERLINE_MASK=8192]="UNDERLINE_MASK",t[t.STRIKETHROUGH_MASK=16384]="STRIKETHROUGH_MASK",t[t.SEMANTIC_USE_ITALIC=1]="SEMANTIC_USE_ITALIC",t[t.SEMANTIC_USE_BOLD=2]="SEMANTIC_USE_BOLD",t[t.SEMANTIC_USE_UNDERLINE=4]="SEMANTIC_USE_UNDERLINE",t[t.SEMANTIC_USE_STRIKETHROUGH=8]="SEMANTIC_USE_STRIKETHROUGH",t[t.SEMANTIC_USE_FOREGROUND=16]="SEMANTIC_USE_FOREGROUND",t[t.SEMANTIC_USE_BACKGROUND=32]="SEMANTIC_USE_BACKGROUND",t[t.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",t[t.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",t[t.BALANCED_BRACKETS_OFFSET=10]="BALANCED_BRACKETS_OFFSET",t[t.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",t[t.FOREGROUND_OFFSET=15]="FOREGROUND_OFFSET",t[t.BACKGROUND_OFFSET=24]="BACKGROUND_OFFSET"})(s||(e.MetadataConsts=s={}));class f{static getLanguageId(c){return(c&255)>>>0}static getTokenType(c){return(c&768)>>>8}static containsBalancedBrackets(c){return(c&1024)!==0}static getFontStyle(c){return(c&30720)>>>11}static getForeground(c){return(c&16744448)>>>15}static getBackground(c){return(c&4278190080)>>>24}static getClassNameFromMetadata(c){let d="mtk"+this.getForeground(c);const h=this.getFontStyle(c);return h&1&&(d+=" mtki"),h&2&&(d+=" mtkb"),h&4&&(d+=" mtku"),h&8&&(d+=" mtks"),d}static getInlineStyleFromMetadata(c,$){const d=this.getForeground(c),h=this.getFontStyle(c);let a=`color: ${$[d]};`;h&1&&(a+="font-style: italic;"),h&2&&(a+="font-weight: bold;");let i="";return h&4&&(i+=" underline"),h&8&&(i+=" line-through"),i&&(a+=`text-decoration:${i};`),a}static getPresentationFromMetadata(c){const $=this.getForeground(c),d=this.getFontStyle(c);return{foreground:$,italic:!!(d&1),bold:!!(d&2),underline:!!(d&4),strikethrough:!!(d&8)}}}e.$zG=f}),define(K[28],H([0,1,29]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pP=void 0;class k{constructor(s){this.b=s,this.a=[]}get(s){return s<this.a.length?this.a[s]:this.b}set(s,f){for(;s>=this.a.length;)this.a[this.a.length]=this.b;this.a[s]=f}replace(s,f,t){if(s>=this.a.length)return;if(f===0){this.insert(s,t);return}else if(t===0){this.delete(s,f);return}const c=this.a.slice(0,s),$=this.a.slice(s+f),d=v(t,this.b);this.a=c.concat(d,$)}delete(s,f){f===0||s>=this.a.length||this.a.splice(s,f)}insert(s,f){if(f===0||s>=this.a.length)return;const t=[];for(let c=0;c<f;c++)t[c]=this.b;this.a=(0,N.$Wb)(this.a,s,t)}}e.$pP=k;function v(C,s){const f=[];for(let t=0;t<C;t++)f[t]=s;return f}}),define(K[7],H([0,1,14]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CG=void 0;class k{static{this.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0}static createEmpty(s,f){const t=k.defaultTokenMetadata,c=new Uint32Array(2);return c[0]=s.length,c[1]=t,new k(c,s,f)}constructor(s,f,t){this._lineTokensBrand=void 0,this.a=s,this.b=this.a.length>>>1,this.c=f,this.d=t}equals(s){return s instanceof k?this.slicedEquals(s,0,this.b):!1}slicedEquals(s,f,t){if(this.c!==s.c||this.b!==s.b)return!1;const c=f<<1,$=c+(t<<1);for(let d=c;d<$;d++)if(this.a[d]!==s.a[d])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(s){return s>0?this.a[s-1<<1]:0}getMetadata(s){return this.a[(s<<1)+1]}getLanguageId(s){const f=this.a[(s<<1)+1],t=N.$zG.getLanguageId(f);return this.d.decodeLanguageId(t)}getStandardTokenType(s){const f=this.a[(s<<1)+1];return N.$zG.getTokenType(f)}getForeground(s){const f=this.a[(s<<1)+1];return N.$zG.getForeground(f)}getClassName(s){const f=this.a[(s<<1)+1];return N.$zG.getClassNameFromMetadata(f)}getInlineStyle(s,f){const t=this.a[(s<<1)+1];return N.$zG.getInlineStyleFromMetadata(t,f)}getPresentation(s){const f=this.a[(s<<1)+1];return N.$zG.getPresentationFromMetadata(f)}getEndOffset(s){return this.a[s<<1]}findTokenIndexAtOffset(s){return k.findIndexInTokensArray(this.a,s)}inflate(){return this}sliceAndInflate(s,f,t){return new v(this,s,f,t)}static convertToEndOffset(s,f){const c=(s.length>>>1)-1;for(let $=0;$<c;$++)s[$<<1]=s[$+1<<1];s[c<<1]=f}static findIndexInTokensArray(s,f){if(s.length<=2)return 0;let t=0,c=(s.length>>>1)-1;for(;t<c;){const $=t+Math.floor((c-t)/2),d=s[$<<1];if(d===f)return $+1;d<f?t=$+1:d>f&&(c=$)}return t}withInserted(s){if(s.length===0)return this;let f=0,t=0,c="";const $=new Array;let d=0;for(;;){const h=f<this.b?this.a[f<<1]:-1,a=t<s.length?s[t]:null;if(h!==-1&&(a===null||h<=a.offset)){c+=this.c.substring(d,h);const i=this.a[(f<<1)+1];$.push(c.length,i),f++,d=h}else if(a){if(a.offset>d){c+=this.c.substring(d,a.offset);const i=this.a[(f<<1)+1];$.push(c.length,i),d=a.offset}c+=a.text,$.push(c.length,a.tokenMetadata),t++}else break}return new k(new Uint32Array($),c,this.d)}extractObject(){return{tokens:this.a,text:this.c}}}e.$CG=k;class v{constructor(s,f,t,c){this.a=s,this.b=f,this.c=t,this.d=c,this.e=s.findTokenIndexAtOffset(f),this.f=0;for(let $=this.e,d=s.getCount();$<d&&!(s.getStartOffset($)>=t);$++)this.f++}getMetadata(s){return this.a.getMetadata(this.e+s)}getLanguageId(s){return this.a.getLanguageId(this.e+s)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(s){return s instanceof v?this.b===s.b&&this.c===s.c&&this.d===s.d&&this.a.slicedEquals(s.a,this.e,this.f):!1}getCount(){return this.f}getForeground(s){return this.a.getForeground(this.e+s)}getEndOffset(s){const f=this.a.getEndOffset(this.e+s);return Math.min(this.c,f)-this.b+this.d}getClassName(s){return this.a.getClassName(this.e+s)}getInlineStyle(s,f){return this.a.getInlineStyle(this.e+s,f)}getPresentation(s){return this.a.getPresentation(this.e+s)}findTokenIndexAtOffset(s){return this.a.findTokenIndexAtOffset(s+this.b-this.d)-this.e}}}),define(K[30],H([0,1,7]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$FG=e.$EG=e.$DG=void 0,e.$DG=new Uint32Array(0).buffer;class k{static deleteBeginning(s,f){return s===null||s===e.$DG?s:k.delete(s,0,f)}static deleteEnding(s,f){if(s===null||s===e.$DG)return s;const t=v(s),c=t[t.length-2];return k.delete(s,f,c)}static delete(s,f,t){if(s===null||s===e.$DG||f===t)return s;const c=v(s),$=c.length>>>1;if(f===0&&c[c.length-2]===t)return e.$DG;const d=N.$CG.findIndexInTokensArray(c,f),h=d>0?c[d-1<<1]:0,a=c[d<<1];if(t<a){const T=t-f;for(let M=d;M<$;M++)c[M<<1]-=T;return s}let i,n;h!==f?(c[d<<1]=f,i=d+1<<1,n=f):(i=d<<1,n=h);const r=t-f;for(let T=d+1;T<$;T++){const M=c[T<<1]-r;M>n&&(c[i++]=M,c[i++]=c[(T<<1)+1],n=M)}if(i===c.length)return s;const b=new Uint32Array(i);return b.set(c.subarray(0,i),0),b.buffer}static append(s,f){if(f===e.$DG)return s;if(s===e.$DG)return f;if(s===null)return s;if(f===null)return null;const t=v(s),c=v(f),$=c.length>>>1,d=new Uint32Array(t.length+c.length);d.set(t,0);let h=t.length;const a=t[t.length-2];for(let i=0;i<$;i++)d[h++]=c[i<<1]+a,d[h++]=c[(i<<1)+1];return d.buffer}static insert(s,f,t){if(s===null||s===e.$DG)return s;const c=v(s),$=c.length>>>1;let d=N.$CG.findIndexInTokensArray(c,f);d>0&&c[d-1<<1]===f&&d--;for(let h=d;h<$;h++)c[h<<1]+=t;return s}}e.$EG=k;function v(C){return C instanceof Uint32Array?C:new Uint32Array(C)}e.$FG=v}),define(K[31],H([0,1,29,12,44,13,30,15]),function(W,e,N,k,v,C,s,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$GG=void 0;class t{static deserialize($,d,h){const a=new Uint32Array($.buffer),i=(0,k.$oe)($,d);d+=4;const n=(0,k.$oe)($,d);d+=4;const r=[];for(let b=0;b<n;b++){const T=(0,k.$oe)($,d);d+=4,r.push(a.subarray(d/4,d/4+T/4)),d+=T}return h.push(new t(i,r)),d}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor($,d){this.a=$,this.b=d}getLineRange(){return new f.$$F(this.a,this.a+this.b.length)}getLineTokens($){return this.b[$-this.a]}appendLineTokens($){this.b.push($)}serializeSize(){let $=0;$+=4,$+=4;for(let d=0;d<this.b.length;d++){const h=this.b[d];if(!(h instanceof Uint32Array))throw new Error("Not supported!");$+=4,$+=h.byteLength}return $}serialize($,d){(0,k.$pe)($,this.a,d),d+=4,(0,k.$pe)($,this.b.length,d),d+=4;for(let h=0;h<this.b.length;h++){const a=this.b[h];if(!(a instanceof Uint32Array))throw new Error("Not supported!");(0,k.$pe)($,a.byteLength,d),d+=4,$.set(new Uint8Array(a.buffer),d),d+=a.byteLength}return d}applyEdit($,d){const[h,a]=(0,C.$BG)(d);this.c($),this.d(new v.$dt($.startLineNumber,$.startColumn),h,a)}c($){if($.startLineNumber===$.endLineNumber&&$.startColumn===$.endColumn)return;const d=$.startLineNumber-this.a,h=$.endLineNumber-this.a;if(h<0){const a=h-d;this.a-=a;return}if(!(d>=this.b.length)){if(d<0&&h>=this.b.length){this.a=0,this.b=[];return}if(d===h){this.b[d]=s.$EG.delete(this.b[d],$.startColumn-1,$.endColumn-1);return}if(d>=0)if(this.b[d]=s.$EG.deleteEnding(this.b[d],$.startColumn-1),h<this.b.length){const a=s.$EG.deleteBeginning(this.b[h],$.endColumn-1);this.b[d]=s.$EG.append(this.b[d],a),this.b.splice(d+1,h-d)}else this.b[d]=s.$EG.append(this.b[d],null),this.b=this.b.slice(0,d+1);else{const a=-d;this.a-=a,this.b[h]=s.$EG.deleteBeginning(this.b[h],$.endColumn-1),this.b=this.b.slice(h)}}}d($,d,h){if(d===0&&h===0)return;const a=$.lineNumber-this.a;if(a<0){this.a+=d;return}if(!(a>=this.b.length)){if(d===0){this.b[a]=s.$EG.insert(this.b[a],$.column-1,h);return}this.b[a]=s.$EG.deleteEnding(this.b[a],$.column-1),this.b[a]=s.$EG.insert(this.b[a],$.column-1,h),this.e($.lineNumber,d)}}e($,d){if(d===0)return;const h=[];for(let a=0;a<d;a++)h[a]=null;this.b=N.$Wb(this.b,$,h)}}e.$GG=t}),define(K[16],H([0,1,12,31]),function(W,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qP=void 0;class v{static deserialize(s){let f=0;const t=(0,N.$oe)(s,f);f+=4;const c=[];for(let $=0;$<t;$++)f=k.$GG.deserialize(s,f,c);return c}constructor(){this.a=[]}add(s,f){if(this.a.length>0){const t=this.a[this.a.length-1];if(t.endLineNumber+1===s){t.appendLineTokens(f);return}}this.a.push(new k.$GG(s,[f]))}finalize(){return this.a}serialize(){const s=this.b(),f=new Uint8Array(s);return this.c(f),f}b(){let s=0;s+=4;for(let f=0;f<this.a.length;f++)s+=this.a[f].serializeSize();return s}c(s){let f=0;(0,N.$pe)(s,this.a.length,f),f+=4;for(let t=0;t<this.a.length;t++)f=this.a[t].serialize(s,f)}}e.$qP=v}),define(K[32],H([0,1,33,3,17,45]),function(W,e,N,k,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fg=e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=void 0;function s(u){return u===47||u===92}e.$3f=s;function f(u){return u.replace(/[\\/]/g,N.$gc.sep)}e.$4f=f;function t(u){return u.indexOf("/")===-1&&(u=f(u)),/^[a-zA-Z]:(\/|$)/.test(u)&&(u="/"+u),u}e.$5f=t;function c(u,E=N.$gc.sep){if(!u)return"";const j=u.length,P=u.charCodeAt(0);if(s(P)){if(s(u.charCodeAt(1))&&!s(u.charCodeAt(2))){let m=3;const l=m;for(;m<j&&!s(u.charCodeAt(m));m++);if(l!==m&&!s(u.charCodeAt(m+1))){for(m+=1;m<j;m++)if(s(u.charCodeAt(m)))return u.slice(0,m+1).replace(/[\\/]/g,E)}}return E}else if(b(P)&&u.charCodeAt(1)===58)return s(u.charCodeAt(2))?u.slice(0,2)+E:u.slice(0,2);let I=u.indexOf("://");if(I!==-1){for(I+=3;I<j;I++)if(s(u.charCodeAt(I)))return u.slice(0,I+1)}return""}e.$6f=c;function $(u){if(!k.$i||!u||u.length<5)return!1;let E=u.charCodeAt(0);if(E!==92||(E=u.charCodeAt(1),E!==92))return!1;let j=2;const P=j;for(;j<u.length&&(E=u.charCodeAt(j),E!==92);j++);return!(P===j||(E=u.charCodeAt(j+1),isNaN(E)||E===92))}e.$7f=$;const d=/[\\/:\*\?"<>\|]/g,h=/[\\/]/g,a=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function i(u,E=k.$i){const j=E?d:h;return!(!u||u.length===0||/^\s+$/.test(u)||(j.lastIndex=0,j.test(u))||E&&a.test(u)||u==="."||u===".."||E&&u[u.length-1]==="."||E&&u.length!==u.trim().length||u.length>255)}e.$8f=i;function n(u,E,j){const P=u===E;return!j||P?P:!u||!E?!1:(0,v.$bf)(u,E)}e.$9f=n;function r(u,E,j,P=N.sep){if(u===E)return!0;if(!u||!E||E.length>u.length)return!1;if(j){if(!(0,v.$cf)(u,E))return!1;if(E.length===u.length)return!0;let m=E.length;return E.charAt(E.length-1)===P&&m--,u.charAt(m)===P}return E.charAt(E.length-1)!==P&&(E+=P),u.indexOf(E)===0}e.$0f=r;function b(u){return u>=65&&u<=90||u>=97&&u<=122}e.$$f=b;function T(u,E){return k.$i&&u.endsWith(":")&&(u+=N.sep),(0,N.$ic)(u)||(u=(0,N.$jc)(E,u)),u=(0,N.$hc)(u),k.$i?(u=(0,v.$We)(u,N.sep),u.endsWith(":")&&(u+=N.sep)):(u=(0,v.$We)(u,N.sep),u||(u=N.sep)),u}e.$_f=T;function M(u){const E=(0,N.$hc)(u);return k.$i?u.length>3?!1:L(E)&&(u.length===2||E.charCodeAt(2)===92):E===N.$gc.sep}e.$ag=M;function L(u,E=k.$i){return E?b(u.charCodeAt(0))&&u.charCodeAt(1)===58:!1}e.$bg=L;function S(u,E=k.$i){return L(u,E)?u[0]:void 0}e.$cg=S;function g(u,E,j){return E.length>u.length?-1:u===E?0:(j&&(u=u.toLowerCase(),E=E.toLowerCase()),u.indexOf(E))}e.$dg=g;function y(u){const E=u.split(":");let j,P,I;for(const m of E){const l=Number(m);(0,C.$Of)(l)?P===void 0?P=l:I===void 0&&(I=l):j=j?[j,m].join(":"):m}if(!j)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:j,line:P!==void 0?P:void 0,column:I!==void 0?I:P!==void 0?1:void 0}}e.$eg=y;const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",U="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function D(u,E,j=8){let P="";for(let m=0;m<j;m++){let l;m===0&&k.$i&&!E&&(j===3||j===4)?l=U:l=O,P+=l.charAt(Math.floor(Math.random()*l.length))}let I;return E?I=`${E}-${P}`:I=P,u?(0,N.$jc)(u,I):I}e.$fg=D}),define(K[18],H([0,1,6,3,17,8]),function(W,e,N,k,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.Schemas=void 0;var s;(function(h){h.inMemory="inmemory",h.vscode="vscode",h.internal="private",h.walkThrough="walkThrough",h.walkThroughSnippet="walkThroughSnippet",h.http="http",h.https="https",h.file="file",h.mailto="mailto",h.untitled="untitled",h.data="data",h.command="command",h.vscodeRemote="vscode-remote",h.vscodeRemoteResource="vscode-remote-resource",h.vscodeManagedRemoteResource="vscode-managed-remote-resource",h.vscodeUserData="vscode-userdata",h.vscodeCustomEditor="vscode-custom-editor",h.vscodeNotebookCell="vscode-notebook-cell",h.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",h.vscodeNotebookCellOutput="vscode-notebook-cell-output",h.vscodeInteractiveInput="vscode-interactive-input",h.vscodeSettings="vscode-settings",h.vscodeWorkspaceTrust="vscode-workspace-trust",h.vscodeTerminal="vscode-terminal",h.vscodeChatSesssion="vscode-chat-editor",h.webviewPanel="webview-panel",h.vscodeWebview="vscode-webview",h.extension="extension",h.aiChat="cursor.aichat",h.aiReader="cursor.aireader",h.vscodeFileResource="vscode-file",h.tmp="tmp",h.vsls="vsls",h.vscodeSourceControl="vscode-scm"})(s||(e.Schemas=s={}));function f(h,a){return C.URI.isUri(h)?(0,v.$bf)(h.scheme,a):(0,v.$cf)(h,a+":")}e.$gg=f;function t(h,...a){return a.some(i=>f(h,i))}e.$hg=t,e.$ig="vscode-tkn",e.$jg="tkn";class c{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${s.vscodeRemoteResource}`}setPreferredWebSchema(a){this.d=a}setDelegate(a){this.e=a}setServerRootPath(a){this.f=`${a}/${s.vscodeRemoteResource}`}set(a,i,n){this.a[a]=i,this.b[a]=n}setConnectionToken(a,i){this.c[a]=i}getPreferredWebSchema(){return this.d}rewrite(a){if(this.e)try{return this.e(a)}catch(M){return N.$1(M),a}const i=a.authority;let n=this.a[i];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);const r=this.b[i],b=this.c[i];let T=`path=${encodeURIComponent(a.path)}`;return typeof b=="string"&&(T+=`&${e.$jg}=${encodeURIComponent(b)}`),C.URI.from({scheme:k.$o?this.d:s.vscodeRemoteResource,authority:`${n}:${r}`,path:this.f,query:T})}}e.$kg=new c,e.$lg="vs/../../extensions",e.$mg="vs/../../node_modules",e.$ng="vs/../../node_modules.asar",e.$og="vs/../../node_modules.asar.unpacked",e.$pg="vscode-app";class ${static{this.a=e.$pg}asBrowserUri(a){const i=this.b(a,W);return this.uriToBrowserUri(i)}uriToBrowserUri(a){return a.scheme===s.vscodeRemote?e.$kg.rewrite(a):a.scheme===s.file&&(k.$m||k.$q===`${s.vscodeFileResource}://${$.a}`)?a.with({scheme:s.vscodeFileResource,authority:a.authority||$.a,query:null,fragment:null}):a}asFileUri(a){const i=this.b(a,W);return this.uriToFileUri(i)}uriToFileUri(a){return a.scheme===s.vscodeFileResource?a.with({scheme:s.file,authority:a.authority!==$.a?a.authority:null,query:null,fragment:null}):a}b(a,i){return C.URI.isUri(a)?a:C.URI.parse(i.toUrl(a))}}e.$qg=new $;var d;(function(h){const a=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);h.CoopAndCoep=Object.freeze(a.get("3"));const i="vscode-coi";function n(b){let T;typeof b=="string"?T=new URL(b).searchParams:b instanceof URL?T=b.searchParams:C.URI.isUri(b)&&(T=new URL(b.toString(!0)).searchParams);const M=T?.get(i);if(M)return a.get(M)}h.getHeadersFromQuery=n;function r(b,T,M){if(!globalThis.crossOriginIsolated)return;const L=T&&M?"3":M?"2":"1";b instanceof URLSearchParams?b.set(i,L):b[i]=L}h.addSearchParam=r})(d||(e.COI=d={}))}),define(K[34],H([0,1,22,18,3,8]),function(W,e,N,k,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9R=void 0;class s{constructor(h,a,i){this.id=h,this.dependencies=a,this.callback=i}}class f{static{this.INSTANCE=new f}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(h,a,i)=>{typeof h!="string"&&(i=a,a=h,h=null),(typeof a!="object"||!Array.isArray(a))&&(i=a,a=null),this.c.push(new s(h,a,i))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(h){if(h.startsWith(window.location.origin)||h.startsWith("vscode-file://vscode-app"))return h;throw new Error(`[trusted_script_src] Invalid script url: ${h}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(h){return h}})))}async load(h){this.g();const a=await(this.a?this.i(h):this.b?this.h(h):this.j(h));if(!a)throw new Error(`Did not receive a define call from script ${h}`);if(Array.isArray(a.dependencies)&&a.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${h}. The dependencies are: ${a.dependencies.join(", ")}`);return typeof a.callback=="function"?a.callback([]):a.callback}h(h){return new Promise((a,i)=>{const n=document.createElement("script");n.setAttribute("async","async"),n.setAttribute("type","text/javascript");const r=()=>{n.removeEventListener("load",b),n.removeEventListener("error",T)},b=M=>{r(),a(this.c.pop())},T=M=>{r(),i(M)};n.addEventListener("load",b),n.addEventListener("error",T),this.f&&(h=this.f.createScriptURL(h)),n.setAttribute("src",h),window.document.getElementsByTagName("head")[0].appendChild(n)})}i(h){return new Promise((a,i)=>{try{this.f&&(h=this.f.createScriptURL(h)),importScripts(h),a(this.c.pop())}catch(n){i(n)}})}async j(h){try{const a=globalThis._VSCODE_NODE_MODULES.fs,i=globalThis._VSCODE_NODE_MODULES.vm,n=globalThis._VSCODE_NODE_MODULES.module,r=C.URI.parse(h).fsPath,b=a.readFileSync(r).toString(),T=n.wrap(b.replace(/^#!.*/,""));return new i.Script(T).runInThisContext().apply(),this.c.pop()}catch(a){throw a}}}const t=new Map;let c={};typeof globalThis.require=="object"&&(c=globalThis.require.paths??{});async function $(d,h,a){if(N.$T){a===void 0&&(a=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),c[d]&&(d=c[d]);const i=`${d}/${h}`;if(t.has(i))return t.get(i);let n;if(/^\w[\w\d+.-]*:\/\//.test(i))n=i;else{const M=`${a&&!v.$o?k.$ng:k.$mg}/${i}`;n=k.$qg.asBrowserUri(M).toString(!0)}const r=f.INSTANCE.load(n);return t.set(i,r),r}else return await new Promise((i,n)=>{W([d],i,n)})}e.$9R=$}),define(K[19],H([0,1,32,18,33,3,17,8]),function(W,e,N,k,v,C,s,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Tg=e.DataUri=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=void 0;function t(a){return(0,f.$wc)(a,!0)}e.$xg=t;class c{constructor(i){this.a=i}compare(i,n,r=!1){return i===n?0:(0,s.$7e)(this.getComparisonKey(i,r),this.getComparisonKey(n,r))}isEqual(i,n,r=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,r)===this.getComparisonKey(n,r)}getComparisonKey(i,n=!1){return i.with({path:this.a(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(i){return this.a(i)}isEqualOrParent(i,n,r=!1){if(i.scheme===n.scheme){if(i.scheme===k.Schemas.file)return N.$0f(t(i),t(n),this.a(i))&&i.query===n.query&&(r||i.fragment===n.fragment);if((0,e.$Og)(i.authority,n.authority))return N.$0f(i.path,n.path,this.a(i),"/")&&i.query===n.query&&(r||i.fragment===n.fragment)}return!1}joinPath(i,...n){return f.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.$Gg)(i)||i.authority}basename(i){return v.$gc.basename(i.path)}extname(i){return v.$gc.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===k.Schemas.file?n=f.URI.file(v.$mc(t(i))).path:(n=v.$gc.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===k.Schemas.file?n=f.URI.file(v.$hc(t(i))).path:n=v.$gc.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.$Og)(i.authority,n.authority))return;if(i.scheme===k.Schemas.file){const T=v.$lc(t(i),t(n));return C.$i?N.$4f(T):T}let r=i.path||"/";const b=n.path||"/";if(this.a(i)){let T=0;for(const M=Math.min(r.length,b.length);T<M&&!(r.charCodeAt(T)!==b.charCodeAt(T)&&r.charAt(T).toLowerCase()!==b.charAt(T).toLowerCase());T++);r=b.substr(0,T)+r.substr(T)}return v.$gc.relative(r,b)}resolvePath(i,n){if(i.scheme===k.Schemas.file){const r=f.URI.file(v.$kc(t(i),n));return i.with({authority:r.authority,path:r.path})}return n=N.$5f(n),i.with({path:v.$gc.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,s.$bf)(i,n)}hasTrailingPathSeparator(i,n=v.sep){if(i.scheme===k.Schemas.file){const r=t(i);return r.length>N.$6f(r).length&&r[r.length-1]===n}else{const r=i.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=v.sep){return(0,e.$Pg)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=v.sep){let r=!1;if(i.scheme===k.Schemas.file){const b=t(i);r=b!==void 0&&b.length===N.$6f(b).length&&b[b.length-1]===n}else{n="/";const b=i.path;r=b.length===1&&b.charCodeAt(b.length-1)===47}return!r&&!(0,e.$Pg)(i,n)?i.with({path:i.path+"/"}):i}}e.$yg=c,e.$zg=new c(()=>!1),e.$Ag=new c(a=>a.scheme===k.Schemas.file?!C.$k:!0),e.$Bg=new c(a=>!0),e.$Cg=e.$zg.isEqual.bind(e.$zg),e.$Dg=e.$zg.isEqualOrParent.bind(e.$zg),e.$Eg=e.$zg.getComparisonKey.bind(e.$zg),e.$Fg=e.$zg.basenameOrAuthority.bind(e.$zg),e.$Gg=e.$zg.basename.bind(e.$zg),e.$Hg=e.$zg.extname.bind(e.$zg),e.$Ig=e.$zg.dirname.bind(e.$zg),e.$Jg=e.$zg.joinPath.bind(e.$zg),e.$Kg=e.$zg.normalizePath.bind(e.$zg),e.$Lg=e.$zg.relativePath.bind(e.$zg),e.$Mg=e.$zg.resolvePath.bind(e.$zg),e.$Ng=e.$zg.isAbsolutePath.bind(e.$zg),e.$Og=e.$zg.isEqualAuthority.bind(e.$zg),e.$Pg=e.$zg.hasTrailingPathSeparator.bind(e.$zg),e.$Qg=e.$zg.removeTrailingPathSeparator.bind(e.$zg),e.$Rg=e.$zg.addTrailingPathSeparator.bind(e.$zg);function $(a,i){const n=[];for(let r=0;r<a.length;r++){const b=i(a[r]);a.some((T,M)=>M===r?!1:(0,e.$Dg)(b,i(T)))||n.push(a[r])}return n}e.$Sg=$;var d;(function(a){a.META_DATA_LABEL="label",a.META_DATA_DESCRIPTION="description",a.META_DATA_SIZE="size",a.META_DATA_MIME="mime";function i(n){const r=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(M=>{const[L,S]=M.split(":");L&&S&&r.set(L,S)});const T=n.path.substring(0,n.path.indexOf(";"));return T&&r.set(a.META_DATA_MIME,T),r}a.parseMetaData=i})(d||(e.DataUri=d={}));function h(a,i,n){if(i){let r=a.path;return r&&r[0]!==v.$gc.sep&&(r=v.$gc.sep+r),a.with({scheme:n,authority:i,path:r})}return a.with({scheme:n})}e.$Tg=h}),define(K[20],H([0,1,46,6,35,2,19,3,27,26]),function(W,e,N,k,v,C,s,f,t,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.Promises=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=void 0;function $(z){return!!z&&typeof z.then=="function"}e.$Ug=$;function d(z){const o=new N.$7d,w=z(o.token),A=new Promise((F,G)=>{const Z=o.token.onCancellationRequested(()=>{Z.dispose(),G(new k.$5)});Promise.resolve(w).then(J=>{Z.dispose(),o.dispose(),F(J)},J=>{Z.dispose(),o.dispose(),G(J)})});return new class{cancel(){o.cancel(),o.dispose()}then(F,G){return A.then(F,G)}catch(F){return this.then(void 0,F)}finally(F){return A.finally(F)}}}e.$Vg=d;function h(z,o,w){return new Promise((A,F)=>{const G=o.onCancellationRequested(()=>{G.dispose(),A(w)});z.then(A,F).finally(()=>G.dispose())})}e.$Wg=h;function a(z,o){return new Promise((w,A)=>{const F=o.onCancellationRequested(()=>{F.dispose(),A(new k.$5)});z.then(w,A).finally(()=>F.dispose())})}e.$Xg=a;async function i(z){let o=-1;const w=z.map((A,F)=>A.then(G=>(o=F,G)));try{return await Promise.race(w)}finally{z.forEach((A,F)=>{F!==o&&A.cancel()})}}e.$Yg=i;function n(z,o,w){let A;const F=setTimeout(()=>{A?.(void 0),w?.()},o);return Promise.race([z.finally(()=>clearTimeout(F)),new Promise(G=>A=G)])}e.$Zg=n;function r(z){return new Promise((o,w)=>{const A=z();$(A)?A.then(o,w):o(A)})}e.$1g=r;class b{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(o){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=o,!this.b){const w=()=>{if(this.b=null,this.f)return;const A=this.queue(this.d);return this.d=null,A};this.b=new Promise(A=>{this.a.then(w,w).then(A)})}return new Promise((w,A)=>{this.b.then(w,A)})}return this.a=o(),new Promise((w,A)=>{this.a.then(F=>{this.a=null,w(F)},F=>{this.a=null,A(F)})})}dispose(){this.f=!0}}e.$2g=b;class T{constructor(){this.a=Promise.resolve(null)}queue(o){return this.a=this.a.then(()=>o(),()=>o())}}e.$3g=T;class M{constructor(){this.a=new Map}queue(o,w){const F=(this.a.get(o)??Promise.resolve()).catch(()=>{}).then(w).finally(()=>{this.a.get(o)===F&&this.a.delete(o)});return this.a.set(o,F),F}}e.$4g=M;const L=(z,o)=>{let w=!0;const A=setTimeout(()=>{w=!1,o()},z);return{isTriggered:()=>w,dispose:()=>{clearTimeout(A),w=!1}}},S=z=>{let o=!0;return queueMicrotask(()=>{o&&(o=!1,z())}),{isTriggered:()=>o,dispose:()=>{o=!1}}};class g{constructor(o){this.defaultDelay=o,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(o,w=this.defaultDelay){this.g=o,this.h(),this.b||(this.b=new Promise((F,G)=>{this.d=F,this.f=G}).then(()=>{if(this.b=null,this.d=null,this.g){const F=this.g;return this.g=null,F()}}));const A=()=>{this.a=null,this.d?.(null)};return this.a=w===t.$Td?S(A):L(w,A),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new k.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$5g=g;class y{constructor(o){this.a=new g(o),this.b=new b}trigger(o,w){return this.a.trigger(()=>this.b.queue(o),w)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$6g=y;class O{constructor(){this.a=!1,this.b=new Promise((o,w)=>{this.d=o})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$7g=O;class U extends O{constructor(o){super(),this.f=setTimeout(()=>this.open(),o)}open(){clearTimeout(this.f),super.open()}}e.$8g=U;function D(z,o){return o?new Promise((w,A)=>{const F=setTimeout(()=>{G.dispose(),w()},z),G=o.onCancellationRequested(()=>{clearTimeout(F),G.dispose(),A(new k.$5)})}):d(w=>D(z,w))}e.$9g=D;function u(z,o=0,w){const A=setTimeout(()=>{z(),w&&F.dispose()},o),F=(0,C.$Rc)(()=>{clearTimeout(A),w?.deleteAndLeak(F)});return w?.add(F),F}e.$0g=u;function E(z){const o=[];let w=0;const A=z.length;function F(){return w<A?z[w++]():null}function G(Z){Z!=null&&o.push(Z);const J=F();return J?J.then(G):Promise.resolve(o)}return Promise.resolve(null).then(G)}e.$$g=E;function j(z,o=A=>!!A,w=null){let A=0;const F=z.length,G=()=>{if(A>=F)return Promise.resolve(w);const Z=z[A++];return Promise.resolve(Z()).then(x=>o(x)?Promise.resolve(x):G())};return G()}e.$_g=j;function P(z,o=A=>!!A,w=null){if(z.length===0)return Promise.resolve(w);let A=z.length;const F=()=>{A=-1;for(const G of z)G.cancel?.()};return new Promise((G,Z)=>{for(const J of z)J.then(x=>{--A>=0&&o(x)?(F(),G(x)):A===0&&G(w)}).catch(x=>{--A>=0&&(F(),Z(x))})})}e.$ah=P;class I{constructor(o){this.a=0,this.b=!1,this.f=o,this.g=[],this.d=0,this.h=new v.$Wd}whenIdle(){return this.size>0?v.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(o){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((w,A)=>{this.g.push({factory:o,c:w,e:A}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const o=this.g.shift();this.d++;const w=o.factory();w.then(o.c,o.e),w.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$bh=I;class m extends I{constructor(){super(1)}}e.$ch=m;class l{constructor(){this.a=new te,this.b=0}queue(o){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,o())):this.a.run(this.b++,o())}}e.$dh=l;class R{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const o=new ee;return this.b.add(o),o.p}g(){for(const[,o]of this.a)if(o.size>0)return!1;return!0}queueSize(o,w=s.$zg){const A=w.getComparisonKey(o);return this.a.get(A)?.size??0}queueFor(o,w,A=s.$zg){const F=A.getComparisonKey(o);let G=this.a.get(F);if(!G){G=new m;const Z=this.f++,J=v.Event.once(G.onDrained)(()=>{G?.dispose(),this.a.delete(F),this.h(),this.d?.deleteAndDispose(Z),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new C.$3c),this.d.set(Z,J),this.a.set(F,G)}return G.queue(w)}h(){this.g()&&this.j()}j(){for(const o of this.b)o.complete();this.b.clear()}dispose(){for(const[,o]of this.a)o.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$eh=R;class q{constructor(o,w){this.a=-1,typeof o=="function"&&typeof w=="number"&&this.setIfNotSet(o,w)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(o,w){this.cancel(),this.a=setTimeout(()=>{this.a=-1,o()},w)}setIfNotSet(o,w){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,o()},w))}}e.$fh=q;class B{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(o,w,A=globalThis){this.cancel();const F=A.setInterval(()=>{o()},w);this.d=(0,C.$Rc)(()=>{A.clearInterval(F),this.d=void 0})}dispose(){this.cancel()}}e.$gh=B;class p{constructor(o,w){this.b=-1,this.a=o,this.d=w,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(o=this.d){this.cancel(),this.b=setTimeout(this.f,o)}get delay(){return this.d}set delay(o){this.d=o}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$hh=p;class Y{constructor(o,w){w%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${w}ms is not a multiple of 1000ms.`),this.a=o,this.b=w,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(o=this.b){o%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${o}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(o/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$ih=Y;class V extends p{constructor(o,w){super(o,w),this.j=[]}work(o){this.j.push(o),this.isScheduled()||this.schedule()}h(){const o=this.j;this.j=[],this.a?.(o)}dispose(){this.j=[],super.dispose()}}e.$jh=V;class _ extends C.$Tc{constructor(o,w){super(),this.g=o,this.h=w,this.a=[],this.b=this.D(new C.$Uc),this.f=!1}get pending(){return this.a.length}work(o){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+o.length>this.g.maxBufferedWork)return!1}else if(this.pending+o.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const w of o)this.a.push(w);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new p(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$kh=_,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$mh=(z,o)=>{(0,f.$B)(()=>{if(w)return;const A=Date.now()+15;o(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let w=!1;return{dispose(){w||(w=!0)}}}:e.$mh=(z,o,w)=>{const A=z.requestIdleCallback(o,typeof w=="number"?{timeout:w}:void 0);let F=!1;return{dispose(){F||(F=!0,z.cancelIdleCallback(A))}}},e.$lh=z=>(0,e.$mh)(globalThis,z)}();class X{constructor(o,w){this.g=!1,this.d=()=>{try{this.j=w()}catch(A){this.l=A}finally{this.g=!0}},this.f=(0,e.$mh)(o,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$nh=X;class he extends X{constructor(o){super(globalThis,o)}}e.$oh=he;async function ue(z,o,w){let A;for(let F=0;F<w;F++)try{return await z()}catch(G){A=G,await D(o)}throw A}e.$ph=ue;class te{isRunning(o){return typeof o=="number"?this.a?.taskId===o:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(o,w,A){return this.a={taskId:o,cancel:()=>A?.(),promise:w},w.then(()=>this.d(o),()=>this.d(o)),w}d(o){this.a&&o===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const o=this.b;this.b=void 0,o.run().then(o.promiseResolve,o.promiseReject)}}queue(o){if(this.b)this.b.run=o;else{let w,A;const F=new Promise((G,Z)=>{w=G,A=Z});this.b={run:o,promise:F,promiseResolve:w,promiseReject:A}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$qh=te;class oe{constructor(o,w=()=>Date.now()){this.d=o,this.f=w,this.a=0,this.b=0}increment(){const o=this.f();return o-this.a>this.d&&(this.a=o,this.b=0),this.b++,this.b}}e.$rh=oe;var ne;(function(z){z[z.Resolved=0]="Resolved",z[z.Rejected=1]="Rejected"})(ne||(ne={}));class ee{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((o,w)=>{this.a=o,this.b=w})}complete(o){return new Promise(w=>{this.a(o),this.d={outcome:0,value:o},w()})}error(o){return new Promise(w=>{this.b(o),this.d={outcome:1,value:o},w()})}cancel(){return this.error(new k.$5)}}e.$sh=ee;var ie;(function(z){async function o(A){let F;const G=await Promise.all(A.map(Z=>Z.then(J=>J,J=>{F||(F=J)})));if(typeof F<"u")throw F;return G}z.settled=o;function w(A){return new Promise(async(F,G)=>{try{await A(F,G)}catch(Z){G(Z)}})}z.withAsyncBody=w})(ie||(e.Promises=ie={}));class se{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(o){this.a=void 0,this.b=void 0,this.d=!1,this.promise=o.then(w=>(this.a=w,this.d=!0,w),w=>{throw this.b=w,this.d=!0,w})}requireValue(){if(!this.d)throw new k.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$th=se;class ce{constructor(o){this.b=o,this.a=new c.$V(()=>new se(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$uh=ce;var re;(function(z){z[z.Initial=0]="Initial",z[z.DoneOK=1]="DoneOK",z[z.DoneError=2]="DoneError"})(re||(re={}));class Q{static fromArray(o){return new Q(w=>{w.emitMany(o)})}static fromPromise(o){return new Q(async w=>{w.emitMany(await o)})}static fromPromises(o){return new Q(async w=>{await Promise.all(o.map(async A=>w.emitOne(await A)))})}static merge(o){return new Q(async w=>{await Promise.all(o.map(async A=>{for await(const F of A)w.emitOne(F)}))})}static{this.EMPTY=Q.fromArray([])}constructor(o){this.a=0,this.b=[],this.d=null,this.f=new v.$Wd,queueMicrotask(async()=>{const w={emitOne:A=>this.g(A),emitMany:A=>this.h(A),reject:A=>this.k(A)};try{await Promise.resolve(o(w)),this.j()}catch(A){this.k(A)}finally{w.emitOne=void 0,w.emitMany=void 0,w.reject=void 0}})}[Symbol.asyncIterator](){let o=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(o<this.b.length)return{done:!1,value:this.b[o++]};if(this.a===1)return{done:!0,value:void 0};await v.Event.toPromise(this.f.event)}while(!0)}}}static map(o,w){return new Q(async A=>{for await(const F of o)A.emitOne(w(F))})}map(o){return Q.map(this,o)}static filter(o,w){return new Q(async A=>{for await(const F of o)w(F)&&A.emitOne(F)})}filter(o){return Q.filter(this,o)}static coalesce(o){return Q.filter(o,w=>!!w)}coalesce(){return Q.coalesce(this)}static async toPromise(o){const w=[];for await(const A of o)w.push(A);return w}toPromise(){return Q.toPromise(this)}g(o){this.a===0&&(this.b.push(o),this.f.fire())}h(o){this.a===0&&(this.b=this.b.concat(o),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(o){this.a===0&&(this.a=2,this.d=o,this.f.fire())}}e.$vh=Q;class ae extends Q{constructor(o,w){super(w),this.l=o}cancel(){this.l.cancel()}}e.$wh=ae;function de(z){const o=new N.$7d,w=z(o.token);return new ae(o,async A=>{const F=o.token.onCancellationRequested(()=>{F.dispose(),o.dispose(),A.reject(new k.$5)});try{for await(const G of w){if(o.token.isCancellationRequested)return;A.emitOne(G)}F.dispose(),o.dispose()}catch(G){F.dispose(),o.dispose(),A.reject(G)}})}e.$xh=de;class le{constructor(){this.a=new ee,this.b=new Q(A=>{if(o){A.reject(o);return}return w&&A.emitMany(w),this.d=F=>A.reject(F),this.f=F=>A.emitOne(F),this.a.p});let o,w;this.f=A=>{w||(w=[]),w.push(A)},this.d=A=>{o||(o=A)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(o){this.d(o),this.a.complete()}emitOne(o){this.f(o)}}e.$yh=le}),define(K[21],H([0,1,36]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oP=e.$nP=e.$mP=void 0,e.$mP=new class{clone(){return this}equals(C){return this===C}};function k(C,s){return new N.$KG([new N.$JG(0,"",C)],s)}e.$nP=k;function v(C,s){const f=new Uint32Array(2);return f[0]=0,f[1]=(C<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new N.$LG(f,s===null?e.$mP:s)}e.$oP=v}),define(K[37],H([0,1,20,6,3,38,13,15,47,21,28,16,7]),function(W,e,N,k,v,C,s,f,t,c,$,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wP=e.$vP=e.$uP=e.$tP=e.$sP=e.$rP=void 0;var a;(function(S){S[S.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(a||(a={}));class i{constructor(g,y){this.tokenizationSupport=y,this.a=this.tokenizationSupport.getInitialState(),this.store=new r(g)}getStartState(g){return this.store.getStartState(g,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$rP=i;class n extends i{constructor(g,y,O,U){super(g,y),this._textModel=O,this._languageIdCodec=U}updateTokensUntilLine(g,y){const O=this._textModel.getLanguageId();for(;;){const U=this.getFirstInvalidLine();if(!U||U.lineNumber>y)break;const D=this._textModel.getLineContent(U.lineNumber),u=M(this._languageIdCodec,O,this.tokenizationSupport,D,!0,U.startState);g.add(U.lineNumber,u.tokens),this.store.setEndState(U.lineNumber,u.endState)}}getTokenTypeIfInsertingCharacter(g,y){const O=this.getStartState(g.lineNumber);if(!O)return 0;const U=this._textModel.getLanguageId(),D=this._textModel.getLineContent(g.lineNumber),u=D.substring(0,g.column-1)+y+D.substring(g.column-1),E=M(this._languageIdCodec,U,this.tokenizationSupport,u,!0,O),j=new h.$CG(E.tokens,u,this._languageIdCodec);if(j.getCount()===0)return 0;const P=j.findTokenIndexAtOffset(g.column-1);return j.getStandardTokenType(P)}tokenizeLineWithEdit(g,y,O){const U=g.lineNumber,D=g.column,u=this.getStartState(U);if(!u)return null;const E=this._textModel.getLineContent(U),j=E.substring(0,D-1)+O+E.substring(D-1+y),P=this._textModel.getLanguageIdAtPosition(U,0),I=M(this._languageIdCodec,P,this.tokenizationSupport,j,!0,u);return new h.$CG(I.tokens,j,this._languageIdCodec)}isCheapToTokenize(g){const y=this.store.getFirstInvalidEndStateLineNumberOrMax();return g<y||g===y&&this._textModel.getLineLength(g)<2048}tokenizeHeuristically(g,y,O){if(O<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(y<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(g,O),{heuristicTokens:!1};let U=this.b(y);const D=this._textModel.getLanguageId();for(let u=y;u<=O;u++){const E=this._textModel.getLineContent(u),j=M(this._languageIdCodec,D,this.tokenizationSupport,E,!0,U);g.add(u,j.tokens),U=j.endState}return{heuristicTokens:!0}}b(g){let y=this._textModel.getLineFirstNonWhitespaceColumn(g);const O=[];let U=null;for(let E=g-1;y>1&&E>=1;E--){const j=this._textModel.getLineFirstNonWhitespaceColumn(E);if(j!==0&&j<y&&(O.push(this._textModel.getLineContent(E)),y=j,U=this.getStartState(E),U))break}U||(U=this.tokenizationSupport.getInitialState()),O.reverse();const D=this._textModel.getLanguageId();let u=U;for(const E of O)u=M(this._languageIdCodec,D,this.tokenizationSupport,E,!1,u).endState;return u}}e.$sP=n;class r{constructor(g){this.d=g,this.a=new b,this.b=new T,this.b.addRange(new t.$9F(1,g+1))}getEndState(g){return this.a.getEndState(g)}setEndState(g,y){if(!y)throw new k.$cb("Cannot set null/undefined state");this.b.delete(g);const O=this.a.setEndState(g,y);return O&&g<this.d&&this.b.addRange(new t.$9F(g+1,g+2)),O}acceptChange(g,y){this.d+=y-g.length,this.a.acceptChange(g,y),this.b.addRangeAndResize(new t.$9F(g.startLineNumber,g.endLineNumberExclusive),y)}acceptChanges(g){for(const y of g){const[O]=(0,s.$BG)(y.text);this.acceptChange(new f.$$F(y.range.startLineNumber,y.range.endLineNumber+1),O+1)}}invalidateEndStateRange(g){this.b.addRange(new t.$9F(g.startLineNumber,g.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(g,y){return g===1?y:this.getEndState(g-1)}getFirstInvalidLine(g){const y=this.getFirstInvalidEndStateLineNumber();if(y===null)return null;const O=this.getStartState(y,g);if(!O)throw new k.$cb("Start state must be defined");return{lineNumber:y,startState:O}}}e.$tP=r;class b{constructor(){this.a=new $.$pP(null)}getEndState(g){return this.a.get(g)}setEndState(g,y){const O=this.a.get(g);return O&&O.equals(y)?!1:(this.a.set(g,y),!0)}acceptChange(g,y){let O=g.length;y>0&&O>0&&(O--,y--),this.a.replace(g.startLineNumber,O,y)}acceptChanges(g){for(const y of g){const[O]=(0,s.$BG)(y.text);this.acceptChange(new f.$$F(y.range.startLineNumber,y.range.endLineNumber+1),O+1)}}}e.$uP=b;class T{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const g=this.a[0];return g.start+1===g.endExclusive?this.a.shift():this.a[0]=new t.$9F(g.start+1,g.endExclusive),g.start}delete(g){const y=this.a.findIndex(O=>O.contains(g));if(y!==-1){const O=this.a[y];O.start===g?O.endExclusive===g+1?this.a.splice(y,1):this.a[y]=new t.$9F(g+1,O.endExclusive):O.endExclusive===g+1?this.a[y]=new t.$9F(O.start,g):this.a.splice(y,1,new t.$9F(O.start,g),new t.$9F(g+1,O.endExclusive))}}addRange(g){t.$9F.addRange(g,this.a)}addRangeAndResize(g,y){let O=0;for(;!(O>=this.a.length||g.start<=this.a[O].endExclusive);)O++;let U=O;for(;!(U>=this.a.length||g.endExclusive<this.a[U].start);)U++;const D=y-g.length;for(let u=U;u<this.a.length;u++)this.a[u]=this.a[u].delta(D);if(O===U){const u=new t.$9F(g.start,g.start+y);u.isEmpty||this.a.splice(O,0,u)}else{const u=Math.min(g.start,this.a[O].start),E=Math.max(g.endExclusive,this.a[U-1].endExclusive),j=new t.$9F(u,E+D);j.isEmpty?this.a.splice(O,U-O):this.a.splice(O,U-O,j)}}toString(){return this.a.map(g=>g.toString()).join(" + ")}}e.$vP=T;function M(S,g,y,O,U,D){let u=null;if(y)try{u=y.tokenizeEncoded(O,U,D.clone())}catch(E){(0,k.$1)(E)}return u||(u=(0,c.$oP)(S.encodeLanguageId(g),D)),h.$CG.convertToEndOffset(u.tokens,O.length),u}class L{constructor(g,y){this.b=g,this.d=y,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,N.$lh)(g=>{this.f=!1,this.h(g)}))}h(g){const y=Date.now()+g.timeRemaining(),O=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<y?(0,v.$B)(O):this.g())};O()}j(){const g=this.b._textModel.getLineCount(),y=new d.$qP,O=C.$Sd.create(!1);do if(O.elapsed()>1||this.l(y)>=g)break;while(this.k());this.d.setTokens(y.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(g){const y=this.b?.getFirstInvalidLine();return y?(this.b.updateTokensUntilLine(g,y.lineNumber),y.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(g,y){this.b.store.invalidateEndStateRange(new f.$$F(g,y))}}e.$wP=L}),define(K[39],H([0,1,35,2,38,14,36]),function(W,e,N,k,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dlc=void 0;class f extends k.$Tc{constructor(c,$,d,h,a,i,n){super(),this.c=c,this.f=$,this.g=d,this.h=h,this.j=a,this.m=i,this.n=n,this.a=[],this.b=this.D(new N.$Wd),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(c,$,d){throw new Error("Not supported!")}createBackgroundTokenizer(c,$){if(this.h)return this.h(c,$)}tokenizeEncoded(c,$,d){const h=Math.random()*1e4<1,a=this.n||h,i=a?new v.$Sd(!0):void 0,n=this.c.tokenizeLine2(c,d,500);if(a){const b=i.elapsed();(h||b>32)&&this.m(b,c.length,h)}if(n.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${c.substring(0,100)}`),new s.$LG(n.tokens,d);if(this.g){const b=this.a,T=n.tokens;for(let M=0,L=T.length>>>1;M<L;M++){const S=T[(M<<1)+1],g=C.$zG.getLanguageId(S);b[g]||(b[g]=!0,this.b.fire(g))}}let r;return d.equals(n.ruleStack)?r=d:r=n.ruleStack,new s.$LG(n.tokens,r)}}e.$dlc=f}),define(K[40],H([0,1,21,2,11]),function(W,e,N,k,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$elc=void 0;class C extends k.$Tc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(f,t,c){super(),this.a=f,this.b=t,this.c=c,this.D((0,v.keepObserved)(this.c))}getInitialState(){return this.b.getInitialState()}tokenize(f,t,c){throw new Error("Not supported!")}tokenizeEncoded(f,t,c){return f.length>=this.c.get()?(0,N.$oP)(this.a,c):this.b.tokenizeEncoded(f,t,c)}createBackgroundTokenizer(f,t){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(f,t)}}e.$elc=C}),define(K[41],H([0,1,34,20,11,3,15,48,37,16,7,39,40]),function(W,e,N,k,v,C,s,f,t,c,$,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jlc=void 0;class a extends f.$vI{constructor(r,b,T,M,L,S,g,y){super(r,b,T,M),this.s=L,this.t=S,this.u=g,this.a=null,this.b=!1,this.c=(0,v.observableValue)(this,-1),this.q=new k.$hh(()=>this.w(),10),this.c.set(y,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(r,b){this.t=r,this.u=b,this.v()}onEvents(r){super.onEvents(r),this.a?.store.acceptChanges(r.changes),this.q.schedule()}acceptMaxTokenizationLineLength(r){this.c.set(r,void 0)}retokenize(r,b){this.a&&(this.a.store.invalidateEndStateRange(new s.$$F(r,b)),this.q.schedule())}async v(){this.a=null;const r=this.t,b=this.u,T=await this.s.getOrCreateGrammar(r,b);if(!(this.b||r!==this.t||b!==this.u||!T)){if(T.grammar){const M=new h.$elc(this.u,new d.$dlc(T.grammar,T.initialState,!1,void 0,()=>!1,(L,S,g)=>{this.s.reportTokenizationTime(L,r,T.sourceExtensionId,S,g)},!1),this.c);this.a=new t.$rP(this.f.length,M)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:b}=await(0,N.$9R)("vscode-textmate","release/main.js");this.m=b}const r=new Date().getTime();for(;;){let b=0;const T=new c.$qP,M=new i;for(;;){const g=this.a.getFirstInvalidLine();if(g===null||b>200)break;b++;const y=this.f[g.lineNumber-1],O=this.a.tokenizationSupport.tokenizeEncoded(y,!0,g.startState);if(this.a.store.setEndState(g.lineNumber,O.endState)){const D=this.m(g.startState,O.endState);M.setState(g.lineNumber,D)}else M.setState(g.lineNumber,null);if($.$CG.convertToEndOffset(O.tokens,y.length),T.add(g.lineNumber,O.tokens),new Date().getTime()-r>20)break}if(b===0)break;const L=M.getStateDeltas();if(this.s.setTokensAndStates(this.h,T.serialize(),L),new Date().getTime()-r>20){(0,C.$B)(()=>this.w());return}}}}e.$jlc=a;class i{constructor(){this.a=-1,this.b=[]}setState(r,b){r===this.a+1?this.b[this.b.length-1].stateDeltas.push(b):this.b.push({startLineNumber:r,stateDeltas:[b]}),this.a=r}getStateDeltas(){return this.b}}}),define(K[42],H([0,1,19]),function(W,e,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$glc=void 0;class k{constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(C){if(this.a[C.scopeName]){const s=this.a[C.scopeName];N.$Cg(s.location,C.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${C.scopeName}.
Old grammar file: ${s.location.toString()}.
New grammar file: ${C.location.toString()}`)}this.a[C.scopeName]=C}getGrammarDefinition(C){return this.a[C]||null}}e.$glc=k}),define(K[43],H([0,1,2,42]),function(W,e,N,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ilc=e.$hlc=void 0,e.$hlc="No TM Grammar registered for this language.";class v extends N.$Tc{constructor(s,f,t,c){super(),this.a=s,this.b=t.INITIAL,this.c=new k.$glc,this.f={},this.g={},this.h=new Map,this.j=this.D(new t.Registry({onigLib:c,loadGrammar:async $=>{const d=this.c.getGrammarDefinition($);if(!d)return this.a.logTrace(`No grammar found for scope ${$}`),null;const h=d.location;try{const a=await this.a.readFile(h);return t.parseRawGrammar(a,h.path)}catch(a){return this.a.logError(`Unable to load and parse grammar for scope ${$} from ${h}`,a),null}},getInjections:$=>{const d=$.split(".");let h=[];for(let a=1;a<=d.length;a++){const i=d.slice(0,a).join(".");h=[...h,...this.f[i]||[]]}return h}}));for(const $ of f){if(this.c.register($),$.injectTo){for(const d of $.injectTo){let h=this.f[d];h||(this.f[d]=h=[]),h.push($.scopeName)}if($.embeddedLanguages)for(const d of $.injectTo){let h=this.g[d];h||(this.g[d]=h=[]),h.push($.embeddedLanguages)}}$.language&&this.h.set($.language,$.scopeName)}}has(s){return this.h.has(s)}setTheme(s,f){this.j.setTheme(s,f)}getColorMap(){return this.j.getColorMap()}async createGrammar(s,f){const t=this.h.get(s);if(typeof t!="string")throw new Error(e.$hlc);const c=this.c.getGrammarDefinition(t);if(!c)throw new Error(e.$hlc);const $=c.embeddedLanguages;if(this.g[t]){const a=this.g[t];for(const i of a)for(const n of Object.keys(i))$[n]=i[n]}const d=Object.keys($).length>0;let h;try{h=await this.j.loadGrammarWithConfiguration(t,f,{embeddedLanguages:$,tokenTypes:c.tokenTypes,balancedBracketSelectors:c.balancedBracketSelectors,unbalancedBracketSelectors:c.unbalancedBracketSelectors})}catch(a){throw a.message&&a.message.startsWith("No grammar provided for")?new Error(e.$hlc):a}return{languageId:s,grammar:h,initialState:this.b,containsEmbeddedLanguages:d,sourceExtensionId:c.sourceExtensionId}}}e.$ilc=v}),define(K[49],H([0,1,8,43,41]),function(W,e,N,k,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=e.create=void 0;function C(f,t){return new s(f,t)}e.create=C;class s{constructor(t,c){this.f=c,this.b=new Map,this.c=[],this.a=t.host;const $=c.grammarDefinitions.map(d=>({location:N.URI.revive(d.location),language:d.language,scopeName:d.scopeName,embeddedLanguages:d.embeddedLanguages,tokenTypes:d.tokenTypes,injectTo:d.injectTo,balancedBracketSelectors:d.balancedBracketSelectors,unbalancedBracketSelectors:d.unbalancedBracketSelectors,sourceExtensionId:d.sourceExtensionId}));this.d=this.g($)}async g(t){const c=this.f.textmateMainUri,$=await new Promise((n,r)=>{W([c],n,r)}),d=await new Promise((n,r)=>{W([this.f.onigurumaMainUri],n,r)}),a=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await d.loadWASM(a);const i=Promise.resolve({createOnigScanner:n=>d.createOnigScanner(n),createOnigString:n=>d.createOnigString(n)});return new k.$ilc({logTrace:n=>{},logError:(n,r)=>console.error(n,r),readFile:n=>this.a.readFile(n)},t,$,i)}acceptNewModel(t){const c=N.URI.revive(t.uri),$=this;this.b.set(t.controllerId,new v.$jlc(c,t.lines,t.EOL,t.versionId,{async getOrCreateGrammar(d,h){const a=await $.d;return a?($.c[h]||($.c[h]=a.createGrammar(d,h)),$.c[h]):Promise.resolve(null)},setTokensAndStates(d,h,a){$.a.setTokensAndStates(t.controllerId,d,h,a)},reportTokenizationTime(d,h,a,i,n){$.a.reportTokenizationTime(d,h,a,i,n)}},t.languageId,t.encodedLanguageId,t.maxTokenizationLineLength))}acceptModelChanged(t,c){this.b.get(t).onEvents(c)}retokenize(t,c,$){this.b.get(t).retokenize(c,$)}acceptModelLanguageChanged(t,c,$){this.b.get(t).onLanguageId(c,$)}acceptRemovedModel(t){const c=this.b.get(t);c&&(c.dispose(),this.b.delete(t))}async acceptTheme(t,c){(await this.d)?.setTheme(t,c)}acceptMaxTokenizationLineLength(t,c){this.b.get(t).acceptMaxTokenizationLineLength(c)}}e.TextMateTokenizationWorker=s})}).call(this);

//# sourceMappingURL=https://cursor-sourcemaps.s3.amazonaws.com/sourcemaps/fcd6e551d6f014d13071eac9bd4904e7e0346720/core/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker.js.map
