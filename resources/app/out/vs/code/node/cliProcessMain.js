/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ae=["require","exports","vs/base/common/lifecycle","vs/base/common/types","vs/platform/log/common/log","vs/nls!vs/code/node/cliProcessMain","vs/base/common/event","vs/nls","vs/base/common/async","vs/base/common/errors","vs/platform/instantiation/common/instantiation","vs/base/common/uri","vs/platform/files/common/files","vs/base/common/platform","vs/base/common/buffer","vs/base/common/path","vs/base/common/network","vs/base/common/resources","vs/platform/environment/common/environment","vs/base/common/arrays","vs/base/common/cancellation","vs/platform/extensionManagement/common/extensionManagement","vs/platform/uriIdentity/common/uriIdentity","vs/platform/userDataProfile/common/userDataProfile","vs/base/common/uuid","vs/base/node/pfs","vs/platform/telemetry/common/telemetry","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/configuration/common/configuration","vs/base/common/strings","vs/base/common/objects","vs/base/common/map","vs/platform/product/common/productService","os","vs/base/common/errorMessage","vs/base/common/process","vs/platform/registry/common/platform","vs/platform/extensions/common/extensions","vs/base/common/json","vs/base/common/semver/semver","vs/platform/policy/common/policy","vs/platform/configuration/common/configurationRegistry","vs/platform/extensionManagement/common/extensionsProfileScannerService","vs/base/common/hash","vs/platform/request/common/request","vs/platform/telemetry/common/telemetryUtils","vs/base/common/stream","vs/base/common/marshalling","vs/base/common/ternarySearchTree","child_process","vs/base/node/zip","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/descriptors","vs/platform/product/common/product","vs/platform/extensionManagement/common/extensionsScannerService","vs/base/common/decorators","vs/base/common/severity","vs/base/common/processes","vs/base/node/processes","vs/base/parts/ipc/common/ipc","vs/platform/download/common/download","vs/platform/files/common/io","vs/platform/files/common/watcher","vs/platform/instantiation/common/serviceCollection","vs/platform/languagePacks/common/languagePacks","vs/platform/extensionManagement/node/extensionSignatureVerificationService","vs/base/common/iterator","vs/platform/configuration/common/configurationModels","vs/platform/remote/common/remoteHosts","vs/platform/state/node/stateService","vs/platform/telemetry/common/commonProperties","vs/platform/extensionManagement/common/extensionGalleryService","vs/base/common/assert","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/numbers","vs/base/common/skipList","vs/base/node/macAddress","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/jsonErrorMessages","vs/base/common/jsonErrorMessages","vs/base/common/console","vs/base/node/id","vs/base/node/powershell","vs/base/node/shell","vs/base/parts/ipc/node/ipc.cp","vs/base/parts/storage/common/storage","vs/nls!vs/base/node/zip","fs","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/common/extensionManagementCLI","vs/nls!vs/platform/extensionManagement/common/extensionNls","vs/nls!vs/platform/extensionManagement/common/extensionsScannerService","vs/nls!vs/platform/extensionManagement/node/extensionManagementService","vs/nls!vs/platform/extensionManagement/node/extensionManagementUtil","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/fileService","vs/nls!vs/platform/files/common/io","vs/nls!vs/platform/files/node/diskFileSystemProvider","vs/nls!vs/platform/languagePacks/common/languagePacks","vs/nls!vs/platform/request/common/request","vs/nls!vs/platform/shell/node/shellEnv","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/userDataProfile/common/userDataProfile","vs/nls!vs/platform/workspace/common/workspace","vs/platform/contextkey/common/scanner","vs/platform/environment/common/environmentService","vs/platform/environment/node/userDataPath","vs/platform/environment/node/environmentService","vs/platform/extensionManagement/common/extensionNls","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/externalServices/common/serviceMachineId","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/graph","vs/platform/contextkey/common/contextkey","vs/platform/files/node/watcher/nodejs/nodejsWatcher","vs/platform/files/node/watcher/nodejs/nodejsClient","vs/platform/files/node/watcher/watcherClient","vs/platform/instantiation/common/instantiationService","vs/platform/files/common/diskFileSystemProvider","vs/platform/files/common/fileService","vs/base/common/performance","vs/platform/files/node/diskFileSystemProvider","vs/platform/log/common/logService","vs/platform/log/node/spdlogLog","vs/platform/log/node/loggerService","vs/platform/policy/common/filePolicyService","vs/platform/policy/node/nativePolicyService","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurations","vs/platform/configuration/common/configurationService","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/download/common/downloadService","vs/platform/request/node/proxy","url","vs/platform/shell/node/shellEnv","vs/platform/state/node/state","vs/platform/telemetry/common/1dsAppender","vs/platform/extensionManagement/common/extensionManagementCLI","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionsWatcher","vs/platform/externalServices/common/marketplace","vs/platform/languagePacks/node/languagePacks","vs/platform/telemetry/common/telemetryService","vs/platform/telemetry/node/1dsAppender","vs/platform/telemetry/node/telemetry","vs/platform/telemetry/node/telemetryUtils","vs/platform/uriIdentity/common/uriIdentityService","vs/platform/userData/common/fileUserDataProvider","vs/platform/workspace/common/workspace","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/extensionManagement/node/extensionsProfileScannerService","vs/platform/extensionManagement/node/extensionsScannerService","vs/platform/storage/common/storage","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/userDataProfile/node/userDataProfile","vs/platform/request/node/requestService","vs/base/common/lazy","process","path","vs/base/common/glob","vs/platform/files/node/watcher/nodejs/nodejsWatcherLib","vs/base/common/linkedList","graceful-fs","vs/base/common/extpath","vs/platform/environment/node/argvHelper","crypto","https","node-fetch","vs/base/common/stopwatch","zlib","vs/code/node/cliProcessMain"],ce=function(K){for(var e=[],A=0,R=K.length;A<R;A++)e[A]=ae[K[A]];return e};define(ae[55],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bh=e.$Ah=e.$zh=void 0;function A(j){return(k,h,o)=>{let v=null,S=null;if(typeof o.value=="function"?(v="value",S=o.value):typeof o.get=="function"&&(v="get",S=o.get),!S)throw new Error("not supported");o[v]=j(S,h)}}function R(j,k,h){let o=null,v=null;if(typeof h.value=="function"?(o="value",v=h.value,v.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof h.get=="function"&&(o="get",v=h.get),!v)throw new Error("not supported");const S=`$memoize$${k}`;h[o]=function(...b){return this.hasOwnProperty(S)||Object.defineProperty(this,S,{configurable:!1,enumerable:!1,writable:!1,value:v.apply(this,b)}),this[S]}}e.$zh=R;function D(j,k,h){return A((o,v)=>{const S=`$debounce$${v}`,b=`$debounce$result$${v}`;return function(...m){this[b]||(this[b]=h?h():void 0),clearTimeout(this[S]),k&&(this[b]=k(this[b],...m),m=[this[b]]),this[S]=setTimeout(()=>{o.apply(this,m),this[b]=h?h():void 0},j)}})}e.$Ah=D;function O(j,k,h){return A((o,v)=>{const S=`$throttle$timer$${v}`,b=`$throttle$result$${v}`,m=`$throttle$lastRun$${v}`,E=`$throttle$pending$${v}`;return function(...I){if(this[b]||(this[b]=h?h():void 0),(this[m]===null||this[m]===void 0)&&(this[m]=-Number.MAX_VALUE),k&&(this[b]=k(this[b],...I)),this[E])return;const $=this[m]+j;$<=Date.now()?(this[m]=Date.now(),o.apply(this,[this[b]]),this[b]=h?h():void 0):(this[E]=!0,this[S]=setTimeout(()=>{this[E]=!1,this[m]=Date.now(),o.apply(this,[this[b]]),this[b]=h?h():void 0},$-Date.now()))}})}e.$Bh=O}),define(ae[72],ce([0,1,9]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0c=e.$9c=e.$8c=e.$7c=e.$6c=e.ok=void 0;function R(o,v){if(!o)throw new Error(v?`Assertion failed (${v})`:"Assertion Failed")}e.ok=R;function D(o,v="Unreachable"){throw new Error(v)}e.$6c=D;function O(o){if(!o)throw new A.$cb("Assertion Failed")}e.$7c=O;function j(o){o||(0,A.$1)(new A.$cb("Assertion Failed"))}e.$8c=j;function k(o){if(!o()){debugger;o(),(0,A.$1)(new A.$cb("Assertion Failed"))}}e.$9c=k;function h(o,v){let S=0;for(;S<o.length-1;){const b=o[S],m=o[S+1];if(!v(b,m))return!1;S++}return!0}e.$0c=h}),define(ae[38],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$un=e.$tn=e.$sn=e.$rn=e.$qn=e.$pn=e.$on=e.$nn=e.$mn=e.$ln=e.$kn=e.$jn=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var A;(function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"})(A||(e.ScanError=A={}));var R;(function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"})(R||(e.SyntaxKind=R={}));var D;(function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"})(D||(e.ParseErrorCode=D={}));var O;(function(n){n.DEFAULT={allowTrailingComma:!0}})(O||(e.ParseOptions=O={}));function j(n,r=!1){let t=0;const i=n.length;let s="",c=0,a=16,y=0;function w(ie){let le=0,ue=0;for(;le<ie;){const se=n.charCodeAt(t);if(se>=48&&se<=57)ue=ue*16+se-48;else if(se>=65&&se<=70)ue=ue*16+se-65+10;else if(se>=97&&se<=102)ue=ue*16+se-97+10;else break;t++,le++}return le<ie&&(ue=-1),ue}function P(ie){t=ie,s="",c=0,a=16,y=0}function N(){const ie=t;if(n.charCodeAt(t)===48)t++;else for(t++;t<n.length&&o(n.charCodeAt(t));)t++;if(t<n.length&&n.charCodeAt(t)===46)if(t++,t<n.length&&o(n.charCodeAt(t)))for(t++;t<n.length&&o(n.charCodeAt(t));)t++;else return y=3,n.substring(ie,t);let le=t;if(t<n.length&&(n.charCodeAt(t)===69||n.charCodeAt(t)===101))if(t++,(t<n.length&&n.charCodeAt(t)===43||n.charCodeAt(t)===45)&&t++,t<n.length&&o(n.charCodeAt(t))){for(t++;t<n.length&&o(n.charCodeAt(t));)t++;le=t}else y=3;return n.substring(ie,le)}function L(){let ie="",le=t;for(;;){if(t>=i){ie+=n.substring(le,t),y=2;break}const ue=n.charCodeAt(t);if(ue===34){ie+=n.substring(le,t),t++;break}if(ue===92){if(ie+=n.substring(le,t),t++,t>=i){y=2;break}switch(n.charCodeAt(t++)){case 34:ie+='"';break;case 92:ie+="\\";break;case 47:ie+="/";break;case 98:ie+="\b";break;case 102:ie+="\f";break;case 110:ie+=`
`;break;case 114:ie+="\r";break;case 116:ie+="	";break;case 117:{const B=w(4);B>=0?ie+=String.fromCharCode(B):y=4;break}default:y=5}le=t;continue}if(ue>=0&&ue<=31)if(h(ue)){ie+=n.substring(le,t),y=2;break}else y=6;t++}return ie}function J(){if(s="",y=0,c=t,t>=i)return c=i,a=17;let ie=n.charCodeAt(t);if(k(ie)){do t++,s+=String.fromCharCode(ie),ie=n.charCodeAt(t);while(k(ie));return a=15}if(h(ie))return t++,s+=String.fromCharCode(ie),ie===13&&n.charCodeAt(t)===10&&(t++,s+=`
`),a=14;switch(ie){case 123:return t++,a=1;case 125:return t++,a=2;case 91:return t++,a=3;case 93:return t++,a=4;case 58:return t++,a=6;case 44:return t++,a=5;case 34:return t++,s=L(),a=10;case 47:{const le=t-1;if(n.charCodeAt(t+1)===47){for(t+=2;t<i&&!h(n.charCodeAt(t));)t++;return s=n.substring(le,t),a=12}if(n.charCodeAt(t+1)===42){t+=2;const ue=i-1;let se=!1;for(;t<ue;){if(n.charCodeAt(t)===42&&n.charCodeAt(t+1)===47){t+=2,se=!0;break}t++}return se||(t++,y=1),s=n.substring(le,t),a=13}return s+=String.fromCharCode(ie),t++,a=16}case 45:if(s+=String.fromCharCode(ie),t++,t===i||!o(n.charCodeAt(t)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return s+=N(),a=11;default:for(;t<i&&ne(ie);)t++,ie=n.charCodeAt(t);if(c!==t){switch(s=n.substring(c,t),s){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}return s+=String.fromCharCode(ie),t++,a=16}}function ne(ie){if(k(ie)||h(ie))return!1;switch(ie){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function pe(){let ie;do ie=J();while(ie>=12&&ie<=15);return ie}return{setPosition:P,getPosition:()=>t,scan:r?pe:J,getToken:()=>a,getTokenValue:()=>s,getTokenOffset:()=>c,getTokenLength:()=>t-c,getTokenError:()=>y}}e.$jn=j;function k(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function h(n){return n===10||n===13||n===8232||n===8233}function o(n){return n>=48&&n<=57}var v;(function(n){n[n.nullCharacter=0]="nullCharacter",n[n.maxAsciiCharacter=127]="maxAsciiCharacter",n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.lineSeparator=8232]="lineSeparator",n[n.paragraphSeparator=8233]="paragraphSeparator",n[n.nextLine=133]="nextLine",n[n.space=32]="space",n[n.nonBreakingSpace=160]="nonBreakingSpace",n[n.enQuad=8192]="enQuad",n[n.emQuad=8193]="emQuad",n[n.enSpace=8194]="enSpace",n[n.emSpace=8195]="emSpace",n[n.threePerEmSpace=8196]="threePerEmSpace",n[n.fourPerEmSpace=8197]="fourPerEmSpace",n[n.sixPerEmSpace=8198]="sixPerEmSpace",n[n.figureSpace=8199]="figureSpace",n[n.punctuationSpace=8200]="punctuationSpace",n[n.thinSpace=8201]="thinSpace",n[n.hairSpace=8202]="hairSpace",n[n.zeroWidthSpace=8203]="zeroWidthSpace",n[n.narrowNoBreakSpace=8239]="narrowNoBreakSpace",n[n.ideographicSpace=12288]="ideographicSpace",n[n.mathematicalSpace=8287]="mathematicalSpace",n[n.ogham=5760]="ogham",n[n._=95]="_",n[n.$=36]="$",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.ampersand=38]="ampersand",n[n.asterisk=42]="asterisk",n[n.at=64]="at",n[n.backslash=92]="backslash",n[n.bar=124]="bar",n[n.caret=94]="caret",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.closeParen=41]="closeParen",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.equals=61]="equals",n[n.exclamation=33]="exclamation",n[n.greaterThan=62]="greaterThan",n[n.lessThan=60]="lessThan",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.openParen=40]="openParen",n[n.percent=37]="percent",n[n.plus=43]="plus",n[n.question=63]="question",n[n.semicolon=59]="semicolon",n[n.singleQuote=39]="singleQuote",n[n.slash=47]="slash",n[n.tilde=126]="tilde",n[n.backspace=8]="backspace",n[n.formFeed=12]="formFeed",n[n.byteOrderMark=65279]="byteOrderMark",n[n.tab=9]="tab",n[n.verticalTab=11]="verticalTab"})(v||(v={}));function S(n,r){const t=[],i=new Object;let s;const c={value:{},offset:0,length:0,type:"object",parent:void 0};let a=!1;function y(w,P,N,L){c.value=w,c.offset=P,c.length=N,c.type=L,c.colonOffset=void 0,s=c}try{d(n,{onObjectBegin:(w,P)=>{if(r<=w)throw i;s=void 0,a=r>w,t.push("")},onObjectProperty:(w,P,N)=>{if(r<P||(y(w,P,N,"property"),t[t.length-1]=w,r<=P+N))throw i},onObjectEnd:(w,P)=>{if(r<=w)throw i;s=void 0,t.pop()},onArrayBegin:(w,P)=>{if(r<=w)throw i;s=void 0,t.push(0)},onArrayEnd:(w,P)=>{if(r<=w)throw i;s=void 0,t.pop()},onLiteralValue:(w,P,N)=>{if(r<P||(y(w,P,N,f(w)),r<=P+N))throw i},onSeparator:(w,P,N)=>{if(r<=P)throw i;if(w===":"&&s&&s.type==="property")s.colonOffset=P,a=!1,s=void 0;else if(w===","){const L=t[t.length-1];typeof L=="number"?t[t.length-1]=L+1:(a=!0,t[t.length-1]=""),s=void 0}}})}catch(w){if(w!==i)throw w}return{path:t,previousNode:s,isAtPropertyKey:a,matches:w=>{let P=0;for(let N=0;P<w.length&&N<t.length;N++)if(w[P]===t[N]||w[P]==="*")P++;else if(w[P]!=="**")return!1;return P===w.length}}}e.$kn=S;function b(n,r=[],t=O.DEFAULT){let i=null,s=[];const c=[];function a(w){Array.isArray(s)?s.push(w):i!==null&&(s[i]=w)}return d(n,{onObjectBegin:()=>{const w={};a(w),c.push(s),s=w,i=null},onObjectProperty:w=>{i=w},onObjectEnd:()=>{s=c.pop()},onArrayBegin:()=>{const w=[];a(w),c.push(s),s=w,i=null},onArrayEnd:()=>{s=c.pop()},onLiteralValue:a,onError:(w,P,N)=>{r.push({error:w,offset:P,length:N})}},t),s[0]}e.$ln=b;function m(n,r=[],t=O.DEFAULT){let i={type:"array",offset:-1,length:-1,children:[],parent:void 0};function s(w){i.type==="property"&&(i.length=w-i.offset,i=i.parent)}function c(w){return i.children.push(w),w}d(n,{onObjectBegin:w=>{i=c({type:"object",offset:w,length:-1,parent:i,children:[]})},onObjectProperty:(w,P,N)=>{i=c({type:"property",offset:P,length:-1,parent:i,children:[]}),i.children.push({type:"string",value:w,offset:P,length:N,parent:i})},onObjectEnd:(w,P)=>{i.length=w+P-i.offset,i=i.parent,s(w+P)},onArrayBegin:(w,P)=>{i=c({type:"array",offset:w,length:-1,parent:i,children:[]})},onArrayEnd:(w,P)=>{i.length=w+P-i.offset,i=i.parent,s(w+P)},onLiteralValue:(w,P,N)=>{c({type:f(w),offset:P,length:N,parent:i,value:w}),s(P+N)},onSeparator:(w,P,N)=>{i.type==="property"&&(w===":"?i.colonOffset=P:w===","&&s(P))},onError:(w,P,N)=>{r.push({error:w,offset:P,length:N})}},t);const y=i.children[0];return y&&delete y.parent,y}e.$mn=m;function E(n,r){if(!n)return;let t=n;for(const i of r)if(typeof i=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let s=!1;for(const c of t.children)if(Array.isArray(c.children)&&c.children[0].value===i){t=c.children[1],s=!0;break}if(!s)return}else{const s=i;if(t.type!=="array"||s<0||!Array.isArray(t.children)||s>=t.children.length)return;t=t.children[s]}return t}e.$nn=E;function I(n){if(!n.parent||!n.parent.children)return[];const r=I(n.parent);if(n.parent.type==="property"){const t=n.parent.children[0].value;r.push(t)}else if(n.parent.type==="array"){const t=n.parent.children.indexOf(n);t!==-1&&r.push(t)}return r}e.$on=I;function $(n){switch(n.type){case"array":return n.children.map($);case"object":{const r=Object.create(null);for(const t of n.children){const i=t.children[1];i&&(r[t.children[0].value]=$(i))}return r}case"null":case"string":case"number":case"boolean":return n.value;default:return}}e.$pn=$;function u(n,r,t=!1){return r>=n.offset&&r<n.offset+n.length||t&&r===n.offset+n.length}e.$qn=u;function p(n,r,t=!1){if(u(n,r,t)){const i=n.children;if(Array.isArray(i))for(let s=0;s<i.length&&i[s].offset<=r;s++){const c=p(i[s],r,t);if(c)return c}return n}}e.$rn=p;function d(n,r,t=O.DEFAULT){const i=j(n,!1);function s(Z){return Z?()=>Z(i.getTokenOffset(),i.getTokenLength()):()=>!0}function c(Z){return Z?ee=>Z(ee,i.getTokenOffset(),i.getTokenLength()):()=>!0}const a=s(r.onObjectBegin),y=c(r.onObjectProperty),w=s(r.onObjectEnd),P=s(r.onArrayBegin),N=s(r.onArrayEnd),L=c(r.onLiteralValue),J=c(r.onSeparator),ne=s(r.onComment),pe=c(r.onError),ie=t&&t.disallowComments,le=t&&t.allowTrailingComma;function ue(){for(;;){const Z=i.scan();switch(i.getTokenError()){case 4:se(14);break;case 5:se(15);break;case 3:se(13);break;case 1:ie||se(11);break;case 2:se(12);break;case 6:se(16);break}switch(Z){case 12:case 13:ie?se(10):ne();break;case 16:se(1);break;case 15:case 14:break;default:return Z}}}function se(Z,ee=[],q=[]){if(pe(Z),ee.length+q.length>0){let V=i.getToken();for(;V!==17;){if(ee.indexOf(V)!==-1){ue();break}else if(q.indexOf(V)!==-1)break;V=ue()}}}function B(Z){const ee=i.getTokenValue();return Z?L(ee):y(ee),ue(),!0}function G(){switch(i.getToken()){case 11:{let Z=0;try{Z=JSON.parse(i.getTokenValue()),typeof Z!="number"&&(se(2),Z=0)}catch{se(2)}L(Z);break}case 7:L(null);break;case 8:L(!0);break;case 9:L(!1);break;default:return!1}return ue(),!0}function C(){return i.getToken()!==10?(se(3,[],[2,5]),!1):(B(!1),i.getToken()===6?(J(":"),ue(),Q()||se(4,[],[2,5])):se(5,[],[2,5]),!0)}function F(){a(),ue();let Z=!1;for(;i.getToken()!==2&&i.getToken()!==17;){if(i.getToken()===5){if(Z||se(4,[],[]),J(","),ue(),i.getToken()===2&&le)break}else Z&&se(6,[],[]);C()||se(4,[],[2,5]),Z=!0}return w(),i.getToken()!==2?se(7,[2],[]):ue(),!0}function W(){P(),ue();let Z=!1;for(;i.getToken()!==4&&i.getToken()!==17;){if(i.getToken()===5){if(Z||se(4,[],[]),J(","),ue(),i.getToken()===4&&le)break}else Z&&se(6,[],[]);Q()||se(4,[],[4,5]),Z=!0}return N(),i.getToken()!==4?se(8,[4],[]):ue(),!0}function Q(){switch(i.getToken()){case 3:return W();case 1:return F();case 10:return B(!0);default:return G()}}return ue(),i.getToken()===17?t.allowEmptyContent?!0:(se(4,[],[]),!1):Q()?(i.getToken()!==17&&se(9,[],[]),!0):(se(4,[],[]),!1)}e.$sn=d;function l(n,r){const t=j(n),i=[];let s,c=0,a;do switch(a=t.getPosition(),s=t.scan(),s){case 12:case 13:case 17:c!==a&&i.push(n.substring(c,a)),r!==void 0&&i.push(t.getTokenValue().replace(/[^\r\n]/g,r)),c=t.getPosition();break}while(s!==17);return i.join("")}e.$tn=l;function f(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(n){if(Array.isArray(n))return"array"}else return"null";return"object"}default:return"null"}}e.$un=f}),define(ae[73],ce([0,1,38]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yn=e.$xn=e.$wn=e.$vn=void 0;function R(o,v,S){let b,m,E,I,$;if(v){for(I=v.offset,$=I+v.length,E=I;E>0&&!h(o,E-1);)E--;let a=$;for(;a<o.length&&!h(o,a);)a++;m=o.substring(E,a),b=j(m,S)}else m=o,b=0,E=0,I=0,$=o.length;const u=k(S,o);let p=!1,d=0,l;S.insertSpaces?l=O(" ",S.tabSize||4):l="	";const f=(0,A.$jn)(m,!1);let n=!1;function r(){return u+O(l,b+d)}function t(){let a=f.scan();for(p=!1;a===15||a===14;)p=p||a===14,a=f.scan();return n=a===16||f.getTokenError()!==0,a}const i=[];function s(a,y,w){!n&&y<$&&w>I&&o.substring(y,w)!==a&&i.push({offset:y,length:w-y,content:a})}let c=t();if(c!==17){const a=f.getTokenOffset()+E,y=O(l,b);s(y,E,a)}for(;c!==17;){let a=f.getTokenOffset()+f.getTokenLength()+E,y=t(),w="";for(;!p&&(y===12||y===13);){const N=f.getTokenOffset()+E;s(" ",a,N),a=f.getTokenOffset()+f.getTokenLength()+E,w=y===12?r():"",y=t()}if(y===2)c!==1&&(d--,w=r());else if(y===4)c!==3&&(d--,w=r());else{switch(c){case 3:case 1:d++,w=r();break;case 5:case 12:w=r();break;case 13:p?w=r():w=" ";break;case 6:w=" ";break;case 10:if(y===6){w="";break}case 7:case 8:case 9:case 11:case 2:case 4:y===12||y===13?w=" ":y!==5&&y!==17&&(n=!0);break;case 16:n=!0;break}p&&(y===12||y===13)&&(w=r())}const P=f.getTokenOffset()+E;s(w,a,P),c=y}return i}e.$vn=R;function D(o,v){const S=JSON.stringify(o,void 0,v.insertSpaces?v.tabSize||4:"	");return v.eol!==void 0?S.replace(/\r\n|\r|\n/g,v.eol):S}e.$wn=D;function O(o,v){let S="";for(let b=0;b<v;b++)S+=o;return S}function j(o,v){let S=0,b=0;const m=v.tabSize||4;for(;S<o.length;){const E=o.charAt(S);if(E===" ")b++;else if(E==="	")b+=m;else break;S++}return Math.floor(b/m)}function k(o,v){for(let S=0;S<v.length;S++){const b=v.charAt(S);if(b==="\r")return S+1<v.length&&v.charAt(S+1)===`
`?`\r
`:"\r";if(b===`
`)return`
`}return o&&o.eol||`
`}e.$xn=k;function h(o,v){return`\r
`.indexOf(o.charAt(v))!==-1}e.$yn=h}),define(ae[74],ce([0,1,38,73]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dn=e.$Cn=e.$Bn=e.$An=e.$zn=void 0;function D(o,v,S){return O(o,v,void 0,S)}e.$zn=D;function O(o,v,S,b,m){const E=v.slice(),I=[],$=(0,A.$mn)(o,I);let u,p;for(;E.length>0&&(p=E.pop(),u=(0,A.$nn)($,E),u===void 0&&S!==void 0);)typeof p=="string"?S={[p]:S}:S=[S];if(u)if(u.type==="object"&&typeof p=="string"&&Array.isArray(u.children)){const d=(0,A.$nn)(u,[p]);if(d!==void 0)if(S===void 0){if(!d.parent)throw new Error("Malformed AST");const l=u.children.indexOf(d.parent);let f,n=d.parent.offset+d.parent.length;if(l>0){const r=u.children[l-1];f=r.offset+r.length}else f=u.offset+1,u.children.length>1&&(n=u.children[1].offset);return j(o,{offset:f,length:n-f,content:""},b)}else return j(o,{offset:d.offset,length:d.length,content:JSON.stringify(S)},b);else{if(S===void 0)return[];const l=`${JSON.stringify(p)}: ${JSON.stringify(S)}`,f=m?m(u.children.map(r=>r.children[0].value)):u.children.length;let n;if(f>0){const r=u.children[f-1];n={offset:r.offset+r.length,length:0,content:","+l}}else u.children.length===0?n={offset:u.offset+1,length:0,content:l}:n={offset:u.offset+1,length:0,content:l+","};return j(o,n,b)}}else if(u.type==="array"&&typeof p=="number"&&Array.isArray(u.children))if(S!==void 0){const d=`${JSON.stringify(S)}`;let l;if(u.children.length===0||p===0)l={offset:u.offset+1,length:0,content:u.children.length===0?d:d+","};else{const f=p===-1||p>u.children.length?u.children.length:p,n=u.children[f-1];l={offset:n.offset+n.length,length:0,content:","+d}}return j(o,l,b)}else{const d=p,l=u.children[d];let f;if(u.children.length===1)f={offset:u.offset+1,length:u.length-2,content:""};else if(u.children.length-1===d){const n=u.children[d-1],r=n.offset+n.length,t=u.offset+u.length;f={offset:r,length:t-2-r,content:""}}else f={offset:l.offset,length:u.children[d+1].offset-l.offset,content:""};return j(o,f,b)}else throw new Error(`Can not add ${typeof p!="number"?"index":"property"} to parent of type ${u.type}`);else{if(S===void 0)throw new Error("Can not delete in empty document");return j(o,{offset:$?$.offset:0,length:$?$.length:0,content:JSON.stringify(S)},b)}}e.$An=O;function j(o,v,S){let b=k(o,v),m=v.offset,E=v.offset+v.content.length;if(v.length===0||v.content.length===0){for(;m>0&&!(0,R.$yn)(b,m-1);)m--;for(;E<b.length&&!(0,R.$yn)(b,E);)E++}const I=(0,R.$vn)(b,{offset:m,length:E-m},S);for(let u=I.length-1;u>=0;u--){const p=I[u];b=k(b,p),m=Math.min(m,p.offset),E=Math.max(E,p.offset+p.length),E+=p.content.length-p.length}const $=o.length-(b.length-E)-m;return[{offset:m,length:$,content:b.substring(m,E)}]}e.$Bn=j;function k(o,v){return o.substring(0,v.offset)+v.content+o.substring(v.offset+v.length)}e.$Cn=k;function h(o,v){const S=v.slice(0).sort((m,E)=>{const I=m.offset-E.offset;return I===0?m.length-E.length:I});let b=o.length;for(let m=S.length-1;m>=0;m--){const E=S[m];if(E.offset+E.length<=b)o=k(o,E);else throw new Error("Overlapping edit");b=E.offset}return o}e.$Dn=h}),define(ae[75],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$gm=e.$fm=e.$em=e.rot=e.$cm=void 0;function A(k,h,o){return Math.min(Math.max(k,h),o)}e.$cm=A;function R(k,h){return(h+k%h)%h}e.rot=R;class D{constructor(){this.a=0}getNext(){return this.a++}}e.$em=D;class O{constructor(){this.a=1,this.b=0}update(h){return this.b=this.b+(h-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.$fm=O;class j{constructor(h){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(h),this.c.fill(0,0,h)}update(h){const o=this.c[this.d];return this.c[this.d]=h,this.d=(this.d+1)%this.c.length,this.e-=o,this.e+=h,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.$gm=j}),function(){function K(D){const O=[];typeof D=="number"&&O.push("code/timeOrigin",D);function j(h){O.push(h,Date.now())}function k(){const h=[];for(let o=0;o<O.length;o+=2)h.push({name:O[o],startTime:O[o+1]});return h}return{mark:j,getMarks:k}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?K():{mark(D){performance.mark(D)},getMarks(){let D=performance.timeOrigin;typeof D!="number"&&(D=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const O=[{name:"code/timeOrigin",startTime:Math.round(D)}];for(const j of performance.getEntriesByType("mark"))O.push({name:j.name,startTime:Math.round(D+j.startTime)});return O}};if(typeof process=="object"){const D=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return K(D)}else return console.trace("perf-util loaded in UNKNOWN environment"),K()}function A(D){return D.MonacoPerformanceMarks||(D.MonacoPerformanceMarks=e()),D.MonacoPerformanceMarks}var R;typeof global=="object"?R=global:typeof self=="object"?R=self:R={},typeof define=="function"?define("vs/base/common/performance",[],function(){return A(R)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=A(R):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),R.perf=A(R))}(),function(K,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var A=e();for(var R in A)(typeof exports=="object"?exports:K)[R]=A[R]}}(typeof self<"u"?self:this,function(){return function(K){var e={};function A(R){if(e[R])return e[R].exports;var D=e[R]={i:R,l:!1,exports:{}};return K[R].call(D.exports,D,D.exports,A),D.l=!0,D.exports}return A.m=K,A.c=e,A.d=function(R,D,O){A.o(R,D)||Object.defineProperty(R,D,{enumerable:!0,get:O})},A.r=function(R){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},A.t=function(R,D){if(1&D&&(R=A(R)),8&D||4&D&&typeof R=="object"&&R&&R.__esModule)return R;var O=Object.create(null);if(A.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:R}),2&D&&typeof R!="string")for(var j in R)A.d(O,j,function(k){return R[k]}.bind(null,j));return O},A.n=function(R){var D=R&&R.__esModule?function(){return R.default}:function(){return R};return A.d(D,"a",D),D},A.o=function(R,D){return Object.prototype.hasOwnProperty.call(R,D)},A.p="",A(A.s=0)}([function(K,e,A){(function(R){var D;e=K.exports=q,D=typeof R=="object"&&R.env&&R.env.NODE_DEBUG&&/\bsemver\b/i.test(R.env.NODE_DEBUG)?function(){var U=Array.prototype.slice.call(arguments,0);U.unshift("SEMVER"),console.log.apply(console,U)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var O=256,j=Number.MAX_SAFE_INTEGER||9007199254740991,k=e.re=[],h=e.src=[],o=0,v=o++;h[v]="0|[1-9]\\d*";var S=o++;h[S]="[0-9]+";var b=o++;h[b]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var m=o++;h[m]="("+h[v]+")\\.("+h[v]+")\\.("+h[v]+")";var E=o++;h[E]="("+h[S]+")\\.("+h[S]+")\\.("+h[S]+")";var I=o++;h[I]="(?:"+h[v]+"|"+h[b]+")";var $=o++;h[$]="(?:"+h[S]+"|"+h[b]+")";var u=o++;h[u]="(?:-("+h[I]+"(?:\\."+h[I]+")*))";var p=o++;h[p]="(?:-?("+h[$]+"(?:\\."+h[$]+")*))";var d=o++;h[d]="[0-9A-Za-z-]+";var l=o++;h[l]="(?:\\+("+h[d]+"(?:\\."+h[d]+")*))";var f=o++,n="v?"+h[m]+h[u]+"?"+h[l]+"?";h[f]="^"+n+"$";var r="[v=\\s]*"+h[E]+h[p]+"?"+h[l]+"?",t=o++;h[t]="^"+r+"$";var i=o++;h[i]="((?:<|>)?=?)";var s=o++;h[s]=h[S]+"|x|X|\\*";var c=o++;h[c]=h[v]+"|x|X|\\*";var a=o++;h[a]="[v=\\s]*("+h[c]+")(?:\\.("+h[c]+")(?:\\.("+h[c]+")(?:"+h[u]+")?"+h[l]+"?)?)?";var y=o++;h[y]="[v=\\s]*("+h[s]+")(?:\\.("+h[s]+")(?:\\.("+h[s]+")(?:"+h[p]+")?"+h[l]+"?)?)?";var w=o++;h[w]="^"+h[i]+"\\s*"+h[a]+"$";var P=o++;h[P]="^"+h[i]+"\\s*"+h[y]+"$";var N=o++;h[N]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var L=o++;h[L]="(?:~>?)";var J=o++;h[J]="(\\s*)"+h[L]+"\\s+",k[J]=new RegExp(h[J],"g");var ne=o++;h[ne]="^"+h[L]+h[a]+"$";var pe=o++;h[pe]="^"+h[L]+h[y]+"$";var ie=o++;h[ie]="(?:\\^)";var le=o++;h[le]="(\\s*)"+h[ie]+"\\s+",k[le]=new RegExp(h[le],"g");var ue=o++;h[ue]="^"+h[ie]+h[a]+"$";var se=o++;h[se]="^"+h[ie]+h[y]+"$";var B=o++;h[B]="^"+h[i]+"\\s*("+r+")$|^$";var G=o++;h[G]="^"+h[i]+"\\s*("+n+")$|^$";var C=o++;h[C]="(\\s*)"+h[i]+"\\s*("+r+"|"+h[a]+")",k[C]=new RegExp(h[C],"g");var F=o++;h[F]="^\\s*("+h[a]+")\\s+-\\s+("+h[a]+")\\s*$";var W=o++;h[W]="^\\s*("+h[y]+")\\s+-\\s+("+h[y]+")\\s*$";var Q=o++;h[Q]="(<|>)?=?\\s*\\*";for(var Z=0;Z<35;Z++)D(Z,h[Z]),k[Z]||(k[Z]=new RegExp(h[Z]));function ee(U,H){if(U instanceof q)return U;if(typeof U!="string"||U.length>O||!(H?k[t]:k[f]).test(U))return null;try{return new q(U,H)}catch{return null}}function q(U,H){if(U instanceof q){if(U.loose===H)return U;U=U.version}else if(typeof U!="string")throw new TypeError("Invalid Version: "+U);if(U.length>O)throw new TypeError("version is longer than "+O+" characters");if(!(this instanceof q))return new q(U,H);D("SemVer",U,H),this.loose=H;var _=U.trim().match(H?k[t]:k[f]);if(!_)throw new TypeError("Invalid Version: "+U);if(this.raw=U,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>j||this.major<0)throw new TypeError("Invalid major version");if(this.minor>j||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>j||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(ge){if(/^[0-9]+$/.test(ge)){var $e=+ge;if($e>=0&&$e<j)return $e}return ge}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}e.parse=ee,e.valid=function(U,H){var _=ee(U,H);return _?_.version:null},e.clean=function(U,H){var _=ee(U.trim().replace(/^[=v]+/,""),H);return _?_.version:null},e.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(U){return D("SemVer.compare",this.version,this.loose,U),U instanceof q||(U=new q(U,this.loose)),this.compareMain(U)||this.comparePre(U)},q.prototype.compareMain=function(U){return U instanceof q||(U=new q(U,this.loose)),T(this.major,U.major)||T(this.minor,U.minor)||T(this.patch,U.patch)},q.prototype.comparePre=function(U){if(U instanceof q||(U=new q(U,this.loose)),this.prerelease.length&&!U.prerelease.length)return-1;if(!this.prerelease.length&&U.prerelease.length)return 1;if(!this.prerelease.length&&!U.prerelease.length)return 0;var H=0;do{var _=this.prerelease[H],ge=U.prerelease[H];if(D("prerelease compare",H,_,ge),_===void 0&&ge===void 0)return 0;if(ge===void 0)return 1;if(_===void 0)return-1;if(_!==ge)return T(_,ge)}while(++H)},q.prototype.inc=function(U,H){switch(U){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",H);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",H);break;case"prepatch":this.prerelease.length=0,this.inc("patch",H),this.inc("pre",H);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",H),this.inc("pre",H);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}H&&(this.prerelease[0]===H?isNaN(this.prerelease[1])&&(this.prerelease=[H,0]):this.prerelease=[H,0]);break;default:throw new Error("invalid increment argument: "+U)}return this.format(),this.raw=this.version,this},e.inc=function(U,H,_,ge){typeof _=="string"&&(ge=_,_=void 0);try{return new q(U,_).inc(H,ge).version}catch{return null}},e.diff=function(U,H){if(X(U,H))return null;var _=ee(U),ge=ee(H);if(_.prerelease.length||ge.prerelease.length){for(var $e in _)if(($e==="major"||$e==="minor"||$e==="patch")&&_[$e]!==ge[$e])return"pre"+$e;return"prerelease"}for(var $e in _)if(($e==="major"||$e==="minor"||$e==="patch")&&_[$e]!==ge[$e])return $e},e.compareIdentifiers=T;var V=/^[0-9]+$/;function T(U,H){var _=V.test(U),ge=V.test(H);return _&&ge&&(U=+U,H=+H),_&&!ge?-1:ge&&!_?1:U<H?-1:U>H?1:0}function g(U,H,_){return new q(U,_).compare(new q(H,_))}function z(U,H,_){return g(U,H,_)>0}function x(U,H,_){return g(U,H,_)<0}function X(U,H,_){return g(U,H,_)===0}function fe(U,H,_){return g(U,H,_)!==0}function me(U,H,_){return g(U,H,_)>=0}function ye(U,H,_){return g(U,H,_)<=0}function Ee(U,H,_,ge){var $e;switch(H){case"===":typeof U=="object"&&(U=U.version),typeof _=="object"&&(_=_.version),$e=U===_;break;case"!==":typeof U=="object"&&(U=U.version),typeof _=="object"&&(_=_.version),$e=U!==_;break;case"":case"=":case"==":$e=X(U,_,ge);break;case"!=":$e=fe(U,_,ge);break;case">":$e=z(U,_,ge);break;case">=":$e=me(U,_,ge);break;case"<":$e=x(U,_,ge);break;case"<=":$e=ye(U,_,ge);break;default:throw new TypeError("Invalid operator: "+H)}return $e}function Ie(U,H){if(U instanceof Ie){if(U.loose===H)return U;U=U.value}if(!(this instanceof Ie))return new Ie(U,H);D("comparator",U,H),this.loose=H,this.parse(U),this.semver===ze?this.value="":this.value=this.operator+this.semver.version,D("comp",this)}e.rcompareIdentifiers=function(U,H){return T(H,U)},e.major=function(U,H){return new q(U,H).major},e.minor=function(U,H){return new q(U,H).minor},e.patch=function(U,H){return new q(U,H).patch},e.compare=g,e.compareLoose=function(U,H){return g(U,H,!0)},e.rcompare=function(U,H,_){return g(H,U,_)},e.sort=function(U,H){return U.sort(function(_,ge){return e.compare(_,ge,H)})},e.rsort=function(U,H){return U.sort(function(_,ge){return e.rcompare(_,ge,H)})},e.gt=z,e.lt=x,e.eq=X,e.neq=fe,e.gte=me,e.lte=ye,e.cmp=Ee,e.Comparator=Ie;var ze={};function Y(U,H){if(U instanceof Y)return U.loose===H?U:new Y(U.raw,H);if(U instanceof Ie)return new Y(U.value,H);if(!(this instanceof Y))return new Y(U,H);if(this.loose=H,this.raw=U,this.set=U.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+U);this.format()}function M(U){return!U||U.toLowerCase()==="x"||U==="*"}function te(U,H,_,ge,$e,ke,we,De,be,Re,Le,je,qe){return((H=M(_)?"":M(ge)?">="+_+".0.0":M($e)?">="+_+"."+ge+".0":">="+H)+" "+(De=M(be)?"":M(Re)?"<"+(+be+1)+".0.0":M(Le)?"<"+be+"."+(+Re+1)+".0":je?"<="+be+"."+Re+"."+Le+"-"+je:"<="+De)).trim()}function re(U,H){for(var _=0;_<U.length;_++)if(!U[_].test(H))return!1;if(H.prerelease.length){for(_=0;_<U.length;_++)if(D(U[_].semver),U[_].semver!==ze&&U[_].semver.prerelease.length>0){var ge=U[_].semver;if(ge.major===H.major&&ge.minor===H.minor&&ge.patch===H.patch)return!0}return!1}return!0}function he(U,H,_){try{H=new Y(H,_)}catch{return!1}return H.test(U)}function de(U,H,_,ge){var $e,ke,we,De,be;switch(U=new q(U,ge),H=new Y(H,ge),_){case">":$e=z,ke=ye,we=x,De=">",be=">=";break;case"<":$e=x,ke=me,we=z,De="<",be="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(he(U,H,ge))return!1;for(var Re=0;Re<H.set.length;++Re){var Le=H.set[Re],je=null,qe=null;if(Le.forEach(function(Fe){Fe.semver===ze&&(Fe=new Ie(">=0.0.0")),je=je||Fe,qe=qe||Fe,$e(Fe.semver,je.semver,ge)?je=Fe:we(Fe.semver,qe.semver,ge)&&(qe=Fe)}),je.operator===De||je.operator===be||(!qe.operator||qe.operator===De)&&ke(U,qe.semver)||qe.operator===be&&we(U,qe.semver))return!1}return!0}Ie.prototype.parse=function(U){var H=this.loose?k[B]:k[G],_=U.match(H);if(!_)throw new TypeError("Invalid comparator: "+U);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new q(_[2],this.loose):this.semver=ze},Ie.prototype.toString=function(){return this.value},Ie.prototype.test=function(U){return D("Comparator.test",U,this.loose),this.semver===ze||(typeof U=="string"&&(U=new q(U,this.loose)),Ee(U,this.operator,this.semver,this.loose))},Ie.prototype.intersects=function(U,H){if(!(U instanceof Ie))throw new TypeError("a Comparator is required");var _;if(this.operator==="")return _=new Y(U.value,H),he(this.value,_,H);if(U.operator==="")return _=new Y(this.value,H),he(U.semver,_,H);var ge=!(this.operator!==">="&&this.operator!==">"||U.operator!==">="&&U.operator!==">"),$e=!(this.operator!=="<="&&this.operator!=="<"||U.operator!=="<="&&U.operator!=="<"),ke=this.semver.version===U.semver.version,we=!(this.operator!==">="&&this.operator!=="<="||U.operator!==">="&&U.operator!=="<="),De=Ee(this.semver,"<",U.semver,H)&&(this.operator===">="||this.operator===">")&&(U.operator==="<="||U.operator==="<"),be=Ee(this.semver,">",U.semver,H)&&(this.operator==="<="||this.operator==="<")&&(U.operator===">="||U.operator===">");return ge||$e||ke&&we||De||be},e.Range=Y,Y.prototype.format=function(){return this.range=this.set.map(function(U){return U.join(" ").trim()}).join("||").trim(),this.range},Y.prototype.toString=function(){return this.range},Y.prototype.parseRange=function(U){var H=this.loose;U=U.trim(),D("range",U,H);var _=H?k[W]:k[F];U=U.replace(_,te),D("hyphen replace",U),U=U.replace(k[C],"$1$2$3"),D("comparator trim",U,k[C]),U=(U=(U=U.replace(k[J],"$1~")).replace(k[le],"$1^")).split(/\s+/).join(" ");var ge=H?k[B]:k[G],$e=U.split(" ").map(function(ke){return function(we,De){return D("comp",we),we=function(be,Re){return be.trim().split(/\s+/).map(function(Le){return function(je,qe){D("caret",je,qe);var Fe=qe?k[se]:k[ue];return je.replace(Fe,function(Oe,Se,Pe,Ae,Ne){var Ce;return D("caret",je,Oe,Se,Pe,Ae,Ne),M(Se)?Ce="":M(Pe)?Ce=">="+Se+".0.0 <"+(+Se+1)+".0.0":M(Ae)?Ce=Se==="0"?">="+Se+"."+Pe+".0 <"+Se+"."+(+Pe+1)+".0":">="+Se+"."+Pe+".0 <"+(+Se+1)+".0.0":Ne?(D("replaceCaret pr",Ne),Ne.charAt(0)!=="-"&&(Ne="-"+Ne),Ce=Se==="0"?Pe==="0"?">="+Se+"."+Pe+"."+Ae+Ne+" <"+Se+"."+Pe+"."+(+Ae+1):">="+Se+"."+Pe+"."+Ae+Ne+" <"+Se+"."+(+Pe+1)+".0":">="+Se+"."+Pe+"."+Ae+Ne+" <"+(+Se+1)+".0.0"):(D("no pr"),Ce=Se==="0"?Pe==="0"?">="+Se+"."+Pe+"."+Ae+" <"+Se+"."+Pe+"."+(+Ae+1):">="+Se+"."+Pe+"."+Ae+" <"+Se+"."+(+Pe+1)+".0":">="+Se+"."+Pe+"."+Ae+" <"+(+Se+1)+".0.0"),D("caret return",Ce),Ce})}(Le,Re)}).join(" ")}(we,De),D("caret",we),we=function(be,Re){return be.trim().split(/\s+/).map(function(Le){return function(je,qe){var Fe=qe?k[pe]:k[ne];return je.replace(Fe,function(Oe,Se,Pe,Ae,Ne){var Ce;return D("tilde",je,Oe,Se,Pe,Ae,Ne),M(Se)?Ce="":M(Pe)?Ce=">="+Se+".0.0 <"+(+Se+1)+".0.0":M(Ae)?Ce=">="+Se+"."+Pe+".0 <"+Se+"."+(+Pe+1)+".0":Ne?(D("replaceTilde pr",Ne),Ne.charAt(0)!=="-"&&(Ne="-"+Ne),Ce=">="+Se+"."+Pe+"."+Ae+Ne+" <"+Se+"."+(+Pe+1)+".0"):Ce=">="+Se+"."+Pe+"."+Ae+" <"+Se+"."+(+Pe+1)+".0",D("tilde return",Ce),Ce})}(Le,Re)}).join(" ")}(we,De),D("tildes",we),we=function(be,Re){return D("replaceXRanges",be,Re),be.split(/\s+/).map(function(Le){return function(je,qe){je=je.trim();var Fe=qe?k[P]:k[w];return je.replace(Fe,function(Oe,Se,Pe,Ae,Ne,Ce){D("xRange",je,Oe,Se,Pe,Ae,Ne,Ce);var Ue=M(Pe),Me=Ue||M(Ae),Te=Me||M(Ne);return Se==="="&&Te&&(Se=""),Ue?Oe=Se===">"||Se==="<"?"<0.0.0":"*":Se&&Te?(Me&&(Ae=0),Te&&(Ne=0),Se===">"?(Se=">=",Me?(Pe=+Pe+1,Ae=0,Ne=0):Te&&(Ae=+Ae+1,Ne=0)):Se==="<="&&(Se="<",Me?Pe=+Pe+1:Ae=+Ae+1),Oe=Se+Pe+"."+Ae+"."+Ne):Me?Oe=">="+Pe+".0.0 <"+(+Pe+1)+".0.0":Te&&(Oe=">="+Pe+"."+Ae+".0 <"+Pe+"."+(+Ae+1)+".0"),D("xRange return",Oe),Oe})}(Le,Re)}).join(" ")}(we,De),D("xrange",we),we=function(be,Re){return D("replaceStars",be,Re),be.trim().replace(k[Q],"")}(we,De),D("stars",we),we}(ke,H)}).join(" ").split(/\s+/);return this.loose&&($e=$e.filter(function(ke){return!!ke.match(ge)})),$e=$e.map(function(ke){return new Ie(ke,H)})},Y.prototype.intersects=function(U,H){if(!(U instanceof Y))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(ge){return U.set.some(function($e){return $e.every(function(ke){return ge.intersects(ke,H)})})})})},e.toComparators=function(U,H){return new Y(U,H).set.map(function(_){return _.map(function(ge){return ge.value}).join(" ").trim().split(" ")})},Y.prototype.test=function(U){if(!U)return!1;typeof U=="string"&&(U=new q(U,this.loose));for(var H=0;H<this.set.length;H++)if(re(this.set[H],U))return!0;return!1},e.satisfies=he,e.maxSatisfying=function(U,H,_){var ge=null,$e=null;try{var ke=new Y(H,_)}catch{return null}return U.forEach(function(we){ke.test(we)&&(ge&&$e.compare(we)!==-1||($e=new q(ge=we,_)))}),ge},e.minSatisfying=function(U,H,_){var ge=null,$e=null;try{var ke=new Y(H,_)}catch{return null}return U.forEach(function(we){ke.test(we)&&(ge&&$e.compare(we)!==1||($e=new q(ge=we,_)))}),ge},e.validRange=function(U,H){try{return new Y(U,H).range||"*"}catch{return null}},e.ltr=function(U,H,_){return de(U,H,"<",_)},e.gtr=function(U,H,_){return de(U,H,">",_)},e.outside=de,e.prerelease=function(U,H){var _=ee(U,H);return _&&_.prerelease.length?_.prerelease:null},e.intersects=function(U,H,_){return U=new Y(U,_),H=new Y(H,_),U.intersects(H)},e.coerce=function(U){if(U instanceof q)return U;if(typeof U!="string")return null;var H=U.match(k[N]);return H==null?null:ee((H[1]||"0")+"."+(H[2]||"0")+"."+(H[3]||"0"))}}).call(this,A(1))},function(K,e){var A,R,D=K.exports={};function O(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}function k($){if(A===setTimeout)return setTimeout($,0);if((A===O||!A)&&setTimeout)return A=setTimeout,setTimeout($,0);try{return A($,0)}catch{try{return A.call(null,$,0)}catch{return A.call(this,$,0)}}}(function(){try{A=typeof setTimeout=="function"?setTimeout:O}catch{A=O}try{R=typeof clearTimeout=="function"?clearTimeout:j}catch{R=j}})();var h,o=[],v=!1,S=-1;function b(){v&&h&&(v=!1,h.length?o=h.concat(o):S=-1,o.length&&m())}function m(){if(!v){var $=k(b);v=!0;for(var u=o.length;u;){for(h=o,o=[];++S<u;)h&&h[S].run();S=-1,u=o.length}h=null,v=!1,function(p){if(R===clearTimeout)return clearTimeout(p);if((R===j||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(p);try{R(p)}catch{try{return R.call(null,p)}catch{return R.call(this,p)}}}($)}}function E($,u){this.fun=$,this.array=u}function I(){}D.nextTick=function($){var u=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)u[p-1]=arguments[p];o.push(new E($,u)),o.length!==1||v||k(m)},E.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=I,D.addListener=I,D.once=I,D.off=I,D.removeListener=I,D.removeAllListeners=I,D.emit=I,D.prependListener=I,D.prependOnceListener=I,D.listeners=function($){return[]},D.binding=function($){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function($){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}}])}),define(ae[76],ce([0,1]),function(K,e){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.$ks=void 0;class R{constructor(k,h,o){this.level=k,this.key=h,this.value=o,this.forward=[]}}const D=void 0;class O{constructor(k,h=2**16){this.comparator=k,this[A]="SkipList",this.d=0,this.f=0,this.c=Math.max(1,Math.log2(h)|0),this.e=new R(this.c,D,D)}get size(){return this.f}clear(){this.e=new R(this.c,D,D),this.f=0}has(k){return!!O.g(this,k,this.comparator)}get(k){return O.g(this,k,this.comparator)?.value}set(k,h){return O.h(this,k,h,this.comparator)&&(this.f+=1),this}delete(k){const h=O.k(this,k,this.comparator);return h&&(this.f-=1),h}forEach(k,h){let o=this.e.forward[0];for(;o;)k.call(h,o.value,o.key,this),o=o.forward[0]}[(A=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let k=this.e.forward[0];for(;k;)yield[k.key,k.value],k=k.forward[0]}*keys(){let k=this.e.forward[0];for(;k;)yield k.key,k=k.forward[0]}*values(){let k=this.e.forward[0];for(;k;)yield k.value,k=k.forward[0]}toString(){let k="[SkipList]:",h=this.e.forward[0];for(;h;)k+=`node(${h.key}, ${h.value}, lvl:${h.level})`,h=h.forward[0];return k}static g(k,h,o){let v=k.e;for(let S=k.d-1;S>=0;S--)for(;v.forward[S]&&o(v.forward[S].key,h)<0;)v=v.forward[S];if(v=v.forward[0],v&&o(v.key,h)===0)return v}static h(k,h,o,v){const S=[];let b=k.e;for(let m=k.d-1;m>=0;m--){for(;b.forward[m]&&v(b.forward[m].key,h)<0;)b=b.forward[m];S[m]=b}if(b=b.forward[0],b&&v(b.key,h)===0)return b.value=o,!1;{const m=O.j(k);if(m>k.d){for(let E=k.d;E<m;E++)S[E]=k.e;k.d=m}b=new R(m,h,o);for(let E=0;E<m;E++)b.forward[E]=S[E].forward[E],S[E].forward[E]=b;return!0}}static j(k,h=.5){let o=1;for(;Math.random()<h&&o<k.c;)o+=1;return o}static k(k,h,o){const v=[];let S=k.e;for(let b=k.d-1;b>=0;b--){for(;S.forward[b]&&o(S.forward[b].key,h)<0;)S=S.forward[b];v[b]=S}if(S=S.forward[0],!S||o(S.key,h)!==0)return!1;for(let b=0;b<k.d&&v[b].forward[b]===S;b++)v[b].forward[b]=S.forward[b];for(;k.d>0&&k.e.forward[k.d-1]===D;)k.d-=1;return!0}}e.$ks=O}),define(ae[46],ce([0,1,9,2]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=void 0;function D(l){const f=l;return f?typeof f.read=="function":!1}e.$8d=D;function O(l){const f=l;return f?[f.on,f.pause,f.resume,f.destroy].every(n=>typeof n=="function"):!1}e.$9d=O;function j(l){const f=l;return f?O(f.stream)&&Array.isArray(f.buffer)&&typeof f.ended=="boolean":!1}e.$0d=j;function k(l,f){return new h(l,f)}e.$$d=k;class h{constructor(f,n){this.e=f,this.f=n,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(f){if(!this.a.destroyed){if(this.a.flowing)this.g(f);else if(this.b.data.push(f),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(n=>this.d.push(n))}}error(f){this.a.destroyed||(this.a.flowing?this.h(f):this.b.error.push(f))}end(f){this.a.destroyed||(typeof f<"u"&&this.write(f),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(f){this.c.data.slice(0).forEach(n=>n(f))}h(f){this.c.error.length===0?(0,A.$1)(f):this.c.error.slice(0).forEach(n=>n(f))}i(){this.c.end.slice(0).forEach(f=>f())}on(f,n){if(!this.a.destroyed)switch(f){case"data":this.c.data.push(n),this.resume();break;case"end":this.c.end.push(n),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(n),this.a.flowing&&this.k();break}}removeListener(f,n){if(this.a.destroyed)return;let r;switch(f){case"data":r=this.c.data;break;case"end":r=this.c.end;break;case"error":r=this.c.error;break}if(r){const t=r.indexOf(n);t>=0&&r.splice(t,1)}}j(){if(this.b.data.length>0){const f=this.e(this.b.data);this.g(f),this.b.data.length=0;const n=[...this.d];this.d.length=0,n.forEach(r=>r())}}k(){if(this.c.error.length>0){for(const f of this.b.error)this.h(f);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function o(l,f){const n=[];let r;for(;(r=l.read())!==null;)n.push(r);return f(n)}e.$_d=o;function v(l,f,n){const r=[];let t;for(;(t=l.read())!==null&&r.length<n;)r.push(t);return t===null&&r.length>0?f(r):{read:()=>{if(r.length>0)return r.shift();if(typeof t<"u"){const i=t;return t=void 0,i}return l.read()}}}e.$ae=v;function S(l,f){return new Promise((n,r)=>{const t=[];b(l,{onData:i=>{f&&t.push(i)},onError:i=>{f?r(i):n(void 0)},onEnd:()=>{n(f?f(t):void 0)}})})}e.$be=S;function b(l,f,n){l.on("error",r=>{n?.isCancellationRequested||f.onError(r)}),l.on("end",()=>{n?.isCancellationRequested||f.onEnd()}),l.on("data",r=>{n?.isCancellationRequested||f.onData(r)})}e.$ce=b;function m(l,f){return new Promise((n,r)=>{const t=new R.$Sc,i=[],s=y=>{if(i.push(y),i.length>f)return t.dispose(),l.pause(),n({stream:l,buffer:i,ended:!1})},c=y=>(t.dispose(),r(y)),a=()=>(t.dispose(),n({stream:l,buffer:i,ended:!0}));t.add((0,R.$Rc)(()=>l.removeListener("error",c))),l.on("error",c),t.add((0,R.$Rc)(()=>l.removeListener("end",a))),l.on("end",a),t.add((0,R.$Rc)(()=>l.removeListener("data",s))),l.on("data",s)})}e.$de=m;function E(l,f){const n=k(f);return n.end(l),n}e.$ee=E;function I(){const l=k(()=>{throw new Error("not supported")});return l.end(),l}e.$fe=I;function $(l){let f=!1;return{read:()=>f?null:(f=!0,l)}}e.$ge=$;function u(l,f,n){const r=k(n);return b(l,{onData:t=>r.write(f.data(t)),onError:t=>r.error(f.error?f.error(t):t),onEnd:()=>r.end()}),r}e.$he=u;function p(l,f,n){let r=!1;return{read:()=>{const t=f.read();return r?t:(r=!0,t!==null?n([l,t]):l)}}}e.$ie=p;function d(l,f,n){let r=!1;const t=k(n);return b(f,{onData:i=>r?t.write(i):(r=!0,t.write(n([l,i]))),onError:i=>t.error(i),onEnd:()=>{r||(r=!0,t.write(l)),t.end()}}),t}e.$je=d}),define(ae[14],ce([0,1,164,46]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=void 0;const D=typeof Buffer<"u",O=new A.$V(()=>new Uint8Array(256));let j,k;class h{static alloc(L){return D?new h(Buffer.allocUnsafe(L)):new h(new Uint8Array(L))}static wrap(L){return D&&!Buffer.isBuffer(L)&&(L=Buffer.from(L.buffer,L.byteOffset,L.byteLength)),new h(L)}static fromString(L,J){return!(J?.dontUseNodeBuffer||!1)&&D?new h(Buffer.from(L)):(j||(j=new TextEncoder),new h(j.encode(L)))}static fromByteArray(L){const J=h.alloc(L.length);for(let ne=0,pe=L.length;ne<pe;ne++)J.buffer[ne]=L[ne];return J}static concat(L,J){if(typeof J>"u"){J=0;for(let ie=0,le=L.length;ie<le;ie++)J+=L[ie].byteLength}const ne=h.alloc(J);let pe=0;for(let ie=0,le=L.length;ie<le;ie++){const ue=L[ie];ne.set(ue,pe),pe+=ue.byteLength}return ne}constructor(L){this.buffer=L,this.byteLength=this.buffer.byteLength}clone(){const L=h.alloc(this.byteLength);return L.set(this),L}toString(){return D?this.buffer.toString():(k||(k=new TextDecoder),k.decode(this.buffer))}slice(L,J){return new h(this.buffer.subarray(L,J))}set(L,J){if(L instanceof h)this.buffer.set(L.buffer,J);else if(L instanceof Uint8Array)this.buffer.set(L,J);else if(L instanceof ArrayBuffer)this.buffer.set(new Uint8Array(L),J);else if(ArrayBuffer.isView(L))this.buffer.set(new Uint8Array(L.buffer,L.byteOffset,L.byteLength),J);else throw new Error("Unknown argument 'array'")}readUInt32BE(L){return b(this.buffer,L)}writeUInt32BE(L,J){m(this.buffer,L,J)}readUInt32LE(L){return E(this.buffer,L)}writeUInt32LE(L,J){I(this.buffer,L,J)}readUInt8(L){return $(this.buffer,L)}writeUInt8(L,J){u(this.buffer,L,J)}indexOf(L,J=0){return o(this.buffer,L instanceof h?L.buffer:L,J)}}e.$ke=h;function o(N,L,J=0){const ne=L.byteLength,pe=N.byteLength;if(ne===0)return 0;if(ne===1)return N.indexOf(L[0]);if(ne>pe-J)return-1;const ie=O.value;ie.fill(L.length);for(let B=0;B<L.length;B++)ie[L[B]]=L.length-B-1;let le=J+L.length-1,ue=le,se=-1;for(;le<pe;)if(N[le]===L[ue]){if(ue===0){se=le;break}le--,ue--}else le+=Math.max(L.length-ue,ie[N[le]]),ue=L.length-1;return se}e.$le=o;function v(N,L){return N[L+0]<<0>>>0|N[L+1]<<8>>>0}e.$me=v;function S(N,L,J){N[J+0]=L&255,L=L>>>8,N[J+1]=L&255}e.$ne=S;function b(N,L){return N[L]*2**24+N[L+1]*2**16+N[L+2]*2**8+N[L+3]}e.$oe=b;function m(N,L,J){N[J+3]=L,L=L>>>8,N[J+2]=L,L=L>>>8,N[J+1]=L,L=L>>>8,N[J]=L}e.$pe=m;function E(N,L){return N[L+0]<<0>>>0|N[L+1]<<8>>>0|N[L+2]<<16>>>0|N[L+3]<<24>>>0}e.$qe=E;function I(N,L,J){N[J+0]=L&255,L=L>>>8,N[J+1]=L&255,L=L>>>8,N[J+2]=L&255,L=L>>>8,N[J+3]=L&255}e.$re=I;function $(N,L){return N[L]}e.$se=$;function u(N,L,J){N[J]=L}e.$te=u;function p(N){return R.$_d(N,L=>h.concat(L))}e.$ue=p;function d(N){return R.$ge(N)}e.$ve=d;function l(N){return R.$be(N,L=>h.concat(L))}e.$we=l;async function f(N){return N.ended?h.concat(N.buffer):h.concat([...N.buffer,await l(N.stream)])}e.$xe=f;function n(N){return R.$ee(N,L=>h.concat(L))}e.$ye=n;function r(N){return R.$he(N,{data:L=>typeof L=="string"?h.fromString(L):h.wrap(L)},L=>h.concat(L))}e.$ze=r;function t(N){return R.$$d(L=>h.concat(L),N)}e.$Ae=t;function i(N,L){return R.$ie(N,L,J=>h.concat(J))}e.$Be=i;function s(N,L){return R.$je(N,L,J=>h.concat(J))}e.$Ce=s;function c(N){let L=0,J=0,ne=0;const pe=new Uint8Array(Math.floor(N.length/4*3)),ie=ue=>{switch(J){case 3:pe[ne++]=L|ue,J=0;break;case 2:pe[ne++]=L|ue>>>2,L=ue<<6,J=3;break;case 1:pe[ne++]=L|ue>>>4,L=ue<<4,J=2;break;default:L=ue<<2,J=1}};for(let ue=0;ue<N.length;ue++){const se=N.charCodeAt(ue);if(se>=65&&se<=90)ie(se-65);else if(se>=97&&se<=122)ie(se-97+26);else if(se>=48&&se<=57)ie(se-48+52);else if(se===43||se===45)ie(62);else if(se===47||se===95)ie(63);else{if(se===61)break;throw new SyntaxError(`Unexpected base64 character ${N[ue]}`)}}const le=ne;for(;J>0;)ie(0);return h.wrap(pe).slice(0,le)}e.$De=c;function a(N){const L=N.split(".")[1],J=c(L);return JSON.parse(J.toString())}e.$Ee=a;const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function P({buffer:N},L=!0,J=!1){const ne=J?w:y;let pe="";const ie=N.byteLength%3;let le=0;for(;le<N.byteLength-ie;le+=3){const ue=N[le+0],se=N[le+1],B=N[le+2];pe+=ne[ue>>>2],pe+=ne[(ue<<4|se>>>4)&63],pe+=ne[(se<<2|B>>>6)&63],pe+=ne[B&63]}if(ie===1){const ue=N[le+0];pe+=ne[ue>>>2],pe+=ne[ue<<4&63],L&&(pe+="==")}else if(ie===2){const ue=N[le+0],se=N[le+1];pe+=ne[ue>>>2],pe+=ne[(ue<<4|se>>>4)&63],pe+=ne[se<<2&63],L&&(pe+="=")}return pe}e.$Fe=P}),define(ae[43],ce([0,1,29]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2i=e.$1i=e.$Zi=e.$Yi=e.$Xi=e.$Wi=e.$Vi=void 0;function R(u){return D(u,0)}e.$Vi=R;function D(u,p){switch(typeof u){case"object":return u===null?O(349,p):Array.isArray(u)?h(u,p):o(u,p);case"string":return k(u,p);case"boolean":return j(u,p);case"number":return O(u,p);case"undefined":return O(937,p);default:return O(617,p)}}e.$Wi=D;function O(u,p){return(p<<5)-p+u|0}e.$Xi=O;function j(u,p){return O(u?433:863,p)}function k(u,p){p=O(149417,p);for(let d=0,l=u.length;d<l;d++)p=O(u.charCodeAt(d),p);return p}e.$Yi=k;function h(u,p){return p=O(104579,p),u.reduce((d,l)=>D(l,d),p)}function o(u,p){return p=O(181387,p),Object.keys(u).sort().reduce((d,l)=>(d=k(l,d),D(u[l],d)),p)}class v{constructor(){this.g=0}get value(){return this.g}hash(p){return this.g=D(p,this.g),this.g}}e.$Zi=v;var S;(function(u){u[u.BLOCK_SIZE=64]="BLOCK_SIZE",u[u.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(S||(S={}));function b(u,p,d=32){const l=d-p,f=~((1<<l)-1);return(u<<p|(f&u)>>>l)>>>0}function m(u,p=0,d=u.byteLength,l=0){for(let f=0;f<d;f++)u[p+f]=l}function E(u,p,d="0"){for(;u.length<p;)u=d+u;return u}function I(u,p=32){return u instanceof ArrayBuffer?Array.from(new Uint8Array(u)).map(d=>d.toString(16).padStart(2,"0")).join(""):E((u>>>0).toString(16),p/4)}e.$1i=I;class ${static{this.g=new DataView(new ArrayBuffer(320))}constructor(){this.h=1732584193,this.l=4023233417,this.m=2562383102,this.n=271733878,this.o=3285377520,this.p=new Uint8Array(64+3),this.q=new DataView(this.p.buffer),this.r=0,this.t=0,this.u=0,this.v=!1}update(p){const d=p.length;if(d===0)return;const l=this.p;let f=this.r,n=this.u,r,t;for(n!==0?(r=n,t=-1,n=0):(r=p.charCodeAt(0),t=0);;){let i=r;if(A.$ff(r))if(t+1<d){const s=p.charCodeAt(t+1);A.$gf(s)?(t++,i=A.$hf(r,s)):i=65533}else{n=r;break}else A.$gf(r)&&(i=65533);if(f=this.w(l,f,i),t++,t<d)r=p.charCodeAt(t);else break}this.r=f,this.u=n}w(p,d,l){return l<128?p[d++]=l:l<2048?(p[d++]=192|(l&1984)>>>6,p[d++]=128|(l&63)>>>0):l<65536?(p[d++]=224|(l&61440)>>>12,p[d++]=128|(l&4032)>>>6,p[d++]=128|(l&63)>>>0):(p[d++]=240|(l&1835008)>>>18,p[d++]=128|(l&258048)>>>12,p[d++]=128|(l&4032)>>>6,p[d++]=128|(l&63)>>>0),d>=64&&(this.y(),d-=64,this.t+=64,p[0]=p[64+0],p[1]=p[64+1],p[2]=p[64+2]),d}digest(){return this.v||(this.v=!0,this.u&&(this.u=0,this.r=this.w(this.p,this.r,65533)),this.t+=this.r,this.x()),I(this.h)+I(this.l)+I(this.m)+I(this.n)+I(this.o)}x(){this.p[this.r++]=128,m(this.p,this.r),this.r>56&&(this.y(),m(this.p));const p=8*this.t;this.q.setUint32(56,Math.floor(p/4294967296),!1),this.q.setUint32(60,p%4294967296,!1),this.y()}y(){const p=$.g,d=this.q;for(let a=0;a<64;a+=4)p.setUint32(a,d.getUint32(a,!1),!1);for(let a=64;a<320;a+=4)p.setUint32(a,b(p.getUint32(a-12,!1)^p.getUint32(a-32,!1)^p.getUint32(a-56,!1)^p.getUint32(a-64,!1),1),!1);let l=this.h,f=this.l,n=this.m,r=this.n,t=this.o,i,s,c;for(let a=0;a<80;a++)a<20?(i=f&n|~f&r,s=1518500249):a<40?(i=f^n^r,s=1859775393):a<60?(i=f&n|f&r|n&r,s=2400959708):(i=f^n^r,s=3395469782),c=b(l,5)+i+t+s+p.getUint32(a*4,!1)&4294967295,t=r,r=n,n=b(f,30),f=l,l=c;this.h=this.h+l&4294967295,this.l=this.l+f&4294967295,this.m=this.m+n&4294967295,this.n=this.n+r&4294967295,this.o=this.o+t&4294967295}}e.$2i=$}),define(ae[56],ce([0,1,29]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R;(function(D){D[D.Ignore=0]="Ignore",D[D.Info=1]="Info",D[D.Warning=2]="Warning",D[D.Error=3]="Error",D[D.AI=4]="AI"})(R||(R={})),function(D){const O="error",j="warning",k="warn",h="info",o="ignore";function v(b){return b?A.$bf(O,b)?D.Error:A.$bf(j,b)||A.$bf(k,b)?D.Warning:A.$bf(h,b)?D.Info:D.Ignore:D.Ignore}D.fromValue=v;function S(b){switch(b){case D.Error:return O;case D.Warning:return j;case D.Info:return h;default:return o}}D.toString=S}(R||(R={})),e.default=R}),define(ae[30],ce([0,1,3]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pn=e.$On=e.$Nn=e.$Mn=e.$Ln=e.$Kn=e.$Jn=e.$In=e.$Hn=e.$Gn=e.$Fn=e.$En=void 0;function R(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const p=Array.isArray(u)?[]:{};return Object.entries(u).forEach(([d,l])=>{p[d]=l&&typeof l=="object"?R(l):l}),p}e.$En=R;function D(u){if(!u||typeof u!="object")return u;const p=[u];for(;p.length>0;){const d=p.shift();Object.freeze(d);for(const l in d)if(O.call(d,l)){const f=d[l];typeof f=="object"&&!Object.isFrozen(f)&&!(0,A.$Nf)(f)&&p.push(f)}}return u}e.$Fn=D;const O=Object.prototype.hasOwnProperty;function j(u,p){return k(u,p,new Set)}e.$Gn=j;function k(u,p,d){if((0,A.$Tf)(u))return u;const l=p(u);if(typeof l<"u")return l;if(Array.isArray(u)){const f=[];for(const n of u)f.push(k(n,p,d));return f}if((0,A.$Mf)(u)){if(d.has(u))throw new Error("Cannot clone recursive data-structure");d.add(u);const f={};for(const n in u)O.call(u,n)&&(f[n]=k(u[n],p,d));return d.delete(u),f}return u}function h(u,p,d=!0){return(0,A.$Mf)(u)?((0,A.$Mf)(p)&&Object.keys(p).forEach(l=>{l in u?d&&((0,A.$Mf)(u[l])&&(0,A.$Mf)(p[l])?h(u[l],p[l],d):u[l]=p[l]):u[l]=p[l]}),u):p}e.$Hn=h;function o(u,p){if(u===p)return!0;if(u==null||p===null||p===void 0||typeof u!=typeof p||typeof u!="object"||Array.isArray(u)!==Array.isArray(p))return!1;let d,l;if(Array.isArray(u)){if(u.length!==p.length)return!1;for(d=0;d<u.length;d++)if(!o(u[d],p[d]))return!1}else{const f=[];for(l in u)f.push(l);f.sort();const n=[];for(l in p)n.push(l);if(n.sort(),!o(f,n))return!1;for(d=0;d<f.length;d++)if(!o(u[f[d]],p[f[d]]))return!1}return!0}e.$In=o;function v(u){const p=new Set;return JSON.stringify(u,(d,l)=>{if((0,A.$Mf)(l)||Array.isArray(l)){if(p.has(l))return"[Circular]";p.add(l)}return l})}e.$Jn=v;function S(u,p){const d=Object.create(null);return!u||!p||Object.keys(p).forEach(f=>{const n=u[f],r=p[f];o(n,r)||(d[f]=r)}),d}e.$Kn=S;function b(u,p){const d=p.toLowerCase(),l=Object.keys(u).find(f=>f.toLowerCase()===d);return l?u[l]:u[p]}e.$Ln=b;function m(u,p){const d=Object.create(null);for(const[l,f]of Object.entries(u))p(l,f)&&(d[l]=f);return d}e.$Mn=m;function E(u){let p=[];for(;Object.prototype!==u;)p=p.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u);return p}e.$Nn=E;function I(u){const p=[];for(const d of E(u))typeof u[d]=="function"&&p.push(d);return p}e.$On=I;function $(u,p){const d=f=>function(){const n=Array.prototype.slice.call(arguments,0);return p(f,n)},l={};for(const f of u)l[f]=d(f);return l}e.$Pn=$}),define(ae[24],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sg=e.$rg=void 0;const A=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function R(D){return A.test(D)}e.$rg=R,e.$sg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let D;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?D=crypto.getRandomValues.bind(crypto):D=function(k){for(let h=0;h<k.length;h++)k[h]=Math.floor(Math.random()*256);return k};const O=new Uint8Array(16),j=[];for(let k=0;k<256;k++)j.push(k.toString(16).padStart(2,"0"));return function(){D(O),O[6]=O[6]&15|64,O[8]=O[8]&63|128;let h=0,o="";return o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o+="-",o+=j[O[h++]],o+=j[O[h++]],o+="-",o+=j[O[h++]],o+=j[O[h++]],o+="-",o+=j[O[h++]],o+=j[O[h++]],o+="-",o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o+=j[O[h++]],o}}()}),define(ae[77],ce([0,1,33]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$en=void 0;const R=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function D(j){const k=j.replace(/\-/g,":").toLowerCase();return!R.has(k)}function O(){const j=(0,A.networkInterfaces)();for(const k in j){const h=j[k];if(h){for(const{mac:o}of h)if(D(o))return o}}throw new Error("Unable to retrieve mac address (unexpected format)")}e.$en=O}),define(ae[78],ce([7,5]),function(K,e){return K.create("vs/base/common/date",e)}),define(ae[79],ce([0,1,78]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Em=e.$Dm=void 0;const R=60,D=R*60,O=D*24,j=O*7,k=O*30,h=O*365;function o(S,b,m,E){typeof S!="number"&&(S=S.getTime());const I=Math.round((new Date().getTime()-S)/1e3);if(I<-30)return(0,A.localize)(0,null,o(new Date().getTime()+I*1e3,!1));if(!E&&I<30)return(0,A.localize)(1,null);let $;return I<R?($=I,b?$===1?m?(0,A.localize)(2,null,$):(0,A.localize)(3,null,$):m?(0,A.localize)(4,null,$):(0,A.localize)(5,null,$):$===1?m?(0,A.localize)(6,null,$):(0,A.localize)(7,null,$):m?(0,A.localize)(8,null,$):(0,A.localize)(9,null,$)):I<D?($=Math.floor(I/R),b?$===1?m?(0,A.localize)(10,null,$):(0,A.localize)(11,null,$):m?(0,A.localize)(12,null,$):(0,A.localize)(13,null,$):$===1?m?(0,A.localize)(14,null,$):(0,A.localize)(15,null,$):m?(0,A.localize)(16,null,$):(0,A.localize)(17,null,$)):I<O?($=Math.floor(I/D),b?$===1?m?(0,A.localize)(18,null,$):(0,A.localize)(19,null,$):m?(0,A.localize)(20,null,$):(0,A.localize)(21,null,$):$===1?m?(0,A.localize)(22,null,$):(0,A.localize)(23,null,$):m?(0,A.localize)(24,null,$):(0,A.localize)(25,null,$)):I<j?($=Math.floor(I/O),b?$===1?(0,A.localize)(26,null,$):(0,A.localize)(27,null,$):$===1?(0,A.localize)(28,null,$):(0,A.localize)(29,null,$)):I<k?($=Math.floor(I/j),b?$===1?m?(0,A.localize)(30,null,$):(0,A.localize)(31,null,$):m?(0,A.localize)(32,null,$):(0,A.localize)(33,null,$):$===1?m?(0,A.localize)(34,null,$):(0,A.localize)(35,null,$):m?(0,A.localize)(36,null,$):(0,A.localize)(37,null,$)):I<h?($=Math.floor(I/k),b?$===1?m?(0,A.localize)(38,null,$):(0,A.localize)(39,null,$):m?(0,A.localize)(40,null,$):(0,A.localize)(41,null,$):$===1?m?(0,A.localize)(42,null,$):(0,A.localize)(43,null,$):m?(0,A.localize)(44,null,$):(0,A.localize)(45,null,$)):($=Math.floor(I/h),b?$===1?m?(0,A.localize)(46,null,$):(0,A.localize)(47,null,$):m?(0,A.localize)(48,null,$):(0,A.localize)(49,null,$):$===1?m?(0,A.localize)(50,null,$):(0,A.localize)(51,null,$):m?(0,A.localize)(52,null,$):(0,A.localize)(53,null,$))}e.$Dm=o;function v(S){return S.getFullYear()+"-"+String(S.getMonth()+1).padStart(2,"0")+"-"+String(S.getDate()).padStart(2,"0")+"T"+String(S.getHours()).padStart(2,"0")+":"+String(S.getMinutes()).padStart(2,"0")+":"+String(S.getSeconds()).padStart(2,"0")+"."+(S.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.$Em=v}),define(ae[80],ce([7,5]),function(K,e){return K.create("vs/base/common/errorMessage",e)}),define(ae[34],ce([0,1,19,3,80]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ui=e.$Ti=e.$Si=void 0;function O(S,b){return b&&(S.stack||S.stacktrace)?D.localize(0,null,k(S),j(S.stack)||j(S.stacktrace)):k(S)}function j(S){return Array.isArray(S)?S.join(`
`):S}function k(S){return S.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${S.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof S.code=="string"&&typeof S.errno=="number"&&typeof S.syscall=="string"?D.localize(1,null,S.message):S.message||D.localize(2,null)}function h(S=null,b=!1){if(!S)return D.localize(3,null);if(Array.isArray(S)){const m=A.$Hb(S),E=h(m[0],b);return m.length>1?D.localize(4,null,E,m.length):E}if(R.$Kf(S))return S;if(S.detail){const m=S.detail;if(m.error)return O(m.error,b);if(m.exception)return O(m.exception,b)}return S.stack?O(S,b):S.message?S.message:D.localize(5,null)}e.$Si=h;function o(S){const b=S;return b instanceof Error&&Array.isArray(b.actions)}e.$Ti=o;function v(S,b){let m;return typeof S=="string"?m=new Error(S):m=S,m.actions=b,m}e.$Ui=v}),define(ae[81],ce([7,5]),function(K,e){return K.create("vs/base/common/jsonErrorMessages",e)}),define(ae[82],ce([0,1,81]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fq=void 0;function R(D){switch(D){case 1:return(0,A.localize)(0,null);case 2:return(0,A.localize)(1,null);case 3:return(0,A.localize)(2,null);case 4:return(0,A.localize)(3,null);case 5:return(0,A.localize)(4,null);case 6:return(0,A.localize)(5,null);case 7:return(0,A.localize)(6,null);case 8:return(0,A.localize)(7,null);case 9:return(0,A.localize)(8,null);default:return""}}e.$fq=R}),define(ae[57],ce([0,1,13]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1l=e.$Zl=e.TerminateResponseCode=e.Source=void 0;var R;(function(k){k[k.stdout=0]="stdout",k[k.stderr=1]="stderr"})(R||(e.Source=R={}));var D;(function(k){k[k.Success=0]="Success",k[k.Unknown=1]="Unknown",k[k.AccessDenied=2]="AccessDenied",k[k.ProcessNotFound=3]="ProcessNotFound"})(D||(e.TerminateResponseCode=D={}));function O(k,...h){const o=h.reduce((b,m)=>(b[m]=!0,b),{}),v=[/^ELECTRON_.+$/,/^VSCODE_(?!(PORTABLE|SHELL_LOGIN|ENV_REPLACE|ENV_APPEND|ENV_PREPEND)).+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(k).filter(b=>!o[b]).forEach(b=>{for(let m=0;m<v.length;m++)if(b.search(v[m])!==-1){delete k[b];break}})}e.$Zl=O;function j(k){k&&(delete k.DEBUG,A.$j&&delete k.DYLD_LIBRARY_PATH,A.$k&&delete k.LD_PRELOAD)}e.$1l=j}),define(ae[83],ce([0,1,11]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.$Iq=e.$Hq=e.$Gq=void 0;function R(o){const v=o;return v&&typeof v.type=="string"&&typeof v.severity=="string"}e.$Gq=R;function D(o){const v=[];let S;try{const b=JSON.parse(o.arguments),m=b[b.length-1];m&&m.__$stack&&(b.pop(),S=m.__$stack),v.push(...b)}catch{v.push("Unable to log remote console arguments",o.arguments)}return{args:v,stack:S}}e.$Hq=D;function O(o){if(typeof o!="string")return O(D(o).stack);const v=o;if(v){const S=j(v),b=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(S||"");if(b&&b.length===4)return{uri:A.URI.file(b[1]),line:Number(b[2]),column:Number(b[3])}}}e.$Iq=O;function j(o){if(!o)return o;const v=o.indexOf(`
`);return v===-1?o:o.substring(0,v)}function k(o,v){const{args:S,stack:b}=D(o),m=typeof S[0]=="string"&&S.length===1;let E=j(b);E&&(E=`(${E.trim()})`);let I=[];if(typeof S[0]=="string"?E&&m?I=[`%c[${v}] %c${S[0]} %c${E}`,h("blue"),h(""),h("grey")]:I=[`%c[${v}] %c${S[0]}`,h("blue"),h(""),...S.slice(1)]:I=[`%c[${v}]%`,h("blue"),...S],E&&!m&&I.push(E),typeof console[o.severity]!="function")throw new Error("Unknown console method");console[o.severity].apply(console,I)}e.log=k;function h(o){return`color: ${o}`}}),define(ae[47],ce([0,1,14,11]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Eh=e.$Dh=e.$Ch=void 0;function D(h){return JSON.stringify(h,j)}e.$Ch=D;function O(h){let o=JSON.parse(h);return o=k(o),o}e.$Dh=O;function j(h,o){return o instanceof RegExp?{$mid:2,source:o.source,flags:o.flags}:o}function k(h,o=0){if(!h||o>200)return h;if(typeof h=="object"){switch(h.$mid){case 1:return R.URI.revive(h);case 2:return new RegExp(h.source,h.flags);case 17:return new Date(h.source)}if(h instanceof A.$ke||h instanceof Uint8Array)return h;if(Array.isArray(h))for(let v=0;v<h.length;++v)h[v]=k(h[v],o+1);else for(const v in h)Object.hasOwnProperty.call(h,v)&&(h[v]=k(h[v],o+1))}return h}e.$Eh=k}),define(ae[84],ce([0,1,33,48,24,77,165,49,13]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$in=e.$hn=e.$gn=e.$fn=void 0,e.$fn=new class{c(d){return this.a||(this.a=R.$bi.forStrings(),this.a.set("00-50-56",!0),this.a.set("00-0C-29",!0),this.a.set("00-05-69",!0),this.a.set("00-03-FF",!0),this.a.set("00-1C-42",!0),this.a.set("00-16-3E",!0),this.a.set("08-00-27",!0),this.a.set("00:50:56",!0),this.a.set("00:0C:29",!0),this.a.set("00:05:69",!0),this.a.set("00:03:FF",!0),this.a.set("00:1C:42",!0),this.a.set("00:16:3E",!0),this.a.set("08:00:27",!0)),!!this.a.findSubstr(d)}value(){if(this.b===void 0){let d=0,l=0;const f=(0,A.networkInterfaces)();for(const n in f){const r=f[n];if(r)for(const{mac:t,internal:i}of r)i||(l+=1,this.c(t.toUpperCase())&&(d+=1))}this.b=l>0?d/l:0}return this.b}};let o;async function v(d){return o||(o=(async()=>await $(!1)||D.$sg())()),o}e.$gn=v;async function S(d){try{const l=await new Promise((n,r)=>{K(["crypto"],n,r)}),f=(0,O.$en)();return l.createHash("sha256").update(f,"utf8").digest("hex")}catch(l){d(l);return}}const m={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${{native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32",notdefined:""}[E()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function E(){return j.platform!=="win32"?"notdefined":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function I(d){switch(j.platform){case"darwin":return d.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/ig,"").toLowerCase();case"win32":return d.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/ig,"").toLowerCase();case"linux":return d.toString().replace(/\r+|\n+|\s+/ig,"").toLowerCase();case"freebsd":return d.toString().replace(/\r+|\n+|\s+/ig,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}async function $(d){let l=I((0,k.execSync)(m[j.platform],{timeout:5e3}).toString()),f;try{f=(await new Promise((r,t)=>{K(["crypto"],r,t)})).createHash("sha256").update(l,"utf8").digest("hex")}catch{f=D.$sg()}return d?l:f}e.$hn=$;const u="Software\\Microsoft\\SQMClient";async function p(d){if(h.$i){const l=await new Promise((f,n)=>{K(["@vscode/windows-registry"],f,n)});try{return l.GetStringRegKey("HKEY_LOCAL_MACHINE",u,"MachineId")||""}catch(f){return d(f),""}}return""}e.$in=p}),define(ae[85],ce([0,1,33,15,25]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yl=e.$Xl=void 0;const O=/^\d+$/,j=/^Microsoft.PowerShell_.*/,k=/^Microsoft.PowerShellPreview_.*/;var h;(function(l){l[l.x64=0]="x64",l[l.x86=1]="x86",l[l.ARM=2]="ARM"})(h||(h={}));let o;switch(process.arch){case"ia32":o=1;break;case"arm":case"arm64":o=2;break;default:o=0;break}let v;process.env.PROCESSOR_ARCHITEW6432?v=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?v=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?v=1:v=0;class S{constructor(f,n,r){this.exePath=f,this.displayName=n,this.a=r}async exists(){return this.a===void 0&&(this.a=await D.SymlinkSupport.existsFile(this.exePath)),this.a}}function b({useAlternateBitness:l=!1}={}){return l?o===0?process.env["ProgramFiles(x86)"]||null:v===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function m({useAlternateBitness:l=!1,findPreview:f=!1}={}){const n=b({useAlternateBitness:l});if(!n)return null;const r=R.$jc(n,"PowerShell");if(!await D.SymlinkSupport.existsDirectory(r))return null;let t=-1,i=null;for(const a of await D.Promises.readdir(r)){let y=-1;if(f){const P=a.indexOf("-");if(P<0)continue;const N=a.substring(0,P);if(!O.test(N)||a.substring(P+1)!=="preview")continue;y=parseInt(N,10)}else{if(!O.test(a))continue;y=parseInt(a,10)}if(y<=t)continue;const w=R.$jc(r,a,"pwsh.exe");await D.SymlinkSupport.existsFile(w)&&(i=w,t=y)}if(!i)return null;const s=n.includes("x86")?" (x86)":"",c=f?" Preview":"";return new S(i,`PowerShell${c}${s}`,!0)}async function E({findPreview:l}={}){if(!process.env.LOCALAPPDATA)return null;const f=R.$jc(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await D.SymlinkSupport.existsDirectory(f))return null;const{pwshMsixDirRegex:n,pwshMsixName:r}=l?{pwshMsixDirRegex:k,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:j,pwshMsixName:"PowerShell (Store)"};for(const t of await D.Promises.readdir(f))if(n.test(t)){const i=R.$jc(f,t,"pwsh.exe");return new S(i,r)}return null}function I(){const l=R.$jc(A.homedir(),".dotnet","tools","pwsh.exe");return new S(l,".NET Core PowerShell Global Tool")}function $(){const l=R.$jc(process.env.windir,o===1&&v!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new S(l,"Windows PowerShell",!0)}async function*u(){let l=await m();l&&(yield l),l=await m({useAlternateBitness:!0}),l&&(yield l),l=await E(),l&&(yield l),l=I(),l&&(yield l),l=await m({findPreview:!0}),l&&(yield l),l=await E({findPreview:!0}),l&&(yield l),l=await m({useAlternateBitness:!0,findPreview:!0}),l&&(yield l),l=$(),l&&(yield l)}async function*p(){for await(const l of u())await l.exists()&&(yield l)}e.$Xl=p;async function d(){for await(const l of p())return l;return null}e.$Yl=d}),define(ae[58],ce([0,1,15,13,35,57,3,25]),function(K,e,A,R,D,O,j,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.$3l=e.$2l=e.TerminateResponseCode=e.Source=void 0,Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return O.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return O.TerminateResponseCode}});function h(S=D.env){return S.comspec||"cmd.exe"}e.$2l=h;function o(S){let b=[],m=!1;const E=function(I){if(m){b.push(I);return}(!S.send(I,u=>{if(u&&console.error(u),m=!1,b.length>0){const p=b.slice(0);b=[],p.forEach(d=>E(d))}})||R.$i)&&(m=!0)};return{send:E}}e.$3l=o;var v;(function(S){async function b(m,E,I){if(A.$ic(m))return m;if(E===void 0&&(E=D.cwd()),A.$mc(m)!=="."||(I===void 0&&j.$Kf(D.env.PATH)&&(I=D.env.PATH.split(A.$tc)),I===void 0||I.length===0))return A.$jc(E,m);async function u(p){if(await k.Promises.exists(p)){let d;try{d=await k.Promises.stat(p)}catch(l){l.message.startsWith("EACCES")&&(d=await k.Promises.lstat(p))}return d?!d.isDirectory():!1}return!1}for(const p of I){let d;if(A.$ic(p)?d=A.$jc(p,m):d=A.$jc(E,p,m),await u(d))return d;let l=d+".com";if(await u(l)||(l=d+".exe",await u(l)))return l}return A.$jc(E,m)}S.findExecutable=b})(v||(e.win32=v={}))}),define(ae[86],ce([0,1,33,13,85,58]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4l=void 0;async function j(S,b){return S===1?R.$i?v():O.$2l(b):h(S,b)}e.$4l=j;let k=null;function h(S,b){if(R.$k&&S===2||R.$j&&S===3)return"/bin/bash";if(!k){let m;if(R.$i)m="/bin/bash";else{if(m=b.SHELL,!m)try{m=(0,A.userInfo)().shell}catch{}m||(m="sh"),m==="/bin/false"&&(m="/bin/bash")}k=m}return k}let o=null;async function v(){return o||(o=(await(0,D.$Yl)()).exePath),o}});var ve=this&&this.__decorate||function(K,e,A,R){var D=arguments.length,O=D<3?e:R===null?R=Object.getOwnPropertyDescriptor(e,A):R,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(K,e,A,R);else for(var k=K.length-1;k>=0;k--)(j=K[k])&&(O=(D<3?j(O):D>3?j(e,A,O):j(e,A))||O);return D>3&&O&&Object.defineProperty(e,A,O),O};define(ae[59],ce([0,1,19,8,14,20,55,9,6,2,47,29,3]),function(K,e,A,R,D,O,j,k,h,o,v,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qh=e.ProxyChannel=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Lh=e.$Kh=e.RequestInitiator=e.$Jh=e.$Ih=e.$Hh=e.$Gh=e.$Fh=void 0;var m;(function(C){C[C.Promise=100]="Promise",C[C.PromiseCancel=101]="PromiseCancel",C[C.EventListen=102]="EventListen",C[C.EventDispose=103]="EventDispose"})(m||(m={}));function E(C){switch(C){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var I;(function(C){C[C.Initialize=200]="Initialize",C[C.PromiseSuccess=201]="PromiseSuccess",C[C.PromiseError=202]="PromiseError",C[C.PromiseErrorObj=203]="PromiseErrorObj",C[C.EventFire=204]="EventFire"})(I||(I={}));function $(C){switch(C){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var u;(function(C){C[C.Uninitialized=0]="Uninitialized",C[C.Idle=1]="Idle"})(u||(u={}));function p(C){let F=0;for(let W=0;;W+=7){const Q=C.read(1);if(F|=(Q.buffer[0]&127)<<W,!(Q.buffer[0]&128))return F}}const d=t(0);function l(C,F){if(F===0){C.write(d);return}let W=0;for(let Z=F;Z!==0;Z=Z>>>7)W++;const Q=D.$ke.alloc(W);for(let Z=0;F!==0;Z++)Q.buffer[Z]=F&127,F=F>>>7,F>0&&(Q.buffer[Z]|=128);C.write(Q)}class f{constructor(F){this.b=F,this.a=0}read(F){const W=this.b.slice(this.a,this.a+F);return this.a+=W.byteLength,W}}e.$Fh=f;class n{constructor(){this.a=[]}get buffer(){return D.$ke.concat(this.a)}write(F){this.a.push(F)}}e.$Gh=n;var r;(function(C){C[C.Undefined=0]="Undefined",C[C.String=1]="String",C[C.Buffer=2]="Buffer",C[C.VSBuffer=3]="VSBuffer",C[C.Array=4]="Array",C[C.Object=5]="Object",C[C.Int=6]="Int"})(r||(r={}));function t(C){const F=D.$ke.alloc(1);return F.writeUInt8(C,0),F}const i={Undefined:t(r.Undefined),String:t(r.String),Buffer:t(r.Buffer),VSBuffer:t(r.VSBuffer),Array:t(r.Array),Object:t(r.Object),Uint:t(r.Int)},s=typeof Buffer<"u";function c(C,F){if(typeof F>"u")C.write(i.Undefined);else if(typeof F=="string"){const W=D.$ke.fromString(F);C.write(i.String),l(C,W.byteLength),C.write(W)}else if(s&&Buffer.isBuffer(F)){const W=D.$ke.wrap(F);C.write(i.Buffer),l(C,W.byteLength),C.write(W)}else if(F instanceof D.$ke)C.write(i.VSBuffer),l(C,F.byteLength),C.write(F);else if(Array.isArray(F)){C.write(i.Array),l(C,F.length);for(const W of F)c(C,W)}else if(typeof F=="number"&&(F|0)===F)C.write(i.Uint),l(C,F);else{const W=D.$ke.fromString(JSON.stringify(F));C.write(i.Object),l(C,W.byteLength),C.write(W)}}e.$Hh=c;function a(C){switch(C.read(1).readUInt8(0)){case r.Undefined:return;case r.String:return C.read(p(C)).toString();case r.Buffer:return C.read(p(C)).buffer;case r.VSBuffer:return C.read(p(C));case r.Array:{const W=p(C),Q=[];for(let Z=0;Z<W;Z++)Q.push(a(C));return Q}case r.Object:return JSON.parse(C.read(p(C)).toString());case r.Int:return p(C)}}e.$Ih=a;class y{constructor(F,W,Q=null,Z=1e3){this.h=F,this.j=W,this.k=Q,this.l=Z,this.b=new Map,this.d=new Map,this.g=new Map,this.f=this.h.onMessage(ee=>this.q(ee)),this.m({type:200})}registerChannel(F,W){this.b.set(F,W),setTimeout(()=>this.w(F),0)}m(F){switch(F.type){case 200:{const W=this.o([F.type]);this.k?.logOutgoing(W,0,1,$(F.type));return}case 201:case 202:case 204:case 203:{const W=this.o([F.type,F.id],F.data);this.k?.logOutgoing(W,F.id,1,$(F.type),F.data);return}}}o(F,W=void 0){const Q=new n;return c(Q,F),c(Q,W),this.p(Q.buffer)}p(F){try{return this.h.send(F),F.byteLength}catch{return 0}}q(F){const W=new f(F),Q=a(W),Z=a(W),ee=Q[0];switch(ee){case 100:return this.k?.logIncoming(F.byteLength,Q[1],1,`${E(ee)}: ${Q[2]}.${Q[3]}`,Z),this.s({type:ee,id:Q[1],channelName:Q[2],name:Q[3],arg:Z});case 102:return this.k?.logIncoming(F.byteLength,Q[1],1,`${E(ee)}: ${Q[2]}.${Q[3]}`,Z),this.t({type:ee,id:Q[1],channelName:Q[2],name:Q[3],arg:Z});case 101:return this.k?.logIncoming(F.byteLength,Q[1],1,`${E(ee)}`),this.u({type:ee,id:Q[1]});case 103:return this.k?.logIncoming(F.byteLength,Q[1],1,`${E(ee)}`),this.u({type:ee,id:Q[1]})}}s(F){const W=this.b.get(F.channelName);if(!W){this.v(F);return}const Q=new O.$7d;let Z;try{Z=W.call(this.j,F.name,F.arg,Q.token)}catch(V){Z=Promise.reject(V)}const ee=F.id;Z.then(V=>{this.m({id:ee,data:V,type:201})},V=>{V instanceof Error?this.m({id:ee,data:{message:V.message,name:V.name,stack:V.stack?V.stack.split?V.stack.split(`
`):V.stack:void 0},type:202}):this.m({id:ee,data:V,type:203})}).finally(()=>{q.dispose(),this.d.delete(F.id)});const q=(0,o.$Rc)(()=>Q.cancel());this.d.set(F.id,q)}t(F){const W=this.b.get(F.channelName);if(!W){this.v(F);return}const Q=F.id,ee=W.listen(this.j,F.name,F.arg)(q=>this.m({id:Q,data:q,type:204}));this.d.set(F.id,ee)}u(F){const W=this.d.get(F.id);W&&(W.dispose(),this.d.delete(F.id))}v(F){let W=this.g.get(F.channelName);W||(W=[],this.g.set(F.channelName,W));const Q=setTimeout(()=>{console.error(`Unknown channel: ${F.channelName}`),F.type===100&&this.m({id:F.id,data:{name:"Unknown channel",message:`Channel name '${F.channelName}' timed out after ${this.l}ms`,stack:void 0},type:202})},this.l);W.push({request:F,timeoutTimer:Q})}w(F){const W=this.g.get(F);if(W){for(const Q of W)switch(clearTimeout(Q.timeoutTimer),Q.request.type){case 100:this.s(Q.request);break;case 102:this.t(Q.request);break}this.g.delete(F)}}dispose(){this.f&&(this.f.dispose(),this.f=null),(0,o.$Oc)(this.d.values()),this.d.clear()}}e.$Jh=y;var w;(function(C){C[C.LocalSide=0]="LocalSide",C[C.OtherSide=1]="OtherSide"})(w||(e.RequestInitiator=w={}));class P{constructor(F,W=null){this.l=F,this.a=!1,this.b=u.Uninitialized,this.d=new Set,this.f=new Map,this.g=0,this.k=new h.$Wd,this.onDidInitialize=this.k.event,this.h=this.l.onMessage(Q=>this.s(Q)),this.j=W}getChannel(F){const W=this;return{call(Q,Z,ee){return W.a?Promise.reject(new k.$5):W.m(F,Q,Z,ee)},listen(Q,Z){return W.a?h.Event.None:W.o(F,Q,Z)}}}m(F,W,Q,Z=O.CancellationToken.None){const ee=this.g++,V={id:ee,type:100,channelName:F,name:W,arg:Q};if(Z.isCancellationRequested)return Promise.reject(new k.$5);let T;return new Promise((z,x)=>{if(Z.isCancellationRequested)return x(new k.$5);const X=()=>{const Ee=Ie=>{switch(Ie.type){case 201:this.f.delete(ee),z(Ie.data);break;case 202:{this.f.delete(ee);const ze=new Error(Ie.data.message);ze.stack=Array.isArray(Ie.data.stack)?Ie.data.stack.join(`
`):Ie.data.stack,ze.name=Ie.data.name,x(ze);break}case 203:this.f.delete(ee),x(Ie.data);break}};this.f.set(ee,Ee),this.p(V)};let fe=null;this.b===u.Idle?X():(fe=(0,R.$Vg)(Ee=>this.u()),fe.then(()=>{fe=null,X()}));const me=()=>{fe?(fe.cancel(),fe=null):this.p({id:ee,type:101}),x(new k.$5)},ye=Z.onCancellationRequested(me);T=(0,o.$Qc)((0,o.$Rc)(me),ye),this.d.add(T)}).finally(()=>{T.dispose(),this.d.delete(T)})}o(F,W,Q){const Z=this.g++,q={id:Z,type:102,channelName:F,name:W,arg:Q};let V=null;const T=new h.$Wd({onWillAddFirstListener:()=>{V=(0,R.$Vg)(z=>this.u()),V.then(()=>{V=null,this.d.add(T),this.p(q)})},onDidRemoveLastListener:()=>{V?(V.cancel(),V=null):(this.d.delete(T),this.p({id:Z,type:103}))}}),g=z=>T.fire(z.data);return this.f.set(Z,g),T.event}p(F){switch(F.type){case 100:case 102:{const W=this.q([F.type,F.id,F.channelName,F.name],F.arg);this.j?.logOutgoing(W,F.id,0,`${E(F.type)}: ${F.channelName}.${F.name}`,F.arg);return}case 101:case 103:{const W=this.q([F.type,F.id]);this.j?.logOutgoing(W,F.id,0,E(F.type));return}}}q(F,W=void 0){const Q=new n;return c(Q,F),c(Q,W),this.r(Q.buffer)}r(F){try{return this.l.send(F),F.byteLength}catch{return 0}}s(F){const W=new f(F),Q=a(W),Z=a(W),ee=Q[0];switch(ee){case 200:return this.j?.logIncoming(F.byteLength,0,0,$(ee)),this.t({type:Q[0]});case 201:case 202:case 204:case 203:return this.j?.logIncoming(F.byteLength,Q[1],0,$(ee),Z),this.t({type:Q[0],id:Q[1],data:Z})}}t(F){if(F.type===200){this.b=u.Idle,this.k.fire();return}this.f.get(F.id)?.(F)}get onDidInitializePromise(){return h.Event.toPromise(this.onDidInitialize)}u(){return this.b===u.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.a=!0,this.h&&(this.h.dispose(),this.h=null),(0,o.$Oc)(this.d.values()),this.d.clear()}}e.$Kh=P,ve([j.$zh],P.prototype,"onDidInitializePromise",null);class N{get connections(){const F=[];return this.f.forEach(W=>F.push(W)),F}constructor(F){this.a=new Map,this.f=new Set,this.g=new h.$Wd,this.onDidAddConnection=this.g.event,this.h=new h.$Wd,this.onDidRemoveConnection=this.h.event,this.j=new o.$Sc,this.j.add(F(({protocol:W,onDidClientDisconnect:Q})=>{const Z=h.Event.once(W.onMessage);this.j.add(Z(ee=>{const q=new f(ee),V=a(q),T=new y(W,V),g=new P(W);this.a.forEach((x,X)=>T.registerChannel(X,x));const z={channelServer:T,channelClient:g,ctx:V};this.f.add(z),this.g.fire(z),this.j.add(Q(()=>{T.dispose(),g.dispose(),this.f.delete(z),this.h.fire(z)}))}))}))}getChannel(F,W){const Q=this;return{call(Z,ee,q){let V;if((0,b.$Yf)(W)){const g=(0,A.$4b)(Q.connections.filter(W));V=g?Promise.resolve(g):h.Event.toPromise(h.Event.filter(Q.onDidAddConnection,W))}else V=W.routeCall(Q,Z,ee);const T=V.then(g=>g.channelClient.getChannel(F));return J(T).call(Z,ee,q)},listen(Z,ee){if((0,b.$Yf)(W))return Q.k(F,W,Z,ee);const q=W.routeEvent(Q,Z,ee).then(V=>V.channelClient.getChannel(F));return J(q).listen(Z,ee)}}}k(F,W,Q,Z){const ee=this;let q;const V=new h.$Wd({onWillAddFirstListener:()=>{q=new o.$Sc;const T=new h.$3d,g=new Map,z=X=>{const me=X.channelClient.getChannel(F).listen(Q,Z),ye=T.add(me);g.set(X,ye)},x=X=>{const fe=g.get(X);fe&&(fe.dispose(),g.delete(X))};ee.connections.filter(W).forEach(z),h.Event.filter(ee.onDidAddConnection,W)(z,void 0,q),ee.onDidRemoveConnection(x,void 0,q),T.event(V.fire,V,q),q.add(T)},onDidRemoveLastListener:()=>{q?.dispose(),q=void 0}});return V.event}registerChannel(F,W){this.a.set(F,W);for(const Q of this.f)Q.channelServer.registerChannel(F,W)}dispose(){this.j.dispose();for(const F of this.f)F.channelClient.dispose(),F.channelServer.dispose();this.f.clear(),this.a.clear(),this.g.dispose(),this.h.dispose()}}e.$Lh=N;class L{constructor(F,W,Q=null){const Z=new n;c(Z,W),F.send(Z.buffer),this.a=new P(F,Q),this.d=new y(F,W,Q)}getChannel(F){return this.a.getChannel(F)}registerChannel(F,W){this.d.registerChannel(F,W)}dispose(){this.a.dispose(),this.d.dispose()}}e.$Mh=L;function J(C){return{call(F,W,Q){return C.then(Z=>Z.call(F,W,Q))},listen(F,W){const Q=new h.$6d;return C.then(Z=>Q.input=Z.listen(F,W)),Q.event}}}e.$Nh=J;function ne(C){let F=!1;return{call(W,Q,Z){return F?C.call(W,Q,Z):(0,R.$9g)(0).then(()=>F=!0).then(()=>C.call(W,Q,Z))},listen(W,Q){if(F)return C.listen(W,Q);const Z=new h.$6d;return(0,R.$9g)(0).then(()=>F=!0).then(()=>Z.input=C.listen(W,Q)),Z.event}}}e.$Oh=ne;class pe{constructor(F){this.a=F}routeCall(F){return this.b(F)}routeEvent(F){return this.b(F)}async b(F){for(const W of F.connections)if(await Promise.resolve(this.a(W.ctx)))return Promise.resolve(W);return await h.Event.toPromise(F.onDidAddConnection),await this.b(F)}}e.$Ph=pe;var ie;(function(C){function F(ee,q,V){const T=ee,g=V&&V.disableMarshalling,z=new Map;for(const x in T)Q(x)&&z.set(x,h.Event.buffer(T[x],!0,void 0,q));return new class{listen(x,X,fe){const me=z.get(X);if(me)return me;if(Z(X)){const ye=T[X];if(typeof ye=="function")return ye.call(T,fe)}throw new k.$bb(`Event not found: ${X}`)}call(x,X,fe){const me=T[X];if(typeof me=="function"){if(!g&&Array.isArray(fe))for(let Ee=0;Ee<fe.length;Ee++)fe[Ee]=(0,v.$Eh)(fe[Ee]);let ye=me.apply(T,fe);return ye instanceof Promise||(ye=Promise.resolve(ye)),ye}throw new k.$bb(`Method not found: ${X}`)}}}C.fromService=F;function W(ee,q){const V=q&&q.disableMarshalling;return new Proxy({},{get(T,g){if(typeof g=="string")return q?.properties?.has(g)?q.properties.get(g):Z(g)?function(z){return ee.listen(g,z)}:Q(g)?ee.listen(g):async function(...z){let x;q&&!(0,b.$Tf)(q.context)?x=[q.context,...z]:x=z;const X=await ee.call(g,x);return V?X:(0,v.$Eh)(X)};throw new k.$bb(`Property not found: ${String(g)}`)}})}C.toService=W;function Q(ee){return ee[0]==="o"&&ee[1]==="n"&&S.$af(ee.charCodeAt(2))}function Z(ee){return/^onDynamic/.test(ee)&&S.$af(ee.charCodeAt(9))}})(ie||(e.ProxyChannel=ie={}));const le=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function ue(C){if(Array.isArray(C))return C;if(C&&typeof C=="object"&&typeof C.toString=="function"){const F=C.toString();if(F!=="[object Object]")return F}return C}function se(C){return Array.isArray(C)?C.map(ue):ue(C)}function B(C,F,W,Q,Z,ee,q){q=se(q);const V=le[Z],T=V[Q%V.length];let g=[`%c[${C}]%c[${String(F).padStart(7," ")}]%c[len: ${String(W).padStart(5," ")}]%c${String(Q).padStart(5," ")} - ${ee}`,"color: darkgreen","color: grey","color: grey",`color: ${T}`];/\($/.test(ee)?(g=g.concat(q),g.push(")")):g.push(q),console.log.apply(console,g)}class G{constructor(F,W){this.d=F,this.f=W,this.a=0,this.b=0}logOutgoing(F,W,Q,Z,ee){this.b+=F,B(this.d,this.b,F,W,Q,Z,ee)}logIncoming(F,W,Q,Z,ee){this.a+=F,B(this.f,this.a,F,W,Q,Z,ee)}}e.$Qh=G}),define(ae[87],ce([0,1,49,8,14,20,83,9,6,2,30,58,57,59]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lq=e.$Kq=void 0;class E extends m.$Jh{constructor(u){super({send:p=>{try{process.send?.(p.buffer.toString("base64"))}catch{}},onMessage:h.Event.fromNodeEventEmitter(process,"message",p=>D.$ke.wrap(Buffer.from(p,"base64")))},u),process.once("disconnect",()=>this.dispose())}}e.$Kq=E;class I{constructor(u,p){this.i=u,this.j=p,this.c=new Set,this.g=new Map,this.h=new h.$Wd,this.onDidProcessExit=this.h.event;const d=p&&p.timeout?p.timeout:6e4;this.b=new R.$5g(d),this.d=null,this.f=null}getChannel(u){const p=this;return{call(d,l,f){return p.k(u,d,l,f)},listen(d,l){return p.l(u,d,l)}}}k(u,p,d,l=O.CancellationToken.None){if(!this.b)return Promise.reject(new Error("disposed"));if(l.isCancellationRequested)return Promise.reject(k.$6());this.b.cancel();const f=this.n(u),n=(0,R.$Vg)(i=>f.call(p,d,i)),r=l.onCancellationRequested(()=>n.cancel()),t=(0,o.$Rc)(()=>n.cancel());return this.c.add(t),n.finally(()=>{r.dispose(),this.c.delete(t),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}),n}l(u,p,d){if(!this.b)return h.Event.None;this.b.cancel();let l;const f=new h.$Wd({onWillAddFirstListener:()=>{l=this.n(u).listen(p,d)(f.fire,f),this.c.add(l)},onDidRemoveLastListener:()=>{this.c.delete(l),l.dispose(),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}});return f.event}get m(){if(!this.f){const u=this.j&&this.j.args?this.j.args:[],p=Object.create(null);p.env={...(0,v.$En)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.j&&this.j.env&&(p.env={...p.env,...this.j.env}),this.j&&this.j.freshExecArgv&&(p.execArgv=[]),this.j&&typeof this.j.debug=="number"&&(p.execArgv=["--nolazy","--inspect="+this.j.debug]),this.j&&typeof this.j.debugBrk=="number"&&(p.execArgv=["--nolazy","--inspect-brk="+this.j.debugBrk]),p.execArgv===void 0&&(p.execArgv=process.execArgv.filter(s=>!/^--inspect(-brk)?=/.test(s)).filter(s=>!s.startsWith("--vscode-"))),(0,b.$1l)(p.env),this.d=(0,A.fork)(this.i,u,p);const d=new h.$Wd;h.Event.fromNodeEventEmitter(this.d,"message",s=>s)(s=>{if((0,j.$Gq)(s)){(0,j.log)(s,`IPC Library: ${this.j.serverName}`);return}d.fire(D.$ke.wrap(Buffer.from(s,"base64")))});const f=this.j.useQueue?(0,S.$3l)(this.d):this.d,n=s=>this.d&&this.d.connected&&f.send(s.buffer.toString("base64")),r=d.event,t={send:n,onMessage:r};this.f=new m.$Kh(t);const i=()=>this.o();process.once("exit",i),this.d.on("error",s=>console.warn('IPC "'+this.j.serverName+'" errored with '+s)),this.d.on("exit",(s,c)=>{process.removeListener("exit",i),this.c.forEach(a=>(0,o.$Oc)(a)),this.c.clear(),s!==0&&c!=="SIGTERM"&&console.warn('IPC "'+this.j.serverName+'" crashed with exit code '+s+" and signal "+c),this.b?.cancel(),this.o(),this.h.fire({code:s,signal:c})})}return this.f}n(u){let p=this.g.get(u);return p||(p=this.m.getChannel(u),this.g.set(u,p)),p}o(){this.f&&(this.d&&(this.d.kill(),this.d=null),this.f=null,this.g.clear())}dispose(){this.h.dispose(),this.b?.cancel(),this.b=void 0,this.o(),this.c.clear()}}e.$Lq=I}),define(ae[88],ce([0,1,8,6,2,47,3]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vp=e.$up=e.StorageState=e.$tp=e.StorageHint=void 0;var k;(function(b){b[b.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",b[b.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(k||(e.StorageHint=k={}));function h(b){const m=b;return m?.changed instanceof Map||m?.deleted instanceof Set}e.$tp=h;var o;(function(b){b[b.None=0]="None",b[b.Initialized=1]="Initialized",b[b.Closed=2]="Closed"})(o||(e.StorageState=o={}));class v extends D.$Tc{static{this.a=100}constructor(m,E=Object.create(null)){super(),this.q=m,this.r=E,this.b=this.D(new R.$Zd),this.onDidChangeStorage=this.b.event,this.c=o.None,this.f=new Map,this.g=this.D(new A.$6g(v.a)),this.h=new Set,this.j=new Map,this.m=void 0,this.n=[],this.s()}s(){this.D(this.q.onDidChangeItemsExternal(m=>this.t(m)))}t(m){this.b.pause();try{m.changed?.forEach((E,I)=>this.u(I,E)),m.deleted?.forEach(E=>this.u(E,void 0))}finally{this.b.resume()}}u(m,E){if(this.c===o.Closed)return;let I=!1;(0,j.$Tf)(E)?I=this.f.delete(m):this.f.get(m)!==E&&(this.f.set(m,E),I=!0),I&&this.b.fire({key:m,external:!0})}get items(){return this.f}get size(){return this.f.size}async init(){this.c===o.None&&(this.c=o.Initialized,this.r.hint!==k.STORAGE_DOES_NOT_EXIST&&(this.f=await this.q.getItems()))}get(m,E){const I=this.f.get(m);return(0,j.$Tf)(I)?E:I}getBoolean(m,E){const I=this.get(m);return(0,j.$Tf)(I)?E:I==="true"}getNumber(m,E){const I=this.get(m);return(0,j.$Tf)(I)?E:parseInt(I,10)}getObject(m,E){const I=this.get(m);return(0,j.$Tf)(I)?E:(0,O.$Dh)(I)}async set(m,E,I=!1){if(this.c===o.Closed)return;if((0,j.$Tf)(E))return this.delete(m,I);const $=(0,j.$Mf)(E)||Array.isArray(E)?(0,O.$Ch)(E):String(E);if(this.f.get(m)!==$)return this.f.set(m,$),this.j.set(m,$),this.h.delete(m),this.b.fire({key:m,external:I}),this.C()}async delete(m,E=!1){if(!(this.c===o.Closed||!this.f.delete(m)))return this.h.has(m)||this.h.add(m),this.j.delete(m),this.b.fire({key:m,external:E}),this.C()}async optimize(){if(this.c!==o.Closed)return await this.flush(0),this.q.optimize()}async close(){return this.m||(this.m=this.w()),this.m}async w(){this.c=o.Closed;try{await this.C(0)}catch{}await this.q.close(()=>this.f)}get y(){return this.j.size>0||this.h.size>0}async z(){if(!this.y)return;const m={insert:this.j,delete:this.h};return this.h=new Set,this.j=new Map,this.q.updateItems(m).finally(()=>{if(!this.y)for(;this.n.length;)this.n.pop()?.()})}async flush(m){if(this.y)return this.C(m)}async C(m){return this.r.hint===k.STORAGE_IN_MEMORY?this.z():this.g.trigger(()=>this.z(),m)}async whenFlushed(){if(this.y)return new Promise(m=>this.n.push(m))}isInMemory(){return this.r.hint===k.STORAGE_IN_MEMORY}}e.$up=v;class S{constructor(){this.onDidChangeItemsExternal=R.Event.None,this.a=new Map}async getItems(){return this.a}async updateItems(m){m.insert?.forEach((E,I)=>this.a.set(I,E)),m.delete?.forEach(E=>this.a.delete(E))}async optimize(){}async close(){}}e.$vp=S}),define(ae[89],ce([7,5]),function(K,e){return K.create("vs/base/node/zip",e)}),define(ae[50],ce([0,1,90,8,15,3,25,89]),function(K,e,A,R,D,O,j,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0p=e.$9p=e.zip=e.$7p=e.$6p=void 0,e.$6p="end of central directory record signature not found";const h=new RegExp(e.$6p);class o extends Error{constructor(f,n){let r=n.message;switch(f){case"CorruptZip":r=`Corrupt ZIP: ${r}`;break}super(r),this.type=f,this.cause=n}}e.$7p=o;function v(l){const f=l.externalFileAttributes>>16||33188;return[448,56,7].map(n=>f&n).reduce((n,r)=>n+r,f&61440)}function S(l){if(l instanceof o)return l;let f;return h.test(l.message)&&(f="CorruptZip"),new o(f,l)}function b(l,f,n,r,t,i){const s=D.$mc(f),c=D.$jc(r,s);if(!c.startsWith(r))return Promise.reject(new Error(k.localize(0,null,f)));const a=D.$jc(r,f);let y;return i.onCancellationRequested(()=>{y?.destroy()}),Promise.resolve(j.Promises.mkdir(c,{recursive:!0})).then(()=>new Promise((w,P)=>{if(!i.isCancellationRequested)try{y=(0,A.createWriteStream)(a,{mode:n}),y.once("close",()=>w()),y.once("error",P),l.once("error",P),l.pipe(y)}catch(N){P(N)}}))}function m(l,f,n,r){let t=(0,R.$Vg)(()=>Promise.resolve()),i=0;const s=r.onCancellationRequested(()=>{t.cancel(),l.close()});return new Promise((c,a)=>{const y=new R.$3g,w=P=>{P.isCancellationRequested||(i++,l.readEntry())};l.once("error",a),l.once("close",()=>t.then(()=>{r.isCancellationRequested||l.entryCount===i?c():a(new o("Incomplete",new Error(k.localize(1,null,i,l.entryCount))))},a)),l.readEntry(),l.on("entry",P=>{if(r.isCancellationRequested)return;if(!n.sourcePathRegex.test(P.fileName)){w(r);return}const N=P.fileName.replace(n.sourcePathRegex,"");if(/\/$/.test(N)){const ne=D.$jc(f,N);t=(0,R.$Vg)(pe=>j.Promises.mkdir(ne,{recursive:!0}).then(()=>w(pe)).then(void 0,a));return}const L=I(l,P),J=v(P);t=(0,R.$Vg)(ne=>y.queue(()=>L.then(pe=>b(pe,N,J,f,n,ne).then(()=>w(ne)))).then(null,a))})}).finally(()=>s.dispose())}async function E(l,f=!1){const{open:n}=await new Promise((r,t)=>{K(["yauzl"],r,t)});return new Promise((r,t)=>{n(l,f?{lazyEntries:!0}:void 0,(i,s)=>{i?t(S(i)):r((0,O.$Vf)(s))})})}function I(l,f){return new Promise((n,r)=>{l.openReadStream(f,(t,i)=>{t?r(S(t)):n((0,O.$Vf)(i))})})}async function $(l,f){const{ZipFile:n}=await new Promise((r,t)=>{K(["yazl"],r,t)});return new Promise((r,t)=>{const i=new n;f.forEach(c=>{c.contents?i.addBuffer(typeof c.contents=="string"?Buffer.from(c.contents,"utf8"):c.contents,c.path):c.localPath&&i.addFile(c.localPath,c.path)}),i.end();const s=(0,A.createWriteStream)(l);i.outputStream.pipe(s),i.outputStream.once("error",t),s.once("error",t),s.once("finish",()=>r(l))})}e.zip=$;function u(l,f,n={},r){const t=new RegExp(n.sourcePath?`^${n.sourcePath}`:"");let i=E(l,!0);return n.overwrite&&(i=i.then(s=>j.Promises.rm(f).then(()=>s))),i.then(s=>m(s,f,{sourcePathRegex:t},r))}e.$9p=u;function p(l,f){return E(l).then(n=>new Promise((r,t)=>{n.on("entry",i=>{i.fileName===f&&I(n,i).then(s=>r(s),s=>t(s))}),n.once("close",()=>t(new Error(k.localize(2,null,f))))}))}function d(l,f){return p(l,f).then(n=>new Promise((r,t)=>{const i=[];n.once("error",t),n.on("data",s=>i.push(s)),n.on("end",()=>r(Buffer.concat(i)))}))}e.$0p=d}),define(ae[91],ce([7,5]),function(K,e){return K.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ae[92],ce([7,5]),function(K,e){return K.create("vs/platform/contextkey/common/contextkey",e)}),define(ae[93],ce([7,5]),function(K,e){return K.create("vs/platform/contextkey/common/scanner",e)}),define(ae[94],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/common/abstractExtensionManagementService",e)}),define(ae[95],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ae[96],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/common/extensionManagementCLI",e)}),define(ae[97],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/common/extensionNls",e)}),define(ae[98],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/common/extensionsScannerService",e)}),define(ae[99],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(ae[100],ce([7,5]),function(K,e){return K.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(ae[101],ce([7,5]),function(K,e){return K.create("vs/platform/extensions/common/extensionValidator",e)}),define(ae[102],ce([7,5]),function(K,e){return K.create("vs/platform/files/common/fileService",e)}),define(ae[103],ce([7,5]),function(K,e){return K.create("vs/platform/files/common/io",e)}),define(ae[104],ce([7,5]),function(K,e){return K.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(ae[105],ce([7,5]),function(K,e){return K.create("vs/platform/languagePacks/common/languagePacks",e)}),define(ae[106],ce([7,5]),function(K,e){return K.create("vs/platform/request/common/request",e)}),define(ae[107],ce([7,5]),function(K,e){return K.create("vs/platform/shell/node/shellEnv",e)}),define(ae[108],ce([7,5]),function(K,e){return K.create("vs/platform/telemetry/common/telemetryService",e)}),define(ae[109],ce([7,5]),function(K,e){return K.create("vs/platform/userDataProfile/common/userDataProfile",e)}),define(ae[110],ce([7,5]),function(K,e){return K.create("vs/platform/workspace/common/workspace",e)}),define(ae[111],ce([0,1,9,93]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3i=e.TokenType=void 0;var D;(function(o){o[o.LParen=0]="LParen",o[o.RParen=1]="RParen",o[o.Neg=2]="Neg",o[o.Eq=3]="Eq",o[o.NotEq=4]="NotEq",o[o.Lt=5]="Lt",o[o.LtEq=6]="LtEq",o[o.Gt=7]="Gt",o[o.GtEq=8]="GtEq",o[o.RegexOp=9]="RegexOp",o[o.RegexStr=10]="RegexStr",o[o.True=11]="True",o[o.False=12]="False",o[o.In=13]="In",o[o.Not=14]="Not",o[o.And=15]="And",o[o.Or=16]="Or",o[o.Str=17]="Str",o[o.QuotedStr=18]="QuotedStr",o[o.Error=19]="Error",o[o.EOF=20]="EOF"})(D||(e.TokenType=D={}));function O(...o){switch(o.length){case 1:return(0,R.localize)(0,null,o[0]);case 2:return(0,R.localize)(1,null,o[0],o[1]);case 3:return(0,R.localize)(2,null,o[0],o[1],o[2]);default:return}}const j=(0,R.localize)(3,null),k=(0,R.localize)(4,null);class h{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,A.$8)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(v=>v.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(v){return this.c=v,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const S=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:S})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const S=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:S})}else this.h(126)?this.k(9):this.l(O("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(O("&&"));break;case 124:this.h(124)?this.k(16):this.l(O("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(v){return this.r()||this.c.charCodeAt(this.e)!==v?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(v){this.f.push({type:v,offset:this.d})}l(v){const S=this.d,b=this.c.substring(this.d,this.e),m={type:19,offset:this.d,lexeme:b};this.g.push({offset:S,lexeme:b,additionalInfo:v}),this.f.push(m)}n(){this.m.lastIndex=this.d;const v=this.m.exec(this.c);if(v){this.e=this.d+v[0].length;const S=this.c.substring(this.d,this.e),b=h.b.get(S);b?this.k(b):this.f.push({type:17,lexeme:S,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(j);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let v=this.e,S=!1,b=!1;for(;;){if(v>=this.c.length){this.e=v,this.l(k);return}const E=this.c.charCodeAt(v);if(S)S=!1;else if(E===47&&!b){v++;break}else E===91?b=!0:E===92?S=!0:E===93&&(b=!1);v++}for(;v<this.c.length&&h.a.has(this.c.charCodeAt(v));)v++;this.e=v;const m=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:m,offset:this.d})}r(){return this.e>=this.c.length}}e.$3i=h}),define(ae[112],ce([0,1,79,55,16,15,35,17,11]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Im=e.$Hm=e.$Gm=e.$Fm=void 0,e.$Fm=/^([^.]+\..+)[:=](.+)$/;class o{get appRoot(){return(0,O.$mc)(D.$qg.asFileUri("").fsPath)}get userHome(){return h.URI.file(this.b.homeDir)}get userDataPath(){return this.b.userDataDir}get appSettingsHome(){return h.URI.file((0,O.$jc)(this.userDataPath,"User"))}get tmpDir(){return h.URI.file(this.b.tmpDir)}get cacheHome(){return h.URI.file(this.userDataPath)}get stateResource(){return(0,k.$Jg)(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:D.Schemas.vscodeUserData})}get userDataSyncHome(){return(0,k.$Jg)(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){const m=(0,A.$Em)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,O.$jc)(this.userDataPath,"logs",m)}return h.URI.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return(0,k.$Jg)(h.URI.file((0,O.$jc)(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return(0,k.$Jg)(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return(0,k.$Jg)(this.appSettingsHome,"History")}get keyboardLayoutResource(){return(0,k.$Jg)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const m=j.env.VSCODE_PORTABLE;return m?h.URI.file((0,O.$jc)(m,"argv.json")):(0,k.$Jg)(this.userHome,this.c.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return h.URI.file((0,O.$jc)(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){const m=this.args["builtin-extensions-dir"];return m?(0,O.$kc)(m):(0,O.$hc)((0,O.$jc)(D.$qg.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){const m=this.args["extensions-download-dir"];return m?h.URI.file((0,O.$kc)(m)):h.URI.file((0,O.$jc)(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){const m=this.args["extensions-dir"];if(m)return(0,O.$kc)(m);const E=j.env.VSCODE_EXTENSIONS;if(E)return E;const I=j.env.VSCODE_PORTABLE;return I?(0,O.$jc)(I,"extensions"):(0,k.$Jg)(this.userHome,this.c.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const m=this.args.extensionDevelopmentPath;if(Array.isArray(m))return m.map(E=>/^[^:/?#]+?:\/\//.test(E)?h.URI.parse(E):h.URI.file((0,O.$hc)(E)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(m=>m==="ui"||m==="workspace"||m==="web"?m:"workspace")}get extensionTestsLocationURI(){const m=this.args.extensionTestsPath;if(m)return/^[^:/?#]+?:\/\//.test(m)?h.URI.parse(m):h.URI.file((0,O.$hc)(m))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const m=this.args["disable-extension"];if(m){if(typeof m=="string")return[m];if(Array.isArray(m)&&m.length>0)return m}return!1}get debugExtensionHost(){return v(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!j.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(m=>!e.$Fm.test(m))}get extensionLogLevel(){const m=[];for(const E of this.args.log||[]){const I=e.$Fm.exec(E);I&&I[1]&&I[2]&&m.push([I[1],I[2]])}return m.length?m:void 0}get serviceMachineIdResource(){return(0,k.$Jg)(h.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){const m=j.env.VSCODE_PORTABLE;return m?h.URI.file((0,O.$jc)(m,"policy.json")):(0,k.$Jg)(this.userHome,this.c.dataFolderName,"policy.json")}}get continueOn(){return this.args.continueOn}set continueOn(m){this.args.continueOn=m}get args(){return this.a}constructor(m,E,I){this.a=m,this.b=E,this.c=I,this.editSessionId=this.args.editSessionId}}e.$Gm=o,ve([R.$zh],o.prototype,"appRoot",null),ve([R.$zh],o.prototype,"userHome",null),ve([R.$zh],o.prototype,"userDataPath",null),ve([R.$zh],o.prototype,"appSettingsHome",null),ve([R.$zh],o.prototype,"tmpDir",null),ve([R.$zh],o.prototype,"cacheHome",null),ve([R.$zh],o.prototype,"stateResource",null),ve([R.$zh],o.prototype,"userRoamingDataHome",null),ve([R.$zh],o.prototype,"userDataSyncHome",null),ve([R.$zh],o.prototype,"sync",null),ve([R.$zh],o.prototype,"machineSettingsResource",null),ve([R.$zh],o.prototype,"workspaceStorageHome",null),ve([R.$zh],o.prototype,"localHistoryHome",null),ve([R.$zh],o.prototype,"keyboardLayoutResource",null),ve([R.$zh],o.prototype,"argvResource",null),ve([R.$zh],o.prototype,"isExtensionDevelopment",null),ve([R.$zh],o.prototype,"untitledWorkspacesHome",null),ve([R.$zh],o.prototype,"builtinExtensionsPath",null),ve([R.$zh],o.prototype,"extensionsPath",null),ve([R.$zh],o.prototype,"extensionDevelopmentLocationURI",null),ve([R.$zh],o.prototype,"extensionDevelopmentKind",null),ve([R.$zh],o.prototype,"extensionTestsLocationURI",null),ve([R.$zh],o.prototype,"debugExtensionHost",null),ve([R.$zh],o.prototype,"logLevel",null),ve([R.$zh],o.prototype,"extensionLogLevel",null),ve([R.$zh],o.prototype,"serviceMachineIdResource",null),ve([R.$zh],o.prototype,"disableTelemetry",null),ve([R.$zh],o.prototype,"disableWorkspaceTrust",null),ve([R.$zh],o.prototype,"useInMemorySecretStorage",null),ve([R.$zh],o.prototype,"policyFile",null);function v(b,m){return S(b["inspect-extensions"],b["inspect-brk-extensions"],5870,m,b.debugId,b.extensionEnvironment)}e.$Hm=v;function S(b,m,E,I,$,u){const d=Number(m||b)||(I?null:E),l=d?!!m:!1;let f;if(u)try{f=JSON.parse(u)}catch{}return{port:d,break:l,debugId:$,env:f}}e.$Im=S}),function(){"use strict";function K(e,A,R){function D(j,k){const h=O(j,k),o=[h];return e.isAbsolute(h)||o.unshift(R),e.resolve(...o)}function O(j,k){process.env.VSCODE_DEV&&(k="code-oss-dev"),process.env.VSCODE_DEV_ONBOARDING&&(k="code-oss-dev-onboarding");const h=process.env.VSCODE_PORTABLE;if(h)return e.join(h,"user-data");let o=process.env.VSCODE_APPDATA;if(o)return e.join(o,k);const v=j["user-data-dir"];if(v)return v;switch(process.platform){case"win32":if(o=process.env.APPDATA,!o){const S=process.env.USERPROFILE;if(typeof S!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");o=e.join(S,"AppData","Roaming")}break;case"darwin":o=e.join(A.homedir(),"Library","Application Support");break;case"linux":o=process.env.XDG_CONFIG_HOME||e.join(A.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(o,k)}return{getUserDataPath:D}}if(typeof define=="function")define(ae[113],ce([166,33,35]),function(e,A,R){return K(e,A,R.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),A=require("os");module.exports=K(e,A,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(ae[114],ce([0,1,33,112,113]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lm=e.$Km=e.$Jm=void 0;class O extends R.$Gm{constructor(o,v){super(o,{homeDir:(0,A.homedir)(),tmpDir:(0,A.tmpdir)(),userDataDir:(0,D.getUserDataPath)(o,v.nameShort)},v)}}e.$Jm=O;function j(h,o){return(0,R.$Im)(h["inspect-ptyhost"],h["inspect-brk-ptyhost"],5877,o,h.extensionEnvironment)}e.$Km=j;function k(h,o){return(0,R.$Im)(h["inspect-sharedprocess"],h["inspect-brk-sharedprocess"],5879,o,h.extensionEnvironment)}e.$Lm=k}),define(ae[115],ce([0,1,3,97]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$gq=void 0;function D(j,k,h,o){try{O(j,k,h,o)}catch(v){j.error(v?.message??v)}return k}e.$gq=D;function O(j,k,h,o){const v=(S,b,m)=>{const E=S[b];if((0,A.$Kf)(E)){const I=E,$=I.length;if($>1&&I[0]==="%"&&I[$-1]==="%"){const u=I.substr(1,$-2);let p=h[u];p===void 0&&o&&(p=o[u]);const d=typeof p=="string"?p:p?.message,l=o?.[u],f=typeof l=="string"?l:l?.message;if(!d){f||j.warn(`[${k.name}]: ${(0,R.localize)(0,null,u)}`);return}if(m&&(b==="title"||b==="category")&&f&&f!==d){const n={value:d,original:f};S[b]=n}else S[b]=d}}else if((0,A.$Mf)(E))for(const I in E)E.hasOwnProperty(I)&&(I==="commands"?v(E,I,!0):v(E,I,m));else if(Array.isArray(E))for(let I=0;I<E.length;I++)v(E,I,m)};for(const S in k)k.hasOwnProperty(S)&&v(k,S)}}),define(ae[116],ce([0,1,50,100]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oq=void 0;function D(O){return(0,A.$0p)(O,"extension/package.json").then(j=>{try{return JSON.parse(j.toString("utf8"))}catch{throw new Error((0,R.localize)(0,null))}})}e.$oq=D}),define(ae[51],ce([0,1,17,56,101,39]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sp=e.$rp=e.$qp=e.$pp=e.$op=e.$np=e.$mp=void 0;const j=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,k=/^-(\d{4})(\d{2})(\d{2})$/;function h(u){return u=u.trim(),u==="*"||j.test(u)}e.$mp=h;function o(u){if(!h(u))return null;if(u=u.trim(),u==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const p=u.match(j);return p?{hasCaret:p[1]==="^",hasGreaterEquals:p[1]===">=",majorBase:p[2]==="x"?0:parseInt(p[2],10),majorMustEqual:p[2]!=="x",minorBase:p[4]==="x"?0:parseInt(p[4],10),minorMustEqual:p[4]!=="x",patchBase:p[6]==="x"?0:parseInt(p[6],10),patchMustEqual:p[6]!=="x",preRelease:p[8]||null}:null}e.$np=o;function v(u){if(!u)return null;const p=u.majorBase,d=u.majorMustEqual,l=u.minorBase;let f=u.minorMustEqual;const n=u.patchBase;let r=u.patchMustEqual;u.hasCaret&&(p===0||(f=!1),r=!1);let t=0;if(u.preRelease){const i=k.exec(u.preRelease);if(i){const[,s,c,a]=i;t=Date.UTC(Number(s),Number(c)-1,Number(a))}}return{majorBase:p,majorMustEqual:d,minorBase:l,minorMustEqual:f,patchBase:n,patchMustEqual:r,isMinimum:u.hasGreaterEquals,notBefore:t}}e.$op=v;function S(u,p,d){let l;typeof u=="string"?l=v(o(u)):l=u;let f;p instanceof Date?f=p.getTime():typeof p=="string"&&(f=new Date(p).getTime());let n;if(typeof d=="string"?n=v(o(d)):n=d,!l||!n)return!1;const r=l.majorBase,t=l.minorBase,i=l.patchBase;let s=n.majorBase,c=n.minorBase,a=n.patchBase;const y=n.notBefore;let w=n.majorMustEqual,P=n.minorMustEqual,N=n.patchMustEqual;return n.isMinimum?r>s?!0:r<s?!1:t>c?!0:t<c||f&&f<y?!1:i>=a:(r===1&&s===0&&(!w||!P||!N)&&(s=1,c=0,a=0,w=!0,P=!1,N=!1),r<s?!1:r>s?!w:t<c?!1:t>c?!P:i<a?!1:i>a?!N:!(f&&f<y))}e.$pp=S;function b(u,p,d,l,f){const n=[];if(typeof l.publisher<"u"&&typeof l.publisher!="string")return n.push([R.default.Error,D.localize(0,null)]),n;if(typeof l.name!="string")return n.push([R.default.Error,D.localize(1,null,"name")]),n;if(typeof l.version!="string")return n.push([R.default.Error,D.localize(2,null,"version")]),n;if(!l.engines)return n.push([R.default.Error,D.localize(3,null,"engines")]),n;if(typeof l.engines.vscode!="string")return n.push([R.default.Error,D.localize(4,null,"engines.vscode")]),n;if(typeof l.extensionDependencies<"u"&&!$(l.extensionDependencies))return n.push([R.default.Error,D.localize(5,null,"extensionDependencies")]),n;if(typeof l.activationEvents<"u"){if(!$(l.activationEvents))return n.push([R.default.Error,D.localize(6,null,"activationEvents")]),n;if(typeof l.main>"u"&&typeof l.browser>"u")return n.push([R.default.Error,D.localize(7,null,"activationEvents","main","browser")]),n}if(typeof l.extensionKind<"u"&&typeof l.main>"u"&&n.push([R.default.Warning,D.localize(8,null,"extensionKind")]),typeof l.main<"u"){if(typeof l.main!="string")return n.push([R.default.Error,D.localize(9,null,"main")]),n;{const i=(0,A.$Jg)(d,l.main);(0,A.$Dg)(i,d)||n.push([R.default.Warning,D.localize(10,null,i.path,d.path)])}}if(typeof l.browser<"u"){if(typeof l.browser!="string")return n.push([R.default.Error,D.localize(11,null,"browser")]),n;{const i=(0,A.$Jg)(d,l.browser);(0,A.$Dg)(i,d)||n.push([R.default.Warning,D.localize(12,null,i.path,d.path)])}}if(!O.valid(l.version))return n.push([R.default.Error,D.localize(13,null)]),n;const r=[];if(!m(u,p,l,f,r))for(const i of r)n.push([R.default.Error,i]);return n}e.$qp=b;function m(u,p,d,l,f){return l||typeof d.main>"u"&&typeof d.browser>"u"?!0:I(u,p,d.engines.vscode,f)}e.$rp=m;function E(u,p,d){return u==="*"||I(p,d,u)}e.$sp=E;function I(u,p,d,l=[]){const f=v(o(d));if(!f)return l.push(D.localize(14,null,d)),!1;if(f.majorBase===0){if(!f.majorMustEqual||!f.minorMustEqual)return l.push(D.localize(15,null,d)),!1}else if(!f.majorMustEqual)return l.push(D.localize(16,null,d)),!1;return S(u,p,f)?!0:(l.push(D.localize(17,null,u,d)),!1)}function $(u){if(!Array.isArray(u))return!1;for(let p=0,d=u.length;p<d;p++)if(typeof u[p]!="string")return!1;return!0}}),define(ae[117],ce([0,1,14,24]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ep=void 0;async function D(O,j,k){let h=k&&k.get("storage.serviceMachineId",-1)||null;if(h)return h;try{const v=(await j.readFile(O.serviceMachineIdResource)).value.toString();h=(0,R.$rg)(v)?v:null}catch{h=null}if(!h){h=(0,R.$sg)();try{await j.writeFile(O.serviceMachineIdResource,A.$ke.fromString(h))}catch{}}return k?.store("storage.serviceMachineId",h,-1,1),h}e.$Ep=D}),define(ae[52],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5h=void 0;class A{constructor(D,O=[],j=!1){this.ctor=D,this.staticArguments=O,this.supportsDelayedInstantiation=j}}e.$5h=A}),define(ae[118],ce([0,1,52]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$js=e.$is=e.InstantiationType=void 0;const R=[];var D;(function(k){k[k.Eager=0]="Eager",k[k.Delayed=1]="Delayed"})(D||(e.InstantiationType=D={}));function O(k,h,o){h instanceof A.$5h||(h=new A.$5h(h,[],!!o)),R.push([k,h])}e.$is=O;function j(){return R}e.$js=j}),define(ae[119],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xq=e.$Wq=void 0;class A{constructor(O,j){this.key=O,this.data=j,this.incoming=new Map,this.outgoing=new Map}}e.$Wq=A;class R{constructor(O){this.b=O,this.a=new Map}roots(){const O=[];for(const j of this.a.values())j.outgoing.size===0&&O.push(j);return O}insertEdge(O,j){const k=this.lookupOrInsertNode(O),h=this.lookupOrInsertNode(j);k.outgoing.set(h.key,h),h.incoming.set(k.key,k)}removeNode(O){const j=this.b(O);this.a.delete(j);for(const k of this.a.values())k.outgoing.delete(j),k.incoming.delete(j)}lookupOrInsertNode(O){const j=this.b(O);let k=this.a.get(j);return k||(k=new A(j,O),this.a.set(j,k)),k}lookup(O){return this.a.get(this.b(O))}isEmpty(){return this.a.size===0}toString(){const O=[];for(const[j,k]of this.a)O.push(`${j}
	(-> incoming)[${[...k.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...k.outgoing.keys()].join(",")}]
`);return O.join(`
`)}findCycleSlow(){for(const[O,j]of this.a){const k=new Set([O]),h=this.c(j,k);if(h)return h}}c(O,j){for(const[k,h]of O.outgoing){if(j.has(k))return[...j,k].join(" -> ");j.add(k);const o=this.c(h,j);if(o)return o;j.delete(k)}}}e.$Xq=R}),define(ae[28],ce([0,1,3,11,10]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Li=e.$Ki=e.$Ji=e.$Ii=e.$Hi=e.$Gi=e.$Fi=e.$Ei=e.ConfigurationTarget=e.$Di=e.$Ci=e.$Bi=void 0,e.$Bi=(0,D.$8h)("configurationService");function O(u){return u&&typeof u=="object"&&(!u.overrideIdentifier||typeof u.overrideIdentifier=="string")&&(!u.resource||u.resource instanceof R.URI)}e.$Ci=O;function j(u){return u&&typeof u=="object"&&(!u.overrideIdentifiers||Array.isArray(u.overrideIdentifiers))&&!u.overrideIdentifier&&(!u.resource||u.resource instanceof R.URI)}e.$Di=j;var k;(function(u){u[u.APPLICATION=1]="APPLICATION",u[u.USER=2]="USER",u[u.USER_LOCAL=3]="USER_LOCAL",u[u.USER_REMOTE=4]="USER_REMOTE",u[u.WORKSPACE=5]="WORKSPACE",u[u.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",u[u.DEFAULT=7]="DEFAULT",u[u.MEMORY=8]="MEMORY"})(k||(e.ConfigurationTarget=k={}));function h(u){switch(u){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}e.$Ei=h;function o(u){return u.applicationValue!==void 0||u.userValue!==void 0||u.userLocalValue!==void 0||u.userRemoteValue!==void 0||u.workspaceValue!==void 0||u.workspaceFolderValue!==void 0}e.$Fi=o;function v(u,p){const d=Object.create(null);for(const l in u)S(d,l,u[l],p);return d}e.$Gi=v;function S(u,p,d,l){const f=p.split("."),n=f.pop();let r=u;for(let t=0;t<f.length;t++){const i=f[t];let s=r[i];switch(typeof s){case"undefined":s=r[i]=Object.create(null);break;case"object":break;default:l(`Ignoring ${p} as ${f.slice(0,t+1).join(".")} is ${JSON.stringify(s)}`);return}r=s}if(typeof r=="object"&&r!==null)try{r[n]=d}catch{l(`Ignoring ${p} as ${f.join(".")} is ${JSON.stringify(r)}`)}else l(`Ignoring ${p} as ${f.join(".")} is ${JSON.stringify(r)}`)}e.$Hi=S;function b(u,p){const d=p.split(".");m(u,d)}e.$Ii=b;function m(u,p){const d=p.shift();if(p.length===0){delete u[d];return}if(Object.keys(u).indexOf(d)!==-1){const l=u[d];typeof l=="object"&&!Array.isArray(l)&&(m(l,p),Object.keys(l).length===0&&delete u[d])}}function E(u,p,d){function l(r,t){let i=r;for(const s of t){if(typeof i!="object"||i===null)return;i=i[s]}return i}const f=p.split("."),n=l(u,f);return typeof n>"u"?d:n}e.$Ji=E;function I(u,p,d){Object.keys(p).forEach(l=>{l!=="__proto__"&&(l in u?A.$Mf(u[l])&&A.$Mf(p[l])?I(u[l],p[l],d):d&&(u[l]=p[l]):u[l]=p[l])})}e.$Ki=I;function $(u){return u.replace(/[\[\]]/g,"")}e.$Li=$}),define(ae[120],ce([0,1,13,29,111,10,92,9]),function(K,e,A,R,D,O,j,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pj=e.$oj=e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=e.$7i=e.$6i=e.$5i=e.ContextKeyExprType=e.$4i=void 0;const h=new Map;h.set("false",!1),h.set("true",!0),h.set("isMac",A.$j),h.set("isLinux",A.$k),h.set("isWindows",A.$i),h.set("isWeb",A.$o),h.set("isMacNative",A.$j&&!A.$o),h.set("isEdge",A.$H),h.set("isFirefox",A.$F),h.set("isChrome",A.$E),h.set("isSafari",A.$G);function o(T,g){if(h.get(T)!==void 0)throw(0,k.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");h.set(T,g)}e.$4i=o;const v=Object.prototype.hasOwnProperty;var S;(function(T){T[T.False=0]="False",T[T.True=1]="True",T[T.Defined=2]="Defined",T[T.Not=3]="Not",T[T.Equals=4]="Equals",T[T.NotEquals=5]="NotEquals",T[T.And=6]="And",T[T.Regex=7]="Regex",T[T.NotRegex=8]="NotRegex",T[T.Or=9]="Or",T[T.In=10]="In",T[T.NotIn=11]="NotIn",T[T.Greater=12]="Greater",T[T.GreaterEquals=13]="GreaterEquals",T[T.Smaller=14]="Smaller",T[T.SmallerEquals=15]="SmallerEquals",T[T.Function=16]="Function"})(S||(e.ContextKeyExprType=S={}));const b={regexParsingWithErrorRecovery:!0},m=(0,j.localize)(0,null),E=(0,j.localize)(1,null),I=(0,j.localize)(2,null),$=(0,j.localize)(3,null),u=(0,j.localize)(4,null),p=(0,j.localize)(5,null),d=(0,j.localize)(6,null),l=(0,j.localize)(7,null);class f{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(g=b){this.k=g,this.d=new D.$3i,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(g){if(g===""){this.h.push({message:m,offset:0,lexeme:"",additionalInfo:E});return}this.f=this.d.reset(g).scan(),this.g=0,this.h=[];try{const z=this.l();if(!this.E()){const x=this.D(),X=x.type===17?p:void 0;throw this.h.push({message:u,offset:x.offset,lexeme:D.$3i.getLexeme(x),additionalInfo:X}),f.c}return z}catch(z){if(z!==f.c)throw z;return}}l(){return this.m()}m(){const g=[this.o()];for(;this.y(16);){const z=this.o();g.push(z)}return g.length===1?g[0]:n.or(...g)}o(){const g=[this.s()];for(;this.y(15);){const z=this.s();g.push(z)}return g.length===1?g[0]:n.and(...g)}s(){if(this.y(2)){const g=this.D();switch(g.type){case 11:return this.z(),c.INSTANCE;case 12:return this.z(),a.INSTANCE;case 0:{this.z();const z=this.l();return this.A(1,$),z?.negate()}case 17:return this.z(),J.create(g.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",g)}}return this.t()}t(){const g=this.D();switch(g.type){case 11:return this.z(),n.true();case 12:return this.z(),n.false();case 0:{this.z();const z=this.l();return this.A(1,$),z}case 17:{const z=g.lexeme;if(this.z(),this.y(9)){const X=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),X.type!==10)throw this.B("REGEX",X);const fe=X.lexeme,me=fe.lastIndexOf("/"),ye=me===fe.length-1?void 0:this.w(fe.substring(me+1));let Ee;try{Ee=new RegExp(fe.substring(1,me),ye)}catch{throw this.B("REGEX",X)}return se.create(z,Ee)}switch(X.type){case 10:case 19:{const fe=[X.lexeme];this.z();let me=this.D(),ye=0;for(let M=0;M<X.lexeme.length;M++)X.lexeme.charCodeAt(M)===40?ye++:X.lexeme.charCodeAt(M)===41&&ye--;for(;!this.E()&&me.type!==15&&me.type!==16;){switch(me.type){case 0:ye++;break;case 1:ye--;break;case 10:case 18:for(let M=0;M<me.lexeme.length;M++)me.lexeme.charCodeAt(M)===40?ye++:X.lexeme.charCodeAt(M)===41&&ye--}if(ye<0)break;fe.push(D.$3i.getLexeme(me)),this.z(),me=this.D()}const Ee=fe.join(""),Ie=Ee.lastIndexOf("/"),ze=Ie===Ee.length-1?void 0:this.w(Ee.substring(Ie+1));let Y;try{Y=new RegExp(Ee.substring(1,Ie),ze)}catch{throw this.B("REGEX",X)}return n.regex(z,Y)}case 18:{const fe=X.lexeme;this.z();let me=null;if(!(0,R.$Le)(fe)){const ye=fe.indexOf("/"),Ee=fe.lastIndexOf("/");if(ye!==Ee&&ye>=0){const Ie=fe.slice(ye+1,Ee),ze=fe[Ee+1]==="i"?"i":"";try{me=new RegExp(Ie,ze)}catch{throw this.B("REGEX",X)}}}if(me===null)throw this.B("REGEX",X);return se.create(z,me)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,I);const X=this.u();return n.notIn(z,X)}switch(this.D().type){case 3:{this.z();const X=this.u();if(this.x().type===18)return n.equals(z,X);switch(X){case"true":return n.has(z);case"false":return n.not(z);default:return n.equals(z,X)}}case 4:{this.z();const X=this.u();if(this.x().type===18)return n.notEquals(z,X);switch(X){case"true":return n.not(z);case"false":return n.has(z);default:return n.notEquals(z,X)}}case 5:return this.z(),le.create(z,this.u());case 6:return this.z(),ue.create(z,this.u());case 7:return this.z(),pe.create(z,this.u());case 8:return this.z(),ie.create(z,this.u());case 13:return this.z(),n.in(z,this.u());default:return n.has(z)}}case 20:throw this.h.push({message:d,offset:g.offset,lexeme:"",additionalInfo:l}),f.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const g=this.D();switch(g.type){case 17:case 18:return this.z(),g.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(g){return g.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(g){return this.C(g)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(g,z){if(this.C(g))return this.z();throw this.B(z,this.D())}B(g,z,x){const X=(0,j.localize)(8,null,g,D.$3i.getLexeme(z)),fe=z.offset,me=D.$3i.getLexeme(z);return this.h.push({message:X,offset:fe,lexeme:me,additionalInfo:x}),f.c}C(g){return this.D().type===g}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$5i=f;class n{static false(){return c.INSTANCE}static true(){return a.INSTANCE}static has(g){return y.create(g)}static equals(g,z){return w.create(g,z)}static notEquals(g,z){return L.create(g,z)}static regex(g,z){return se.create(g,z)}static in(g,z){return P.create(g,z)}static notIn(g,z){return N.create(g,z)}static not(g){return J.create(g)}static and(...g){return C.create(g,null,!0)}static or(...g){return F.create(g,null,!0)}static greater(g,z){return pe.create(g,z)}static greaterEquals(g,z){return ie.create(g,z)}static smaller(g,z){return le.create(g,z)}static smallerEquals(g,z){return ue.create(g,z)}static function(g){return s.create(g)}static{this.c=new f({regexParsingWithErrorRecovery:!1})}static deserialize(g){return g==null?void 0:this.c.parse(g)}}e.$6i=n;function r(T){const g=new f({regexParsingWithErrorRecovery:!1});return T.map(z=>(g.parse(z),g.lexingErrors.length>0?g.lexingErrors.map(x=>({errorMessage:x.additionalInfo?(0,j.localize)(9,null,x.additionalInfo):(0,j.localize)(10,null),offset:x.offset,length:x.lexeme.length})):g.parsingErrors.length>0?g.parsingErrors.map(x=>({errorMessage:x.additionalInfo?`${x.message}. ${x.additionalInfo}`:x.message,offset:x.offset,length:x.lexeme.length})):[]))}e.$7i=r;function t(T,g){const z=T?T.substituteConstants():void 0,x=g?g.substituteConstants():void 0;return!z&&!x?!0:!z||!x?!1:z.equals(x)}e.$8i=t;function i(T,g){return T.cmp(g)}class s{static create(g){return new s(g)}constructor(g){this.type=16,this.c=g}cmp(g){return this.type-g.type}equals(g){return g.type===this.type&&g.c===this.c}substituteConstants(){return this}evaluate(g){return this.c()}serialize(){return"(arbitrary function)"}keys(){return[]}map(g){return this}negate(){return new s(()=>!this.c())}}e.$9i=s;class c{static{this.INSTANCE=new c}constructor(){this.type=0}cmp(g){return this.type-g.type}equals(g){return g.type===this.type}substituteConstants(){return this}evaluate(g){return!1}serialize(){return"false"}keys(){return[]}map(g){return this}negate(){return a.INSTANCE}}e.$0i=c;class a{static{this.INSTANCE=new a}constructor(){this.type=1}cmp(g){return this.type-g.type}equals(g){return g.type===this.type}substituteConstants(){return this}evaluate(g){return!0}serialize(){return"true"}keys(){return[]}map(g){return this}negate(){return c.INSTANCE}}e.$$i=a;class y{static create(g,z=null){const x=h.get(g);return typeof x=="boolean"?x?a.INSTANCE:c.INSTANCE:new y(g,z)}constructor(g,z){this.key=g,this.c=z,this.type=2}cmp(g){return g.type!==this.type?this.type-g.type:Q(this.key,g.key)}equals(g){return g.type===this.type?this.key===g.key:!1}substituteConstants(){const g=h.get(this.key);return typeof g=="boolean"?g?a.INSTANCE:c.INSTANCE:this}evaluate(g){return!!g.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(g){return g.mapDefined(this.key)}negate(){return this.c||(this.c=J.create(this.key,this)),this.c}}e.$_i=y;class w{static create(g,z,x=null){if(typeof z=="boolean")return z?y.create(g,x):J.create(g,x);const X=h.get(g);return typeof X=="boolean"?z===(X?"true":"false")?a.INSTANCE:c.INSTANCE:new w(g,z,x)}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=4}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){const g=h.get(this.c);if(typeof g=="boolean"){const z=g?"true":"false";return this.d===z?a.INSTANCE:c.INSTANCE}return this}evaluate(g){return g.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(g){return g.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=L.create(this.c,this.d,this)),this.f}}e.$aj=w;class P{static create(g,z){return new P(g,z)}constructor(g,z){this.d=g,this.f=z,this.type=10,this.c=null}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.d,this.f,g.d,g.f)}equals(g){return g.type===this.type?this.d===g.d&&this.f===g.f:!1}substituteConstants(){return this}evaluate(g){const z=g.getValue(this.f),x=g.getValue(this.d);return Array.isArray(z)?z.includes(x):typeof x=="string"&&typeof z=="object"&&z!==null?v.call(z,x):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(g){return g.mapIn(this.d,this.f)}negate(){return this.c||(this.c=N.create(this.d,this.f)),this.c}}e.$bj=P;class N{static create(g,z){return new N(g,z)}constructor(g,z){this.d=g,this.f=z,this.type=11,this.c=P.create(g,z)}cmp(g){return g.type!==this.type?this.type-g.type:this.c.cmp(g.c)}equals(g){return g.type===this.type?this.c.equals(g.c):!1}substituteConstants(){return this}evaluate(g){return!this.c.evaluate(g)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(g){return g.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$cj=N;class L{static create(g,z,x=null){if(typeof z=="boolean")return z?J.create(g,x):y.create(g,x);const X=h.get(g);return typeof X=="boolean"?z===(X?"true":"false")?c.INSTANCE:a.INSTANCE:new L(g,z,x)}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=5}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){const g=h.get(this.c);if(typeof g=="boolean"){const z=g?"true":"false";return this.d===z?c.INSTANCE:a.INSTANCE}return this}evaluate(g){return g.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(g){return g.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=w.create(this.c,this.d,this)),this.f}}e.$dj=L;class J{static create(g,z=null){const x=h.get(g);return typeof x=="boolean"?x?c.INSTANCE:a.INSTANCE:new J(g,z)}constructor(g,z){this.c=g,this.d=z,this.type=3}cmp(g){return g.type!==this.type?this.type-g.type:Q(this.c,g.c)}equals(g){return g.type===this.type?this.c===g.c:!1}substituteConstants(){const g=h.get(this.c);return typeof g=="boolean"?g?c.INSTANCE:a.INSTANCE:this}evaluate(g){return!g.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(g){return g.mapNot(this.c)}negate(){return this.d||(this.d=y.create(this.c,this)),this.d}}e.$ej=J;function ne(T,g){if(typeof T=="string"){const z=parseFloat(T);isNaN(z)||(T=z)}return typeof T=="string"||typeof T=="number"?g(T):c.INSTANCE}class pe{static create(g,z,x=null){return ne(z,X=>new pe(g,X,x))}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=12}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){return this}evaluate(g){return typeof this.d=="string"?!1:parseFloat(g.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(g){return g.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ue.create(this.c,this.d,this)),this.f}}e.$fj=pe;class ie{static create(g,z,x=null){return ne(z,X=>new ie(g,X,x))}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=13}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){return this}evaluate(g){return typeof this.d=="string"?!1:parseFloat(g.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(g){return g.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$gj=ie;class le{static create(g,z,x=null){return ne(z,X=>new le(g,X,x))}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=14}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){return this}evaluate(g){return typeof this.d=="string"?!1:parseFloat(g.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(g){return g.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$hj=le;class ue{static create(g,z,x=null){return ne(z,X=>new ue(g,X,x))}constructor(g,z,x){this.c=g,this.d=z,this.f=x,this.type=15}cmp(g){return g.type!==this.type?this.type-g.type:Z(this.c,this.d,g.c,g.d)}equals(g){return g.type===this.type?this.c===g.c&&this.d===g.d:!1}substituteConstants(){return this}evaluate(g){return typeof this.d=="string"?!1:parseFloat(g.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(g){return g.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=pe.create(this.c,this.d,this)),this.f}}e.$ij=ue;class se{static create(g,z){return new se(g,z)}constructor(g,z){this.d=g,this.f=z,this.type=7,this.c=null}cmp(g){if(g.type!==this.type)return this.type-g.type;if(this.d<g.d)return-1;if(this.d>g.d)return 1;const z=this.f?this.f.source:"",x=g.f?g.f.source:"";return z<x?-1:z>x?1:0}equals(g){if(g.type===this.type){const z=this.f?this.f.source:"",x=g.f?g.f.source:"";return this.d===g.d&&z===x}return!1}substituteConstants(){return this}evaluate(g){const z=g.getValue(this.d);return this.f?this.f.test(z):!1}serialize(){const g=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${g}`}keys(){return[this.d]}map(g){return g.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=B.create(this)),this.c}}e.$jj=se;class B{static create(g){return new B(g)}constructor(g){this.c=g,this.type=8}cmp(g){return g.type!==this.type?this.type-g.type:this.c.cmp(g.c)}equals(g){return g.type===this.type?this.c.equals(g.c):!1}substituteConstants(){return this}evaluate(g){return!this.c.evaluate(g)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(g){return new B(this.c.map(g))}negate(){return this.c}}e.$kj=B;function G(T){let g=null;for(let z=0,x=T.length;z<x;z++){const X=T[z].substituteConstants();if(T[z]!==X&&g===null){g=[];for(let fe=0;fe<z;fe++)g[fe]=T[fe]}g!==null&&(g[z]=X)}return g===null?T:g}class C{static create(g,z,x){return C.d(g,z,x)}constructor(g,z){this.expr=g,this.c=z,this.type=6}cmp(g){if(g.type!==this.type)return this.type-g.type;if(this.expr.length<g.expr.length)return-1;if(this.expr.length>g.expr.length)return 1;for(let z=0,x=this.expr.length;z<x;z++){const X=i(this.expr[z],g.expr[z]);if(X!==0)return X}return 0}equals(g){if(g.type===this.type){if(this.expr.length!==g.expr.length)return!1;for(let z=0,x=this.expr.length;z<x;z++)if(!this.expr[z].equals(g.expr[z]))return!1;return!0}return!1}substituteConstants(){const g=G(this.expr);return g===this.expr?this:C.create(g,this.c,!1)}evaluate(g){for(let z=0,x=this.expr.length;z<x;z++)if(!this.expr[z].evaluate(g))return!1;return!0}static d(g,z,x){const X=[];let fe=!1;for(const me of g)if(me){if(me.type===1){fe=!0;continue}if(me.type===0)return c.INSTANCE;if(me.type===6){X.push(...me.expr);continue}X.push(me)}if(X.length===0&&fe)return a.INSTANCE;if(X.length!==0){if(X.length===1)return X[0];X.sort(i);for(let me=1;me<X.length;me++)X[me-1].equals(X[me])&&(X.splice(me,1),me--);if(X.length===1)return X[0];for(;X.length>1;){const me=X[X.length-1];if(me.type!==9)break;X.pop();const ye=X.pop(),Ee=X.length===0,Ie=F.create(me.expr.map(ze=>C.create([ze,ye],null,x)),null,Ee);Ie&&(X.push(Ie),X.sort(i))}if(X.length===1)return X[0];if(x){for(let me=0;me<X.length;me++)for(let ye=me+1;ye<X.length;ye++)if(X[me].negate().equals(X[ye]))return c.INSTANCE;if(X.length===1)return X[0]}return new C(X,z)}}serialize(){return this.expr.map(g=>g.serialize()).join(" && ")}keys(){const g=[];for(const z of this.expr)g.push(...z.keys());return g}map(g){return new C(this.expr.map(z=>z.map(g)),null)}negate(){if(!this.c){const g=[];for(const z of this.expr)g.push(z.negate());this.c=F.create(g,this,!0)}return this.c}}e.$lj=C;class F{static create(g,z,x){return F.d(g,z,x)}constructor(g,z){this.expr=g,this.c=z,this.type=9}cmp(g){if(g.type!==this.type)return this.type-g.type;if(this.expr.length<g.expr.length)return-1;if(this.expr.length>g.expr.length)return 1;for(let z=0,x=this.expr.length;z<x;z++){const X=i(this.expr[z],g.expr[z]);if(X!==0)return X}return 0}equals(g){if(g.type===this.type){if(this.expr.length!==g.expr.length)return!1;for(let z=0,x=this.expr.length;z<x;z++)if(!this.expr[z].equals(g.expr[z]))return!1;return!0}return!1}substituteConstants(){const g=G(this.expr);return g===this.expr?this:F.create(g,this.c,!1)}evaluate(g){for(let z=0,x=this.expr.length;z<x;z++)if(this.expr[z].evaluate(g))return!0;return!1}static d(g,z,x){let X=[],fe=!1;if(g){for(let me=0,ye=g.length;me<ye;me++){const Ee=g[me];if(Ee){if(Ee.type===0){fe=!0;continue}if(Ee.type===1)return a.INSTANCE;if(Ee.type===9){X=X.concat(Ee.expr);continue}X.push(Ee)}}if(X.length===0&&fe)return c.INSTANCE;X.sort(i)}if(X.length!==0){if(X.length===1)return X[0];for(let me=1;me<X.length;me++)X[me-1].equals(X[me])&&(X.splice(me,1),me--);if(X.length===1)return X[0];if(x){for(let me=0;me<X.length;me++)for(let ye=me+1;ye<X.length;ye++)if(X[me].negate().equals(X[ye]))return a.INSTANCE;if(X.length===1)return X[0]}return new F(X,z)}}serialize(){return this.expr.map(g=>g.serialize()).join(" || ")}keys(){const g=[];for(const z of this.expr)g.push(...z.keys());return g}map(g){return new F(this.expr.map(z=>z.map(g)),null)}negate(){if(!this.c){const g=[];for(const z of this.expr)g.push(z.negate());for(;g.length>1;){const z=g.shift(),x=g.shift(),X=[];for(const fe of V(z))for(const me of V(x))X.push(C.create([fe,me],null,!1));g.unshift(F.create(X,null,!1))}this.c=F.create(g,this,!0)}return this.c}}e.$mj=F;class W extends y{static{this.d=[]}static all(){return W.d.values()}constructor(g,z,x){super(g,null),this.f=z,typeof x=="object"?W.d.push({...x,key:g}):x!==!0&&W.d.push({key:g,description:x,type:z!=null?typeof z:void 0})}bindTo(g){return g.createKey(this.key,this.f)}getValue(g){return g.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(g){return w.create(this.key,g)}notEqualsTo(g){return L.create(this.key,g)}}e.$nj=W,e.$oj=(0,O.$8h)("contextKeyService");function Q(T,g){return T<g?-1:T>g?1:0}function Z(T,g,z,x){return T<z?-1:T>z?1:g<x?-1:g>x?1:0}function ee(T,g){if(T.type===0||g.type===1)return!0;if(T.type===9)return g.type===9?q(T.expr,g.expr):!1;if(g.type===9){for(const z of g.expr)if(ee(T,z))return!0;return!1}if(T.type===6){if(g.type===6)return q(g.expr,T.expr);for(const z of T.expr)if(ee(z,g))return!0;return!1}return T.equals(g)}e.$pj=ee;function q(T,g){let z=0,x=0;for(;z<T.length&&x<g.length;){const X=T[z].cmp(g[x]);if(X<0)return!1;X===0&&z++,x++}return z===T.length}function V(T){return T.type===9?T.expr:[T]}}),define(ae[60],ce([0,1,10]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mo=void 0,e.$mo=(0,A.$8h)("downloadService")}),define(ae[18],ce([0,1,10]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$di=e.$ci=void 0,e.$ci=(0,A.$8h)("environmentService"),e.$di=(0,A.$9h)(e.$ci)}),define(ae[21],ce([0,1,95,10]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$To=e.$So=e.$Ro=e.$Qo=e.$Po=e.$Oo=e.$No=e.$Mo=e.$Lo=e.ExtensionGalleryErrorCode=e.$Ko=e.ExtensionSignaturetErrorCode=e.ExtensionManagementErrorCode=e.$Jo=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.$Io=e.$Ho=e.$Go=e.$Fo=e.$Eo=e.$Do=e.$Co=e.$Bo=e.$Ao=e.$zo=e.$yo=e.$xo=void 0,e.$xo="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.$yo=new RegExp(e.$xo),e.$zo="__web_extension",e.$Ao="skipWalkthrough",e.$Bo="extensionsSync",e.$Co="dependecyOrPackExtensionInstall";function D(d){switch(d){case"win32-x64":return"Windows 64 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.$Do=D;function O(d){switch(d){case"win32-x64":return"win32-x64";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.$Eo=O;function j(d,l){switch(d){case 3:return l==="x64"?"win32-x64":l==="arm64"?"win32-arm64":"unknown";case 2:return l==="x64"?"linux-x64":l==="arm64"?"linux-arm64":l==="arm"?"linux-armhf":"unknown";case"alpine":return l==="x64"?"alpine-x64":l==="arm64"?"alpine-arm64":"unknown";case 1:return l==="x64"?"darwin-x64":l==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.$Fo=j;function k(d,l){return l==="web"&&!d.includes("web")}e.$Go=k;function h(d,l,f){return k(l,f)?!1:d==="undefined"||d==="universal"?!0:d==="unknown"?!1:d===f}e.$Ho=h;function o(d){return d&&typeof d=="object"&&typeof d.id=="string"&&(!d.uuid||typeof d.uuid=="string")}e.$Io=o;var v;(function(d){d[d.NoneOrRelevance=0]="NoneOrRelevance",d[d.LastUpdatedDate=1]="LastUpdatedDate",d[d.Title=2]="Title",d[d.PublisherName=3]="PublisherName",d[d.InstallCount=4]="InstallCount",d[d.PublishedDate=10]="PublishedDate",d[d.AverageRating=6]="AverageRating",d[d.WeightedRating=12]="WeightedRating"})(v||(e.SortBy=v={}));var S;(function(d){d[d.Default=0]="Default",d[d.Ascending=1]="Ascending",d[d.Descending=2]="Descending"})(S||(e.SortOrder=S={}));var b;(function(d){d.Install="install",d.Uninstall="uninstall"})(b||(e.StatisticType=b={}));var m;(function(d){d[d.None=1]="None",d[d.Install=2]="Install",d[d.Update=3]="Update",d[d.Migrate=4]="Migrate"})(m||(e.InstallOperation=m={})),e.$Jo=(0,R.$8h)("extensionGalleryService");var E;(function(d){d.Unsupported="Unsupported",d.Deprecated="Deprecated",d.Malicious="Malicious",d.Incompatible="Incompatible",d.IncompatibleTargetPlatform="IncompatibleTargetPlatform",d.ReleaseVersionNotFound="ReleaseVersionNotFound",d.Invalid="Invalid",d.Download="Download",d.DownloadSignature="DownloadSignature",d.UpdateMetadata="UpdateMetadata",d.Extract="Extract",d.Scanning="Scanning",d.Delete="Delete",d.Rename="Rename",d.CorruptZip="CorruptZip",d.IncompleteZip="IncompleteZip",d.Signature="Signature",d.NotAllowed="NotAllowed",d.Gallery="Gallery",d.Unknown="Unknown",d.Internal="Internal"})(E||(e.ExtensionManagementErrorCode=E={}));var I;(function(d){d.UnknownError="UnknownError",d.PackageIsInvalidZip="PackageIsInvalidZip",d.SignatureArchiveIsInvalidZip="SignatureArchiveIsInvalidZip"})(I||(e.ExtensionSignaturetErrorCode=I={}));class $ extends Error{constructor(l,f){super(l),this.code=f,this.name=f}}e.$Ko=$;var u;(function(d){d.Timeout="Timeout",d.Cancelled="Cancelled",d.Failed="Failed"})(u||(e.ExtensionGalleryErrorCode=u={}));class p extends Error{constructor(l,f){super(l),this.code=f,this.name=f}}e.$Lo=p,e.$Mo=(0,R.$8h)("extensionManagementService"),e.$No="extensionsIdentifiers/disabled",e.$Oo="extensionsIdentifiers/enabled",e.$Po=(0,R.$8h)("IGlobalExtensionEnablementService"),e.$Qo=(0,R.$8h)("IExtensionTipsService"),e.$Ro=(0,A.localize)(0,null),e.$So={value:e.$Ro,original:"Extensions"},e.$To=(0,A.localize2)(1,"Preferences")}),define(ae[61],ce([0,1,14,9,103,12]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vq=void 0;async function j(v,S,b,m,E,I){let $;try{await k(v,S,b,m,E,I)}catch(u){$=u}finally{$&&E.errorTransformer&&($=E.errorTransformer($)),typeof $<"u"&&b.error($),b.end()}}e.$vq=j;async function k(v,S,b,m,E,I){h(I);const $=await v.open(S,{create:!1});try{h(I);let u=0,p=0,d=E&&typeof E.length=="number"?E.length:void 0,l=A.$ke.alloc(Math.min(E.bufferSize,typeof d=="number"?d:E.bufferSize)),f=E&&typeof E.position=="number"?E.position:0,n=0;do p=await v.read($,f,l.buffer,n,l.byteLength-n),f+=p,n+=p,u+=p,typeof d=="number"&&(d-=p),n===l.byteLength&&(await b.write(m(l)),l=A.$ke.alloc(Math.min(E.bufferSize,typeof d=="number"?d:E.bufferSize)),n=0);while(p>0&&(typeof d!="number"||d>0)&&h(I)&&o(u,E));if(n>0){let r=n;typeof d=="number"&&(r=Math.min(n,d)),b.write(m(l.slice(0,r)))}}catch(u){throw(0,O.$Kk)(u)}finally{await v.close($)}}function h(v){if(v.isCancellationRequested)throw(0,R.$6)();return!0}function o(v,S){if(typeof S?.limits?.size=="number"&&v>S.limits.size)throw(0,O.$Jk)((0,D.localize)(0,null),O.FileSystemProviderErrorCode.FileTooLarge);return!0}}),define(ae[121],ce([0,1,6,167,2,13,168]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Tq=void 0;class k extends D.$Tc{constructor(){super(...arguments),this.a=this.D(new A.$Wd),this.onDidChangeFile=this.a.event,this.b=this.D(new A.$Wd),this.onDidLogMessage=this.b.event,this.onDidError=A.Event.None,this.c=new Map,this.f=!1}async watch(o){const v=this.j(o),S=v.filter(m=>{const E=this.c.get(m.path);return E?!(0,R.$Uj)(E.request.excludes,m.excludes)||!(0,R.$Uj)(E.request.includes,m.includes):!0}),b=Array.from(this.c.values()).filter(({request:m})=>!v.find(E=>E.path===m.path&&(0,R.$Uj)(E.excludes,m.excludes)&&(0,R.$Uj)(E.includes,m.includes))).map(({request:m})=>m.path);S.length&&this.m(`Request to start watching: ${S.map(m=>`${m.path} (excludes: ${m.excludes.length>0?m.excludes:"<none>"}, includes: ${m.includes&&m.includes.length>0?JSON.stringify(m.includes):"<all>"}, correlationId: ${typeof m.correlationId=="number"?m.correlationId:"<none>"})`).join(",")}`),b.length&&this.m(`Request to stop watching: ${b.join(",")}`);for(const m of b)this.h(m);for(const m of S)this.g(m)}g(o){const v=new j.$Rq(o,b=>this.a.fire(b),b=>this.b.fire(b),this.f),S={request:o,instance:v};this.c.set(o.path,S)}async stop(){for(const[o]of this.c)this.h(o);this.c.clear()}h(o){const v=this.c.get(o);v&&(this.c.delete(o),v.instance.dispose())}j(o){const v=new Map;for(const S of o){const b=O.$k?S.path:S.path.toLowerCase();let m=v.get(S.correlationId);m||(m=new Map,v.set(S.correlationId,m)),m.set(b,S)}return Array.from(v.values()).map(S=>Array.from(S.values())).flat()}async setVerboseLogging(o){this.f=o;for(const[,v]of this.c)v.instance.setVerboseLogging(o)}m(o){this.f&&this.b.fire({type:"trace",message:this.n(o)})}n(o,v){return v?`[File Watcher (node.js)] ${o} (path: ${v.request.path})`:`[File Watcher (node.js)] ${o}`}}e.$Tq=k}),define(ae[122],ce([0,1,62,121]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Uq=void 0;class D extends A.$zq{constructor(j,k,h){super(j,k,h),this.r()}q(j){return j.add(new R.$Tq)}}e.$Uq=D}),define(ae[123],ce([0,1,16,59,87,62]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Mq=void 0;class j extends O.$Aq{constructor(h,o,v){super(h,o,v),this.r()}q(h){const o=h.add(new D.$Lq(A.$qg.asFileUri("bootstrap-fork").fsPath,{serverName:"File Watcher",args:["--type=fileWatcher"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/watcherMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));return h.add(o.onDidProcessExit(({code:v,signal:S})=>this.s(`terminated by itself with code ${v}, signal: ${S}`))),R.ProxyChannel.toService((0,R.$Oh)(o.getChannel("watcher")))}}e.$Mq=j}),define(ae[63],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$6h=void 0;class A{constructor(...D){this.a=new Map;for(const[O,j]of D)this.set(O,j)}set(D,O){const j=this.a.get(D);return this.a.set(D,O),j}has(D){return this.a.has(D)}get(D){return this.a.get(D)}}e.$6h=A}),define(ae[124],ce([0,1,8,9,2,52,119,10,63,169]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zq=e.$Yq=void 0;const v=!1;class S extends Error{constructor($){super("cyclic dependency between services"),this.message=$.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${$.toString()}`}}class b{constructor($=new h.$6h,u=!1,p,d=v){this.f=$,this.g=u,this.h=p,this.i=d,this.o=new Set,this.f.set(k.$7h,this),this._globalGraph=d?p?._globalGraph??new j.$Xq(l=>l):void 0}createChild($){return new b($,this.g,this,this.i)}invokeFunction($,...u){const p=E.traceInvocation(this.i,$);let d=!1;try{return $({get:f=>{if(d)throw(0,R.$8)("service accessor is only valid during the invocation of its target method");const n=this.m(f,p);if(!n)throw new Error(`[invokeFunction] unknown service '${f}'`);return n}},...u)}finally{d=!0,p.stop()}}createInstance($,...u){let p,d;return $ instanceof O.$5h?(p=E.traceCreation(this.i,$.ctor),d=this.j($.ctor,$.staticArguments.concat(u),p)):(p=E.traceCreation(this.i,$),d=this.j($,u,p)),p.stop(),d}j($,u=[],p){const d=k._util.getServiceDependencies($).sort((n,r)=>n.index-r.index),l=[];for(const n of d){const r=this.m(n.id,p);r||this.u(`[createInstance] ${$.name} depends on UNKNOWN service ${n.id}.`,!1),l.push(r)}const f=d.length>0?d[0].index:u.length;if(u.length!==f){console.trace(`[createInstance] First service dependency of ${$.name} at position ${f+1} conflicts with ${u.length} static arguments`);const n=f-u.length;n>0?u=u.concat(new Array(n)):u=u.slice(0,f)}return Reflect.construct($,u.concat(l))}k($,u){if(this.f.get($)instanceof O.$5h)this.f.set($,u);else if(this.h)this.h.k($,u);else throw new Error("illegalState - setting UNKNOWN service instance")}l($){const u=this.f.get($);return!u&&this.h?this.h.l($):u}m($,u){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String($));const p=this.l($);return p instanceof O.$5h?this.q($,p,u.branch($,!0)):(u.branch($,!1),p)}q($,u,p){if(this.o.has($))throw new Error(`illegal state - RECURSIVELY instantiating service '${$}'`);this.o.add($);try{return this.r($,u,p)}finally{this.o.delete($)}}r($,u,p){const d=new j.$Xq(n=>n.id.toString());let l=0;const f=[{id:$,desc:u,_trace:p}];for(;f.length;){const n=f.pop();if(d.lookupOrInsertNode(n),l++>1e3)throw new S(d);for(const r of k._util.getServiceDependencies(n.desc.ctor)){const t=this.l(r.id);if(t||this.u(`[createInstance] ${$} depends on ${r.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(n.id),String(r.id)),t instanceof O.$5h){const i={id:r.id,desc:t,_trace:n._trace.branch(r.id,!0)};d.insertEdge(n,i),f.push(i)}}}for(;;){const n=d.roots();if(n.length===0){if(!d.isEmpty())throw new S(d);break}for(const{data:r}of n){if(this.l(r.id)instanceof O.$5h){const i=this.s(r.id,r.desc.ctor,r.desc.staticArguments,r.desc.supportsDelayedInstantiation,r._trace);this.k(r.id,i)}d.removeNode(r)}}return this.l($)}s($,u,p=[],d,l){if(this.f.get($)instanceof O.$5h)return this.t($,u,p,d,l);if(this.h)return this.h.s($,u,p,d,l);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}t($,u,p=[],d,l){if(d){const f=new b(void 0,this.g,this,this.i);f.c=String($);const n=new Map,r=new A.$oh(()=>{const t=f.j(u,p,l);for(const[i,s]of n){const c=t[i];if(typeof c=="function")for(const a of s)a.disposable=c.apply(t,a.listener)}return n.clear(),t});return new Proxy(Object.create(null),{get(t,i){if(!r.isInitialized&&typeof i=="string"&&(i.startsWith("onDid")||i.startsWith("onWill"))){let a=n.get(i);return a||(a=new o.$4c,n.set(i,a)),(w,P,N)=>{if(r.isInitialized)return r.value[i](w,P,N);{const L={listener:[w,P,N],disposable:void 0},J=a.push(L);return(0,D.$Rc)(()=>{J(),L.disposable?.dispose()})}}}if(i in t)return t[i];const s=r.value;let c=s[i];return typeof c!="function"||(c=c.bind(s),t[i]=c),c},set(t,i,s){return r.value[i]=s,!0},getPrototypeOf(t){return u.prototype}})}else return this.j(u,p,l)}u($,u){if(u&&console.warn($),this.g)throw new Error($)}}e.$Yq=b;var m;(function(I){I[I.None=0]="None",I[I.Creation=1]="Creation",I[I.Invocation=2]="Invocation",I[I.Branch=3]="Branch"})(m||(m={}));class E{static{this.all=new Set}static{this.c=new class extends E{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation($,u){return $?new E(2,u.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):E.c}static traceCreation($,u){return $?new E(1,u.name):E.c}static{this.f=0}constructor($,u){this.type=$,this.name=u,this.g=Date.now(),this.h=[]}branch($,u){const p=new E(3,$.toString());return this.h.push([$,u,p]),p}stop(){const $=Date.now()-this.g;E.f+=$;let u=!1;function p(l,f){const n=[],r=new Array(l+1).join("	");for(const[t,i,s]of f.h)if(i&&s){u=!0,n.push(`${r}CREATES -> ${t}`);const c=p(l+1,s);c&&n.push(c)}else n.push(`${r}uses -> ${t}`);return n.join(`
`)}const d=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${p(1,this)}`,`DONE, took ${$.toFixed(2)}ms (grand total ${E.f.toFixed(2)}ms)`];($>2||u)&&E.all.add(d.join(`
`))}}e.$Zq=E});var oe=this&&this.__param||function(K,e){return function(A,R){e(A,R,K)}};define(ae[64],ce([0,1,20,2,13,105,21,10]),function(K,e,A,R,D,O,j,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Er=e.$Dr=e.$Cr=void 0;function h(v){return v.tags.find(S=>S.startsWith("lp-"))?.split("lp-")[1]}e.$Cr=h,e.$Dr=(0,k.$8h)("languagePackService");let o=class extends R.$Tc{constructor(S){super(),this.c=S}async getAvailableLanguages(){const S=new A.$7d;setTimeout(()=>S.cancel(),1e3);let b;try{b=await this.c.query({text:'category:"language packs"',pageSize:20},S.token)}catch{return[]}const E=b.firstPage.filter(I=>I.properties.localizedLanguages?.length&&I.tags.some($=>$.startsWith("lp-"))).map(I=>{const $=I.properties.localizedLanguages?.[0],u=h(I);return{...this.f(u,$,I),extensionId:I.identifier.id,galleryExtension:I}});return E.push(this.f("en","English")),E}f(S,b,m){const E=b??S;let I;if(E!==S&&(I=`(${S})`),S.toLowerCase()===D.$w.toLowerCase()&&(I??="",I+=(0,O.localize)(0,null)),m?.installCount){I??="";const $=m.installCount;let u;$>1e6?u=`${Math.floor($/1e5)/10}M`:$>1e3?u=`${Math.floor($/1e3)}K`:u=String($),I+=` $(cloud-download) ${u}`}return{id:S,label:E,description:I}}};e.$Er=o,e.$Er=o=ve([oe(0,j.$Jo)],o)}),define(ae[4],ce([0,1,34,6,43,2,31,13,17,3,11,120,10]),function(K,e,A,R,D,O,j,k,h,o,v,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hj=e.$Gj=e.$Fj=e.$Ej=e.$Dj=e.$Cj=e.$Bj=e.$Aj=e.$zj=e.$yj=e.$xj=e.$wj=e.$vj=e.log=e.$tj=e.LogLevel=e.$sj=e.$rj=e.$qj=void 0,e.$qj=(0,b.$8h)("logService"),e.$rj=(0,b.$8h)("loggerService");function m(){return new Date().toISOString()}function E(w){return(0,o.$Of)(w)}e.$sj=E;var I;(function(w){w[w.Off=0]="Off",w[w.Trace=1]="Trace",w[w.Debug=2]="Debug",w[w.Info=3]="Info",w[w.Warning=4]="Warning",w[w.Error=5]="Error"})(I||(e.LogLevel=I={})),e.$tj=I.Info;function $(w,P,N){switch(P){case I.Trace:w.trace(N);break;case I.Debug:w.debug(N);break;case I.Info:w.info(N);break;case I.Warning:w.warn(N);break;case I.Error:w.error(N);break;case I.Off:break;default:throw new Error(`Invalid log level ${P}`)}}e.log=$;function u(w,P=!1){let N="";for(let L=0;L<w.length;L++){let J=w[L];if(J instanceof Error&&(J=(0,A.$Si)(J,P)),typeof J=="object")try{J=JSON.stringify(J)}catch{}N+=(L>0?" ":"")+J}return N}class p extends O.$Tc{constructor(){super(...arguments),this.b=e.$tj,this.c=this.D(new R.$Wd),this.onDidChangeLogLevel=this.c.event}setLevel(P){this.b!==P&&(this.b=P,this.c.fire(this.b))}getLevel(){return this.b}f(P){return this.b!==I.Off&&this.b<=P}}e.$vj=p;class d extends p{constructor(P){super(),this.h=P}f(P){return this.h||super.f(P)}trace(P,...N){this.f(I.Trace)&&this.g(I.Trace,u([P,...N],!0))}debug(P,...N){this.f(I.Debug)&&this.g(I.Debug,u([P,...N]))}info(P,...N){this.f(I.Info)&&this.g(I.Info,u([P,...N]))}warn(P,...N){this.f(I.Warning)&&this.g(I.Warning,u([P,...N]))}error(P,...N){if(this.f(I.Error))if(P instanceof Error){const L=Array.prototype.slice.call(arguments);L[0]=P.stack,this.g(I.Error,u(L))}else this.g(I.Error,u([P,...N]))}flush(){}}e.$wj=d;class l extends p{constructor(P=e.$tj){super(),this.setLevel(P),this.g=!k.$i}trace(P,...N){this.f(I.Trace)&&(this.g?console.log(`\x1B[90m[main ${m()}]\x1B[0m`,P,...N):console.log(`[main ${m()}]`,P,...N))}debug(P,...N){this.f(I.Debug)&&(this.g?console.log(`\x1B[90m[main ${m()}]\x1B[0m`,P,...N):console.log(`[main ${m()}]`,P,...N))}info(P,...N){this.f(I.Info)&&(this.g?console.log(`\x1B[90m[main ${m()}]\x1B[0m`,P,...N):console.log(`[main ${m()}]`,P,...N))}warn(P,...N){this.f(I.Warning)&&(this.g?console.warn(`\x1B[93m[main ${m()}]\x1B[0m`,P,...N):console.warn(`[main ${m()}]`,P,...N))}error(P,...N){this.f(I.Error)&&(this.g?console.error(`\x1B[91m[main ${m()}]\x1B[0m`,P,...N):console.error(`[main ${m()}]`,P,...N))}flush(){}}e.$xj=l;class f extends p{constructor(P=e.$tj,N=!0){super(),this.g=N,this.setLevel(P)}trace(P,...N){this.f(I.Trace)&&(this.g?console.log("%cTRACE","color: #888",P,...N):console.log(P,...N))}debug(P,...N){this.f(I.Debug)&&(this.g?console.log("%cDEBUG","background: #eee; color: #888",P,...N):console.log(P,...N))}info(P,...N){this.f(I.Info)&&(this.g?console.log("%c INFO","color: #33f",P,...N):console.log(P,...N))}warn(P,...N){this.f(I.Warning)&&(this.g?console.log("%c WARN","color: #993",P,...N):console.log(P,...N))}error(P,...N){this.f(I.Error)&&(this.g?console.log("%c  ERR","color: #f33",P,...N):console.error(P,...N))}flush(){}}e.$yj=f;class n extends p{constructor(P,N=e.$tj){super(),this.g=P,this.setLevel(N)}trace(P,...N){this.f(I.Trace)&&this.g.log(I.Trace,[this.h(P),...N])}debug(P,...N){this.f(I.Debug)&&this.g.log(I.Debug,[this.h(P),...N])}info(P,...N){this.f(I.Info)&&this.g.log(I.Info,[this.h(P),...N])}warn(P,...N){this.f(I.Warning)&&this.g.log(I.Warning,[this.h(P),...N])}error(P,...N){this.f(I.Error)&&this.g.log(I.Error,[this.h(P),...N])}h(P){return typeof P=="string"?P:(0,A.$Si)(P,this.f(I.Trace))}flush(){}}e.$zj=n;class r extends p{constructor(P){super(),this.g=P,P.length&&this.setLevel(P[0].getLevel())}setLevel(P){for(const N of this.g)N.setLevel(P);super.setLevel(P)}trace(P,...N){for(const L of this.g)L.trace(P,...N)}debug(P,...N){for(const L of this.g)L.debug(P,...N)}info(P,...N){for(const L of this.g)L.info(P,...N)}warn(P,...N){for(const L of this.g)L.warn(P,...N)}error(P,...N){for(const L of this.g)L.error(P,...N)}flush(){for(const P of this.g)P.flush()}dispose(){for(const P of this.g)P.dispose();super.dispose()}}e.$Aj=r;class t extends O.$Tc{constructor(P,N,L){if(super(),this.h=P,this.j=N,this.b=new j.$Ac,this.c=this.D(new R.$Wd),this.onDidChangeLoggers=this.c.event,this.f=this.D(new R.$Wd),this.onDidChangeLogLevel=this.f.event,this.g=this.D(new R.$Wd),this.onDidChangeVisibility=this.g.event,L)for(const J of L)this.b.set(J.resource,{logger:void 0,info:J})}m(P){return(0,o.$Kf)(P)?[...this.b.values()].find(N=>N.info.id===P):this.b.get(P)}getLogger(P){return this.m(P)?.logger}createLogger(P,N){const L=this.n(P),J=(0,o.$Kf)(P)?P:N?.id??(0,D.$Vi)(L.toString()).toString(16);let ne=this.b.get(L)?.logger;const pe=N?.logLevel==="always"?I.Trace:N?.logLevel;ne||(ne=this.q(L,pe??this.getLogLevel(L)??this.h,{...N,id:J}));const ie={logger:ne,info:{resource:L,id:J,logLevel:pe,name:N?.name,hidden:N?.hidden,extensionId:N?.extensionId,when:N?.when}};return this.registerLogger(ie.info),this.b.set(L,ie),ne}n(P){return(0,o.$Kf)(P)?(0,h.$Jg)(this.j,`${P}.log`):P}setLogLevel(P,N){if(v.URI.isUri(P)){const L=P,J=N,ne=this.b.get(L);ne&&J!==ne.info.logLevel&&(ne.info.logLevel=J===this.h?void 0:J,ne.logger?.setLevel(J),this.b.set(ne.info.resource,ne),this.f.fire([L,J]))}else{this.h=P;for(const[L,J]of this.b.entries())this.b.get(L)?.info.logLevel===void 0&&J.logger?.setLevel(this.h);this.f.fire(this.h)}}setVisibility(P,N){const L=this.m(P);L&&N!==!L.info.hidden&&(L.info.hidden=!N,this.b.set(L.info.resource,L),this.g.fire([L.info.resource,N]))}getLogLevel(P){let N;return P&&(N=this.b.get(P)?.info.logLevel),N??this.h}registerLogger(P){const N=this.b.get(P.resource);N?N.info.hidden!==P.hidden&&this.setVisibility(P.resource,!P.hidden):(this.b.set(P.resource,{info:P,logger:void 0}),this.c.fire({added:[P],removed:[]}))}deregisterLogger(P){const N=this.b.get(P);N&&(N.logger&&N.logger.dispose(),this.b.delete(P),this.c.fire({added:[],removed:[N.info]}))}*getRegisteredLoggers(){for(const P of this.b.values())yield P.info}getRegisteredLogger(P){return this.b.get(P)?.info}dispose(){this.b.forEach(P=>P.logger?.dispose()),this.b.clear(),super.dispose()}}e.$Bj=t;class i{constructor(){this.onDidChangeLogLevel=new R.$Wd().event}setLevel(P){}getLevel(){return I.Info}trace(P,...N){}debug(P,...N){}info(P,...N){}warn(P,...N){}error(P,...N){}critical(P,...N){}dispose(){}flush(){}}e.$Cj=i;class s extends i{}e.$Dj=s;function c(w){if(w.verbose)return I.Trace;if(typeof w.logLevel=="string"){const P=y(w.logLevel.toLowerCase());if(P!==void 0)return P}return e.$tj}e.$Ej=c;function a(w){switch(w){case I.Trace:return"trace";case I.Debug:return"debug";case I.Info:return"info";case I.Warning:return"warn";case I.Error:return"error";case I.Off:return"off"}}e.$Fj=a;function y(w){switch(w){case"trace":return I.Trace;case"debug":return I.Debug;case"info":return I.Info;case"warn":return I.Warning;case"error":return I.Error;case"critical":return I.Error;case"off":return I.Off}}e.$Gj=y,e.$Hj=new S.$nj("logLevel",a(I.Info))}),define(ae[65],ce([0,1,9,10,4]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1p=e.$Zp=void 0,e.$Zp=(0,R.$8h)("IExtensionSignatureVerificationService");let O=class{constructor(k){this.b=k}c(){return this.a||(this.a=new Promise((k,h)=>K(["node-vsce-sign"],async o=>k(o),h))),this.a}async verify(k,h,o){let v;try{v=await this.c()}catch(S){return this.b.error("Could not load vsce-sign module",(0,A.$0)(S)),!1}return v.verify(k,h,o)}};e.$1p=O,e.$1p=O=ve([oe(0,D.$qj)],O)}),define(ae[125],ce([0,1,19,8,9,6,2,15,62,4]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fq=void 0;class v extends j.$Tc{constructor(b,m){super(),this.a=b,this.b=m,this.c=this.D(new O.$Wd),this.onDidChangeFile=this.c.event,this.g=this.D(new O.$Wd),this.onDidWatchError=this.g.event,this.j=[],this.m=this.D(new R.$6g(0)),this.u=[],this.w=this.D(new R.$6g(0))}watch(b,m){return m.recursive||this.b?.watcher?.forceUniversal?this.n(b,m):this.y(b,m)}n(b,m){const E={path:this.H(b),excludes:m.excludes,includes:m.includes,recursive:m.recursive,correlationId:m.correlationId},I=(0,A.$Ub)(this.j,E);return this.q(),(0,j.$Rc)(()=>{I(),this.q()})}q(){this.m.trigger(()=>this.r()).catch(b=>(0,D.$1)(b))}r(){this.h||(this.h=this.D(this.s(m=>this.c.fire((0,h.$Bq)(m)),m=>this.G(m),this.a.getLevel()===o.LogLevel.Trace)),this.D(this.a.onDidChangeLogLevel(()=>{this.h?.setVerboseLogging(this.a.getLevel()===o.LogLevel.Trace)})));const b=this.b?.watcher?.recursive?.usePolling;if(b===!0)for(const m of this.j)(0,h.$xq)(m)&&(m.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);else if(Array.isArray(b))for(const m of this.j)(0,h.$xq)(m)&&b.includes(m.path)&&(m.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);return this.h.watch(this.j)}y(b,m){const E={path:this.H(b),excludes:m.excludes,includes:m.includes,recursive:!1,correlationId:m.correlationId},I=(0,A.$Ub)(this.u,E);return this.z(),(0,j.$Rc)(()=>{I(),this.z()})}z(){this.w.trigger(()=>this.C()).catch(b=>(0,D.$1)(b))}C(){return this.t||(this.t=this.D(this.F(b=>this.c.fire((0,h.$Bq)(b)),b=>this.G(b),this.a.getLevel()===o.LogLevel.Trace)),this.D(this.a.onDidChangeLogLevel(()=>{this.t?.setVerboseLogging(this.a.getLevel()===o.LogLevel.Trace)}))),this.t.watch(this.u)}G(b){b.type==="error"&&this.g.fire(b.message),this.a[b.type](b.message)}H(b){return(0,k.$hc)(b.fsPath)}}e.$Fq=v}),define(ae[126],ce([0,1,19,8,14,20,6,43,66,2,48,16,127,17,46,102,12,61,4,9]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.$wq=void 0;let f=class extends o.$Tc{static{l=this}constructor(r){super(),this.b=r,this.a=256*1024,this.c=this.D(new j.$Wd),this.onDidChangeFileSystemProviderRegistrations=this.c.event,this.f=this.D(new j.$Wd),this.onWillActivateFileSystemProvider=this.f.event,this.g=this.D(new j.$Wd),this.onDidChangeFileSystemProviderCapabilities=this.g.event,this.h=new Map,this.q=this.D(new j.$Wd),this.onDidRunOperation=this.q.event,this.X=this.D(new j.$Wd),this.Y=this.D(new j.$Wd),this.onDidFilesChange=this.Y.event,this.Z=this.D(new j.$Wd),this.onDidWatchError=this.Z.event,this.$=new Map,this.cb=this.D(new R.$eh)}registerProvider(r,t){if(this.h.has(r))throw new Error(`A filesystem provider for the scheme '${r}' is already registered.`);(0,b.mark)(`code/registerFilesystem/${r}`);const i=new o.$Sc;return this.h.set(r,t),this.c.fire({added:!0,scheme:r,provider:t}),i.add(t.onDidChangeFile(s=>{const c=new $.$Pk(s,!this.S(t));this.X.fire(c),c.hasCorrelation()||this.Y.fire(c)})),typeof t.onDidWatchError=="function"&&i.add(t.onDidWatchError(s=>this.Z.fire(new Error(s)))),i.add(t.onDidChangeCapabilities(()=>this.g.fire({provider:t,scheme:r}))),(0,o.$Rc)(()=>{this.c.fire({added:!1,scheme:r,provider:t}),this.h.delete(r),(0,o.$Oc)(i)})}getProvider(r){return this.h.get(r)}async activateProvider(r){const t=[];this.f.fire({scheme:r,join(i){t.push(i)}}),!this.h.has(r)&&await R.Promises.settled(t)}async canHandleResource(r){return await this.activateProvider(r.scheme),this.hasProvider(r)}hasProvider(r){return this.h.has(r.scheme)}hasCapability(r,t){const i=this.h.get(r.scheme);return!!(i&&i.capabilities&t)}listCapabilities(){return h.Iterable.map(this.h,([r,t])=>({scheme:r,capabilities:t.capabilities}))}async j(r){if(!(0,m.$Ng)(r))throw new $.$Rk((0,I.localize)(0,null,this.sb(r)),8);await this.activateProvider(r.scheme);const t=this.h.get(r.scheme);if(!t){const i=new d.$bb;throw i.message=(0,I.localize)(1,null,r.toString()),i}return t}async m(r){const t=await this.j(r);if((0,$.$Ck)(t)||(0,$.$zk)(t)||(0,$.$Dk)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async n(r){const t=await this.j(r);if((0,$.$Ck)(t)||(0,$.$zk)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(r,t){try{return await this.r(r,t)}catch(i){throw(0,$.$Mk)(i)===$.FileSystemProviderErrorCode.FileNotFound?new $.$Rk((0,I.localize)(2,null,this.sb(r)),1):(0,$.$Kk)(i)}}async r(r,t){const i=await this.j(r),s=this.S(i),c=t?.resolveTo,a=t?.resolveSingleChildDescendants,y=t?.resolveMetadata,w=await i.stat(r);let P;return this.s(i,r,w,void 0,!!y,(N,L)=>(P||(P=v.$bi.forUris(()=>!s),P.set(r,!0),c&&P.fill(!0,c)),P.get(N.resource)||P.findSuperstr(N.resource.with({query:null,fragment:null}))?!0:N.isDirectory&&a?L===1:!1))}async s(r,t,i,s,c,a){const{providerExtUri:y}=this.R(r),w={resource:t,name:y.basename(t),isFile:(i.type&$.FileType.File)!==0,isDirectory:(i.type&$.FileType.Directory)!==0,isSymbolicLink:(i.type&$.FileType.SymbolicLink)!==0,mtime:i.mtime,ctime:i.ctime,size:i.size,readonly:!!((i.permissions??0)&$.FilePermission.Readonly)||!!(r.capabilities&2048),locked:!!((i.permissions??0)&$.FilePermission.Locked),etag:(0,$.$3k)({mtime:i.mtime,size:i.size}),children:void 0};if(w.isDirectory&&a(w,s)){try{const P=await r.readdir(t),N=await R.Promises.settled(P.map(async([L,J])=>{try{const ne=y.joinPath(t,L),pe=c?await r.stat(ne):{type:J};return await this.s(r,ne,pe,P.length,c,a)}catch(ne){return this.b.trace(ne),null}}));w.children=(0,A.$Hb)(N)}catch(P){this.b.trace(P),w.children=[]}return w}return w}async resolveAll(r){return R.Promises.settled(r.map(async t=>{try{return{stat:await this.r(t.resource,t.options),success:!0}}catch(i){return this.b.trace(i),{stat:void 0,success:!1}}}))}async stat(r){const t=await this.j(r),i=await t.stat(r);return this.s(t,r,i,void 0,!0,()=>!1)}async exists(r){const t=await this.j(r);try{return!!await t.stat(r)}catch{return!1}}async canCreateFile(r,t){try{await this.t(r,t)}catch(i){return i}return!0}async t(r,t){if(!t?.overwrite&&await this.exists(r))throw new $.$Rk((0,I.localize)(3,null,this.sb(r)),3,t)}async createFile(r,t=D.$ke.fromString(""),i){await this.t(r,i);const s=await this.writeFile(r,t);return this.q.fire(new $.$Ok(r,0,s)),s}async writeFile(r,t,i){const s=this.qb(await this.n(r),r),{providerExtUri:c}=this.R(s);let a=i;if((0,$.$Fk)(s)&&!a?.atomic){const y=s.enforceAtomicWriteFile?.(r);y&&(a={...i,atomic:y})}try{await this.u(s,r,a)||await this.U(s,c.dirname(r));let w;if((0,$.$zk)(s)&&!(t instanceof D.$ke))if((0,E.$9d)(t)){const P=await(0,E.$de)(t,3);P.ended?w=D.$ke.concat(P.buffer):w=P}else w=(0,E.$ae)(t,P=>D.$ke.concat(P),3);else w=t;!(0,$.$Ck)(s)||(0,$.$zk)(s)&&w instanceof D.$ke||(0,$.$zk)(s)&&(0,$.$Fk)(s)&&a?.atomic?await this.hb(s,r,a,w):await this.db(s,r,a,w instanceof D.$ke?(0,D.$ve)(w):w),this.q.fire(new $.$Ok(r,4))}catch(y){throw new $.$Rk((0,I.localize)(4,null,this.sb(r),(0,$.$Kk)(y).toString()),(0,$.$Nk)(y),a)}return this.resolve(r,{resolveMetadata:!0})}async u(r,t,i){const s=!!i?.unlock;if(s&&!(r.capabilities&8192))throw new Error((0,I.localize)(5,null,this.sb(t)));if(!!i?.atomic){if(!(r.capabilities&32768))throw new Error((0,I.localize)(6,null,this.sb(t)));if(!(r.capabilities&2))throw new Error((0,I.localize)(7,null,this.sb(t)));if(s)throw new Error((0,I.localize)(8,null,this.sb(t)))}let a;try{a=await r.stat(t)}catch{return}if(a.type&$.FileType.Directory)throw new $.$Rk((0,I.localize)(9,null,this.sb(t)),0,i);if(this.rb(t,a),typeof i?.mtime=="number"&&typeof i.etag=="string"&&i.etag!==$.$2k&&typeof a.mtime=="number"&&typeof a.size=="number"&&i.mtime<a.mtime&&i.etag!==(0,$.$3k)({mtime:i.mtime,size:a.size}))throw new $.$Rk((0,I.localize)(10,null),3,i);return a}async readFile(r,t,i){const s=await this.m(r);return t?.atomic?this.w(s,r,t,i):this.z(s,r,t,i)}async w(r,t,i,s){return new Promise((c,a)=>{this.cb.queueFor(t,async()=>{try{const y=await this.z(r,t,i,s);c(y)}catch(y){a(y)}},this.R(r).providerExtUri)})}async z(r,t,i,s){const c=await this.C(r,t,{...i,preferUnbuffered:!0},s);return{...c,value:await(0,D.$we)(c.value)}}async readFileStream(r,t,i){const s=await this.m(r);return this.C(s,r,t,i)}async C(r,t,i,s){const c=new O.$7d(s);let a=i;(0,$.$Ek)(r)&&r.enforceAtomicReadFile?.(t)&&(a={...i,atomic:!0});const y=this.J(t,a).then(P=>P,P=>{throw c.dispose(!0),P});let w;try{return typeof a?.etag=="string"&&a.etag!==$.$2k&&await y,a?.atomic&&(0,$.$Ek)(r)||!((0,$.$Ck)(r)||(0,$.$Dk)(r))||(0,$.$zk)(r)&&a?.preferUnbuffered?w=this.I(r,t,a):(0,$.$Dk)(r)?w=this.G(r,t,c.token,a):w=this.H(r,t,c.token,a),w.on("end",()=>c.dispose()),w.on("error",()=>c.dispose()),{...await y,value:w}}catch(P){throw w&&await(0,E.$be)(w),this.F(P,t,a)}}F(r,t,i){const s=(0,I.localize)(11,null,this.sb(t),(0,$.$Kk)(r).toString());return r instanceof $.$Tk?new $.$Tk(s,r.stat,i):r instanceof $.$Sk?new $.$Sk(s,r.fileOperationResult,r.size,r.options):new $.$Rk(s,(0,$.$Nk)(r),i)}G(r,t,i,s=Object.create(null)){const c=r.readFileStream(t,s,i);return(0,E.$he)(c,{data:a=>a instanceof D.$ke?a:D.$ke.wrap(a),error:a=>this.F(a,t,s)},a=>D.$ke.concat(a))}H(r,t,i,s=Object.create(null)){const c=(0,D.$Ae)();return(0,u.$vq)(r,t,c,a=>a,{...s,bufferSize:this.a,errorTransformer:a=>this.F(a,t,s)},i),c}I(r,t,i){const s=(0,E.$$d)(c=>D.$ke.concat(c));return(async()=>{try{let c;i?.atomic&&(0,$.$Ek)(r)?c=await r.readFile(t,{atomic:!0}):c=await r.readFile(t),typeof i?.position=="number"&&(c=c.slice(i.position)),typeof i?.length=="number"&&(c=c.slice(0,i.length)),this.L(t,c.byteLength,i),s.end(D.$ke.wrap(c))}catch(c){s.error(c),s.end()}})(),s}async J(r,t){const i=await this.resolve(r,{resolveMetadata:!0});if(i.isDirectory)throw new $.$Rk((0,I.localize)(12,null,this.sb(r)),0,t);if(typeof t?.etag=="string"&&t.etag!==$.$2k&&t.etag===i.etag)throw new $.$Tk((0,I.localize)(13,null),i,t);return this.L(r,i.size,t),i}L(r,t,i){if(typeof i?.limits?.size=="number"&&t>i.limits.size)throw new $.$Sk((0,I.localize)(14,null,this.sb(r)),7,t,i)}async canMove(r,t,i){return this.M(r,t,"move",i)}async canCopy(r,t,i){return this.M(r,t,"copy",i)}async M(r,t,i,s){if(r.toString()!==t.toString())try{const c=i==="move"?this.qb(await this.n(r),r):await this.m(r),a=this.qb(await this.n(t),t);await this.Q(c,r,a,t,i,s)}catch(c){return c}return!0}async move(r,t,i){const s=this.qb(await this.n(r),r),c=this.qb(await this.n(t),t),a=await this.N(s,r,c,t,"move",!!i),y=await this.resolve(t,{resolveMetadata:!0});return this.q.fire(new $.$Ok(r,a==="move"?2:3,y)),y}async copy(r,t,i){const s=await this.m(r),c=this.qb(await this.n(t),t),a=await this.N(s,r,c,t,"copy",!!i),y=await this.resolve(t,{resolveMetadata:!0});return this.q.fire(new $.$Ok(r,a==="copy"?3:2,y)),y}async N(r,t,i,s,c,a){if(t.toString()===s.toString())return c;const{exists:y,isSameResourceWithDifferentPathCase:w}=await this.Q(r,t,i,s,c,a);if(y&&!w&&a&&await this.del(s,{recursive:!0}),await this.U(i,this.R(i).providerExtUri.dirname(s)),c==="copy"){if(r===i&&(0,$.$Ak)(r))await r.copy(t,s,{overwrite:a});else{const P=await this.resolve(t);P.isDirectory?await this.P(r,P,i,s):await this.O(r,t,i,s)}return c}else return r===i?(await r.rename(t,s,{overwrite:a}),c):(await this.N(r,t,i,s,"copy",a),await this.del(t,{recursive:!0}),"copy")}async O(r,t,i,s){if((0,$.$Ck)(r)&&(0,$.$Ck)(i))return this.jb(r,t,i,s);if((0,$.$Ck)(r)&&(0,$.$zk)(i))return this.pb(r,t,i,s);if((0,$.$zk)(r)&&(0,$.$Ck)(i))return this.nb(r,t,i,s);if((0,$.$zk)(r)&&(0,$.$zk)(i))return this.lb(r,t,i,s)}async P(r,t,i,s){await i.mkdir(s),Array.isArray(t.children)&&await R.Promises.settled(t.children.map(async c=>{const a=this.R(i).providerExtUri.joinPath(s,c.name);return c.isDirectory?this.P(r,await this.resolve(c.resource),i,a):this.O(r,c.resource,i,a)}))}async Q(r,t,i,s,c,a){let y=!1;if(r===i){const{providerExtUri:P,isPathCaseSensitive:N}=this.R(r);if(N||(y=P.isEqual(t,s)),y&&c==="copy")throw new Error((0,I.localize)(15,null,this.sb(t),this.sb(s)));if(!y&&P.isEqualOrParent(s,t))throw new Error((0,I.localize)(16,null,this.sb(t),this.sb(s)))}const w=await this.exists(s);if(w&&!y){if(!a)throw new $.$Rk((0,I.localize)(17,null,this.sb(t),this.sb(s)),4);if(r===i){const{providerExtUri:P}=this.R(r);if(P.isEqualOrParent(t,s))throw new Error((0,I.localize)(18,null,this.sb(t),this.sb(s)))}}return{exists:w,isSameResourceWithDifferentPathCase:y}}R(r){const t=this.S(r);return{providerExtUri:t?m.$zg:m.$Bg,isPathCaseSensitive:t}}S(r){return!!(r.capabilities&1024)}async createFolder(r){const t=this.qb(await this.j(r),r);await this.U(t,r);const i=await this.resolve(r,{resolveMetadata:!0});return this.q.fire(new $.$Ok(r,0,i)),i}async U(r,t){const i=[],{providerExtUri:s}=this.R(r);for(;!s.isEqual(t,s.dirname(t));)try{if(!((await r.stat(t)).type&$.FileType.Directory))throw new Error((0,I.localize)(19,null,this.sb(t)));break}catch(c){if((0,$.$Mk)(c)!==$.FileSystemProviderErrorCode.FileNotFound)throw c;i.push(s.basename(t)),t=s.dirname(t)}for(let c=i.length-1;c>=0;c--){t=s.joinPath(t,i[c]);try{await r.mkdir(t)}catch(a){if((0,$.$Mk)(a)!==$.FileSystemProviderErrorCode.FileExists)throw a}}}async canDelete(r,t){try{await this.W(r,t)}catch(i){return i}return!0}async W(r,t){const i=this.qb(await this.j(r),r),s=!!t?.useTrash;if(s&&!(i.capabilities&4096))throw new Error((0,I.localize)(20,null,this.sb(r)));const c=t?.atomic;if(c&&!(i.capabilities&65536))throw new Error((0,I.localize)(21,null,this.sb(r)));if(s&&c)throw new Error((0,I.localize)(22,null,this.sb(r)));let a;try{a=await i.stat(r)}catch{}if(a)this.rb(r,a);else throw new $.$Rk((0,I.localize)(23,null,this.sb(r)),1);if(!!!t?.recursive){const w=await this.resolve(r);if(w.isDirectory&&Array.isArray(w.children)&&w.children.length>0)throw new Error((0,I.localize)(24,null,this.sb(r)))}return i}async del(r,t){const i=await this.W(r,t);let s=t;if((0,$.$Gk)(i)&&!s?.atomic){const w=i.enforceAtomicDelete?.(r);w&&(s={...t,atomic:w})}const c=!!s?.useTrash,a=!!s?.recursive,y=s?.atomic??!1;await i.delete(r,{recursive:a,useTrash:c,atomic:y}),this.q.fire(new $.$Ok(r,1))}async cloneFile(r,t){const i=await this.j(r),s=this.qb(await this.n(t),t);if(!(i===s&&this.R(i).providerExtUri.isEqual(r,t)))return i===s&&(0,$.$Bk)(i)?i.cloneFile(r,t):(await this.U(s,this.R(s).providerExtUri.dirname(t)),i===s&&(0,$.$Ak)(i)?this.cb.queueFor(r,()=>i.copy(r,t,{overwrite:!0}),this.R(i).providerExtUri):this.cb.queueFor(r,()=>this.O(i,r,s,t),this.R(i).providerExtUri))}static{this.ab=0}createWatcher(r,t){return this.watch(r,{...t,correlationId:l.ab++})}watch(r,t={recursive:!1,excludes:[]}){const i=new o.$Sc;let s=!1,c=()=>{s=!0};i.add((0,o.$Rc)(()=>c())),(async()=>{try{const y=await this.bb(r,t);s?(0,o.$Oc)(y):c=()=>(0,o.$Oc)(y)}catch(y){this.b.error(y)}})();const a=t.correlationId;if(typeof a=="number"){const y=i.add(new j.$Wd);return i.add(this.X.event(P=>{P.correlates(a)&&y.fire(P)})),{onDidChange:y.event,dispose:()=>i.dispose()}}return i}async bb(r,t){const i=await this.j(r),s=(0,k.$Vi)([this.R(i).providerExtUri.getComparisonKey(r),t]);let c=this.$.get(s);return c||(c={count:0,disposable:i.watch(r,t)},this.$.set(s,c)),c.count+=1,(0,o.$Rc)(()=>{c&&(c.count--,c.count===0&&((0,o.$Oc)(c.disposable),this.$.delete(s)))})}dispose(){super.dispose();for(const[,r]of this.$)(0,o.$Oc)(r.disposable);this.$.clear()}async db(r,t,i,s){return this.cb.queueFor(t,async()=>{const c=await r.open(t,{create:!0,unlock:i?.unlock??!1});try{(0,E.$9d)(s)||(0,E.$0d)(s)?await this.eb(r,c,s):await this.fb(r,c,s)}catch(a){throw(0,$.$Kk)(a)}finally{await r.close(c)}},this.R(r).providerExtUri)}async eb(r,t,i){let s=0,c;if((0,E.$0d)(i)){if(i.buffer.length>0){const a=D.$ke.concat(i.buffer);await this.gb(r,t,a,a.byteLength,s,0),s+=a.byteLength}if(i.ended)return;c=i.stream}else c=i;return new Promise((a,y)=>{(0,E.$ce)(c,{onData:async w=>{c.pause();try{await this.gb(r,t,w,w.byteLength,s,0)}catch(P){return y(P)}s+=w.byteLength,setTimeout(()=>c.resume())},onError:w=>y(w),onEnd:()=>a()})})}async fb(r,t,i){let s=0,c;for(;(c=i.read())!==null;)await this.gb(r,t,c,c.byteLength,s,0),s+=c.byteLength}async gb(r,t,i,s,c,a){let y=0;for(;y<s;){const w=await r.write(t,c+y,i.buffer,a+y,s-y);y+=w}}async hb(r,t,i,s){return this.cb.queueFor(t,()=>this.ib(r,t,i,s),this.R(r).providerExtUri)}async ib(r,t,i,s){let c;s instanceof D.$ke?c=s:(0,E.$9d)(s)?c=await(0,D.$we)(s):(0,E.$0d)(s)?c=await(0,D.$xe)(s):c=(0,D.$ue)(s),await r.writeFile(t,c.buffer,{create:!0,overwrite:!0,unlock:i?.unlock??!1,atomic:i?.atomic??!1})}async jb(r,t,i,s){return this.cb.queueFor(s,()=>this.kb(r,t,i,s),this.R(i).providerExtUri)}async kb(r,t,i,s){let c,a;try{c=await r.open(t,{create:!1}),a=await i.open(s,{create:!0,unlock:!1});const y=D.$ke.alloc(this.a);let w=0,P=0,N=0;do N=await r.read(c,w,y.buffer,P,y.byteLength-P),await this.gb(i,a,y,N,w,P),w+=N,P+=N,P===y.byteLength&&(P=0);while(N>0)}catch(y){throw(0,$.$Kk)(y)}finally{await R.Promises.settled([typeof c=="number"?r.close(c):Promise.resolve(),typeof a=="number"?i.close(a):Promise.resolve()])}}async lb(r,t,i,s){return this.cb.queueFor(s,()=>this.mb(r,t,i,s),this.R(i).providerExtUri)}async mb(r,t,i,s){return i.writeFile(s,await r.readFile(t),{create:!0,overwrite:!0,unlock:!1,atomic:!1})}async nb(r,t,i,s){return this.cb.queueFor(s,()=>this.ob(r,t,i,s),this.R(i).providerExtUri)}async ob(r,t,i,s){const c=await i.open(s,{create:!0,unlock:!1});try{const a=await r.readFile(t);await this.gb(i,c,D.$ke.wrap(a),a.byteLength,0,0)}catch(a){throw(0,$.$Kk)(a)}finally{await i.close(c)}}async pb(r,t,i,s){const c=await(0,D.$we)(this.H(r,t,O.CancellationToken.None));await this.hb(i,s,void 0,c)}qb(r,t){if(r.capabilities&2048)throw new $.$Rk((0,I.localize)(25,null,this.sb(t)),6);return r}rb(r,t){if((t.permissions??0)&$.FilePermission.Readonly)throw new $.$Rk((0,I.localize)(26,null,this.sb(r)),6)}sb(r){return r.scheme===S.Schemas.file?r.fsPath:r.toString(!0)}};e.$wq=f,e.$wq=f=l=ve([oe(0,p.$qj)],f)}),define(ae[128],ce([0,1,90,170,8,31,14,6,171,2,15,13,17,46,25,104,12,61,125,34,123,122]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vq=void 0,(()=>{try{(0,R.gracefulify)(A)}catch(r){console.error(`Error enabling graceful-fs: ${(0,d.$Si)(r)}`)}})();class n extends p.$Fq{static{this.I=!1}constructor(t,i){super(t,i),this.onDidChangeCapabilities=k.Event.None,this.N=new O.$Ac(s=>b.$Ag.getComparisonKey(s)),this.U=new Map,this.W=new Map,this.X=new Map}get capabilities(){return this.J||(this.J=253982,S.$k&&(this.J|=1024)),this.J}async stat(t){try{const{stat:i,symbolicLink:s}=await E.SymlinkSupport.stat(this.H(t));return{type:this.M(i,s),ctime:i.birthtime.getTime(),mtime:i.mtime.getTime(),size:i.size,permissions:i.mode&128?void 0:$.FilePermission.Locked}}catch(i){throw this.fb(i)}}async L(t){try{return await this.stat(t)}catch{return}}async readdir(t){try{const i=await E.Promises.readdir(this.H(t),{withFileTypes:!0}),s=[];return await Promise.all(i.map(async c=>{try{let a;c.isSymbolicLink()?a=(await this.stat((0,b.$Jg)(t,c.name))).type:a=this.M(c),s.push([c.name,a])}catch(a){this.a.trace(a)}})),s}catch(i){throw this.fb(i)}}M(t,i){let s;return i?.dangling?s=$.FileType.Unknown:t.isFile()?s=$.FileType.File:t.isDirectory()?s=$.FileType.Directory:s=$.FileType.Unknown,i&&(s|=$.FileType.SymbolicLink),s}async O(t){const i=this.H(t);this.P(`[Disk FileSystemProvider]: createResourceLock() - request to acquire resource lock (${i})`);let s;for(;s=this.N.get(t);)this.P(`[Disk FileSystemProvider]: createResourceLock() - waiting for resource lock to be released (${i})`),await s.wait();const c=new D.$7g;return this.N.set(t,c),this.P(`[Disk FileSystemProvider]: createResourceLock() - new resource lock created (${i})`),(0,o.$Rc)(()=>{this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock dispose() (${i})`),this.N.get(t)===c&&(this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock removed from resource-lock map (${i})`),this.N.delete(t)),this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock barrier open() (${i})`),c.open()})}async readFile(t,i){let s;try{i?.atomic&&(this.P(`[Disk FileSystemProvider]: atomic read operation started (${this.H(t)})`),s=await this.O(t));const c=this.H(t);return await E.Promises.readFile(c)}catch(c){throw this.fb(c)}finally{s?.dispose()}}P(t){n.I&&this.a.trace(t)}readFileStream(t,i,s){const c=(0,m.$$d)(a=>j.$ke.concat(a.map(y=>j.$ke.wrap(y))).buffer);return(0,u.$vq)(this,t,c,a=>a.buffer,{...i,bufferSize:256*1024},s),c}async writeFile(t,i,s){return s?.atomic!==!1&&s?.atomic?.postfix&&await this.Q(t)?this.R(t,(0,b.$Jg)((0,b.$Ig)(t),`${(0,b.$Gg)(t)}${s.atomic.postfix}`),i,s):this.S(t,i,s)}async Q(t){try{const i=this.H(t),{symbolicLink:s}=await E.SymlinkSupport.stat(i);if(s)return!1}catch{}return!0}async R(t,i,s,c){const a=new o.$Sc;try{a.add(await this.O(t)),a.add(await this.O(i)),await this.S(i,s,c,!0);try{await this.rename(i,t,{overwrite:!0})}catch(y){try{await this.delete(i,{recursive:!1,useTrash:!1,atomic:!1})}catch{}throw y}}finally{a.dispose()}}async S(t,i,s,c){let a;try{const y=this.H(t);if(!s.create||!s.overwrite){if(await E.Promises.exists(y)){if(!s.overwrite)throw(0,$.$Jk)((0,I.localize)(0,null),$.FileSystemProviderErrorCode.FileExists)}else if(!s.create)throw(0,$.$Jk)((0,I.localize)(1,null),$.FileSystemProviderErrorCode.FileNotFound)}a=await this.open(t,{create:!0,unlock:s.unlock},c),await this.write(a,0,i,0,i.byteLength)}catch(y){throw await this.gb(t,y)}finally{typeof a=="number"&&await this.close(a)}}static{this.Y=!0}static configureFlushOnWrite(t){n.Y=t}async open(t,i,s){const c=this.H(t);let a;(0,$.$xk)(i)&&!s&&(a=await this.O(t));let y;try{if((0,$.$xk)(i)&&i.unlock)try{const{stat:P}=await E.SymlinkSupport.stat(c);P.mode&128||await E.Promises.chmod(c,P.mode|128)}catch(P){P.code!=="ENOENT"&&this.a.trace(P)}let w;if((0,$.$xk)(i)){if(S.$i)try{await E.Promises.truncate(c,0),w="r+"}catch(P){P.code!=="ENOENT"&&this.a.trace(P)}w||(w="w")}else w="r";y=await E.Promises.open(c,w)}catch(w){throw a?.dispose(),(0,$.$xk)(i)?await this.gb(t,w):this.fb(w)}if(this.U.set(y,0),(0,$.$xk)(i)&&this.X.set(y,t),a){const w=this.W.get(y);this.P(`[Disk FileSystemProvider]: open() - storing lock for handle ${y} (${c})`),this.W.set(y,a),w&&(this.P(`[Disk FileSystemProvider]: open() - disposing a previous lock that was still stored on same handle ${y} (${c})`),w.dispose())}return y}async close(t){const i=this.W.get(t);try{if(this.U.delete(t),this.X.delete(t)&&n.Y)try{await E.Promises.fdatasync(t)}catch(s){n.configureFlushOnWrite(!1),this.a.error(s)}return await E.Promises.close(t)}catch(s){throw this.fb(s)}finally{i&&(this.W.get(t)===i&&(this.P(`[Disk FileSystemProvider]: close() - resource lock removed from handle-lock map ${t}`),this.W.delete(t)),this.P(`[Disk FileSystemProvider]: close() - disposing lock for handle ${t}`),i.dispose())}}async read(t,i,s,c,a){const y=this.Z(t,i);let w=null;try{w=(await E.Promises.read(t,s,c,a,y)).bytesRead}catch(P){throw this.fb(P)}finally{this.$(t,y,w)}return w}Z(t,i){return i===this.U.get(t)?null:i}$(t,i,s){const c=this.U.get(t);typeof c=="number"&&(typeof i=="number"||(typeof s=="number"?this.U.set(t,c+s):this.U.delete(t)))}async write(t,i,s,c,a){return(0,D.$ph)(()=>this.ab(t,i,s,c,a),100,3)}async ab(t,i,s,c,a){const y=this.Z(t,i);let w=null;try{w=(await E.Promises.write(t,s,c,a,y)).bytesWritten}catch(P){throw await this.gb(this.X.get(t),P)}finally{this.$(t,y,w)}return w}async mkdir(t){try{await E.Promises.mkdir(this.H(t))}catch(i){throw this.fb(i)}}async delete(t,i){try{const s=this.H(t);if(i.recursive){let c;i?.atomic!==!1&&i.atomic.postfix&&(c=(0,v.$jc)((0,v.$mc)(s),`${(0,v.$nc)(s)}${i.atomic.postfix}`)),await E.Promises.rm(s,E.RimRafMode.MOVE,c)}else try{await E.Promises.unlink(s)}catch(c){if(c.code==="EPERM"||c.code==="EISDIR"){let a=!1;try{const{stat:y,symbolicLink:w}=await E.SymlinkSupport.stat(s);a=y.isDirectory()&&!w}catch{}if(a)await E.Promises.rmdir(s);else throw c}else throw c}}catch(s){throw this.fb(s)}}async rename(t,i,s){const c=this.H(t),a=this.H(i);if(c!==a)try{await this.bb(t,i,"move",s.overwrite),await E.Promises.rename(c,a)}catch(y){throw(y.code==="EINVAL"||y.code==="EBUSY"||y.code==="ENAMETOOLONG")&&(y=new Error((0,I.localize)(2,null,(0,v.$nc)(c),(0,v.$nc)((0,v.$mc)(a)),y.toString()))),this.fb(y)}}async copy(t,i,s){const c=this.H(t),a=this.H(i);if(c!==a)try{await this.bb(t,i,"copy",s.overwrite),await E.Promises.copy(c,a,{preserveSymlinks:!0})}catch(y){throw(y.code==="EINVAL"||y.code==="EBUSY"||y.code==="ENAMETOOLONG")&&(y=new Error((0,I.localize)(3,null,(0,v.$nc)(c),(0,v.$nc)((0,v.$mc)(a)),y.toString()))),this.fb(y)}}async bb(t,i,s,c){const a=this.H(t),y=this.H(i);let w=!1;if(!!(this.capabilities&1024)||(w=(0,h.$9f)(a,y,!0)),w){if(s==="copy")throw(0,$.$Jk)((0,I.localize)(4,null),$.FileSystemProviderErrorCode.FileExists);if(s==="move")return}const N=await this.L(t);if(!N)throw(0,$.$Jk)((0,I.localize)(5,null),$.FileSystemProviderErrorCode.FileNotFound);const L=await this.L(i);if(L){if(!c)throw(0,$.$Jk)((0,I.localize)(6,null),$.FileSystemProviderErrorCode.FileExists);N.type&$.FileType.File&&L.type&$.FileType.File||await this.delete(i,{recursive:!0,useTrash:!1,atomic:!1})}}async cloneFile(t,i){return this.cb(t,i,!1)}async cb(t,i,s){const c=this.H(t),a=this.H(i),y=!!(this.capabilities&1024);if((0,h.$9f)(c,a,!y))return;const w=new o.$Sc;try{w.add(await this.O(t)),w.add(await this.O(i)),s&&await E.Promises.mkdir((0,v.$mc)(a),{recursive:!0}),await E.Promises.copyFile(c,a)}catch(P){if(P.code==="ENOENT"&&!s)return this.cb(t,i,!0);throw this.fb(P)}finally{w.dispose()}}s(t,i,s){return new l.$Mq(c=>t(c),c=>i(c),s)}F(t,i,s){return new f.$Uq(c=>t(c),c=>i(c),s)}fb(t){if(t instanceof $.$Ik)return t;let i=t,s;switch(t.code){case"ENOENT":s=$.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":s=$.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":s=$.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":s=$.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":s=$.FileSystemProviderErrorCode.NoPermissions;break;case"ERR_UNC_HOST_NOT_ALLOWED":i=`${t.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`,s=$.FileSystemProviderErrorCode.Unknown;break;default:s=$.FileSystemProviderErrorCode.Unknown}return(0,$.$Jk)(i,s)}async gb(t,i){let s=this.fb(i);if(t&&s.code===$.FileSystemProviderErrorCode.NoPermissions)try{const{stat:c}=await E.SymlinkSupport.stat(this.H(t));c.mode&128||(s=(0,$.$Jk)(i,$.FileSystemProviderErrorCode.FileWriteLocked))}catch(c){this.a.trace(c)}return s}}e.$Vq=n}),define(ae[129],ce([0,1,2,4]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$E4=void 0;class D extends A.$Tc{constructor(j,k=[]){super(),this.a=new R.$Aj([j,...k]),this.D(j.onDidChangeLogLevel(h=>this.setLevel(h)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(j){this.a.setLevel(j)}getLevel(){return this.a.getLevel()}trace(j,...k){this.a.trace(j,...k)}debug(j,...k){this.a.debug(j,...k)}info(j,...k){this.a.info(j,...k)}warn(j,...k){this.a.warn(j,...k)}error(j,...k){this.a.error(j,...k)}flush(){this.a.flush()}}e.$E4=D}),define(ae[130],ce([0,1,12,4]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$t4=void 0;var D;(function(o){o[o.Trace=0]="Trace",o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",o[o.Off=6]="Off"})(D||(D={}));async function O(o,v,S,b,m){try{const E=await new Promise(($,u)=>{K(["@vscode/spdlog"],$,u)});E.setFlushOn(D.Trace);const I=await E.createAsyncRotatingLogger(o,v,S,b);return m?I.clearFormatters():I.setPattern("%Y-%m-%d %H:%M:%S.%e [%l] %v"),I}catch(E){console.error(E)}return null}function j(o,v,S){switch(v){case R.LogLevel.Trace:o.trace(S);break;case R.LogLevel.Debug:o.debug(S);break;case R.LogLevel.Info:o.info(S);break;case R.LogLevel.Warning:o.warn(S);break;case R.LogLevel.Error:o.error(S);break;case R.LogLevel.Off:break;default:throw new Error(`Invalid log level ${v}`)}}function k(o,v){switch(v){case R.LogLevel.Trace:o.setLevel(D.Trace);break;case R.LogLevel.Debug:o.setLevel(D.Debug);break;case R.LogLevel.Info:o.setLevel(D.Info);break;case R.LogLevel.Warning:o.setLevel(D.Warning);break;case R.LogLevel.Error:o.setLevel(D.Error);break;case R.LogLevel.Off:o.setLevel(D.Off);break;default:throw new Error(`Invalid log level ${v}`)}}class h extends R.$wj{constructor(v,S,b,m,E){super(),this.m=[],this.setLevel(E),this.n=this.r(v,S,b,m),this.D(this.onDidChangeLogLevel(I=>{this.q&&k(this.q,I)}))}async r(v,S,b,m){const E=b?6:1,I=30/E*A.$5k.MB,$=await O(v,S,I,E,m);if($){this.q=$,k(this.q,this.getLevel());for(const{level:u,message:p}of this.m)j(this.q,u,p);this.m=[]}}g(v,S){this.q?j(this.q,v,S):this.getLevel()<=v&&this.m.push({level:v,message:S})}flush(){this.q?this.q.flush():this.n.then(()=>this.flush())}dispose(){this.q?this.t():this.n.then(()=>this.t()),super.dispose()}t(){this.q&&(this.q.drop(),this.q=void 0)}}e.$t4=h}),define(ae[131],ce([0,1,24,4,130]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$u4=void 0;class O extends R.$Bj{q(k,h,o){return new D.$t4((0,A.$sg)(),k.fsPath,!o?.donotRotate,!!o?.donotUseFormatters,h)}}e.$u4=O}),define(ae[40],ce([0,1,6,66,2,10]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Un=e.$Tn=e.$Sn=void 0,e.$Sn=(0,O.$8h)("policy");class j extends D.$Tc{constructor(){super(...arguments),this.f={},this.g=new Map,this.h=this.D(new A.$Wd),this.onDidChange=this.h.event}async updatePolicyDefinitions(o){const v=Object.keys(this.f).length;return this.f={...o,...this.f},v!==Object.keys(this.f).length&&await this.j(o),R.Iterable.reduce(this.g.entries(),(S,[b,m])=>({...S,[b]:m}),{})}getPolicyValue(o){return this.g.get(o)}serialize(){return R.Iterable.reduce(Object.entries(this.f),(o,[v,S])=>({...o,[v]:{definition:S,value:this.g.get(v)}}),{})}}e.$Tn=j;class k{constructor(){this.onDidChange=A.Event.None}async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}}e.$Un=k}),define(ae[132],ce([0,1,8,6,66,3,12,4,40]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$OQc=void 0;function o(S,b){const m=[];for(const E of new Set(D.Iterable.concat(S.keys(),b.keys())))S.get(E)!==b.get(E)&&m.push(E);return m}let v=class extends h.$Tn{constructor(b,m,E){super(),this.m=b,this.n=m,this.q=E,this.c=this.D(new A.$6g(500));const I=R.Event.filter(m.onDidFilesChange,$=>$.affects(b));this.D(m.watch(b)),this.D(I(()=>this.c.trigger(()=>this.u())))}async j(){await this.u()}async t(){const b=new Map;try{const m=await this.n.readFile(this.m),E=JSON.parse(m.value.toString());if(!(0,O.$Mf)(E))throw new Error("Policy file isn't a JSON object");for(const I of Object.keys(E))this.f[I]&&b.set(I,E[I])}catch(m){m.fileOperationResult!==1&&this.q.error("[FilePolicyService] Failed to read policies",m)}return b}async u(){const b=await this.t(),m=o(this.g,b);this.g=b,m.length>0&&this.h.fire(m)}};e.$OQc=v,e.$OQc=v=ve([oe(1,j.$wk),oe(2,k.$qj)],v)}),define(ae[133],ce([0,1,40,8,2,4]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$NQc=void 0;let j=class extends A.$Tn{constructor(h,o){super(),this.m=h,this.n=o,this.a=new R.$2g,this.b=this.D(new D.$Uc)}async j(h){this.m.trace(`NativePolicyService#_updatePolicyDefinitions - Found ${Object.keys(h).length} policy definitions`);const{createWatcher:o}=await new Promise((v,S)=>{K(["@vscode/policy-watcher"],v,S)});await this.a.queue(()=>new Promise((v,S)=>{try{this.b.value=o(this.n,h,b=>{this.s(b),v()})}catch(b){this.m.error("NativePolicyService#_updatePolicyDefinitions - Error creating watcher:",b),S(b)}}))}s(h){this.m.trace(`NativePolicyService#_onDidPolicyChange - Updated policy values: ${JSON.stringify(h)}`);for(const o in h){const v=h[o];v===void 0?this.g.delete(o):this.g.set(o,v)}this.h.fire(Object.keys(h))}};e.$NQc=j,e.$NQc=j=ve([oe(0,O.$qj)],j)}),define(ae[32],ce([0,1,11,10]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kj=e.$Jj=e.$Ij=void 0,e.$Ij=(0,R.$8h)("productService"),e.$Jj="vscode://schemas/vscode-product";function D(O,j){return A.URI.joinPath(O.userHome,j.dataFolderName,"shadow-workspaces")}e.$Kj=D}),define(ae[36],ce([0,1,72,3]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qn=void 0;class D{constructor(){this.a=new Map}add(j,k){A.ok(R.$Kf(j)),A.ok(R.$Mf(k)),A.ok(!this.a.has(j),"There is already an extension with this id"),this.a.set(j,k)}knows(j){return this.a.has(j)}as(j){return this.a.get(j)||null}}e.$Qn=new D}),define(ae[134],ce([0,1,6,36]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rn=void 0,e.$Rn={JSONContribution:"base.contributions.json"};function D(k){return k.length>0&&k.charAt(k.length-1)==="#"?k.substring(0,k.length-1):k}class O{constructor(){this.b=new A.$Wd,this.onDidChangeSchema=this.b.event,this.a={}}registerSchema(h,o){this.a[D(h)]=o,this.b.fire(h)}notifySchemaChanged(h){this.b.fire(h)}getSchemaContributions(){return{schemas:this.a}}}const j=new O;R.$Qn.add(e.$Rn.JSONContribution,j)}),define(ae[41],ce([0,1,19,6,3,91,28,134,36]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$n=e.$0n=e.$9n=e.$8n=e.$7n=e.$6n=e.$5n=e.$4n=e.$3n=e.$2n=e.$1n=e.$Zn=e.$Yn=e.$Xn=e.$Wn=e.ConfigurationScope=e.$Vn=e.EditPresentationTypes=void 0;var o;(function(f){f.Multiline="multilineText",f.Singleline="singlelineText"})(o||(e.EditPresentationTypes=o={})),e.$Vn={Configuration:"base.contributions.configuration"};var v;(function(f){f[f.APPLICATION=1]="APPLICATION",f[f.MACHINE=2]="MACHINE",f[f.WINDOW=3]="WINDOW",f[f.RESOURCE=4]="RESOURCE",f[f.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",f[f.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(v||(e.ConfigurationScope=v={})),e.$Wn={properties:{},patternProperties:{}},e.$Xn={properties:{},patternProperties:{}},e.$Yn={properties:{},patternProperties:{}},e.$Zn={properties:{},patternProperties:{}},e.$1n={properties:{},patternProperties:{}},e.$2n={properties:{},patternProperties:{}},e.$3n="vscode://schemas/settings/resourceLanguage",e.$4n="vscode://schemas/settings/configurationDefaults";const S=h.$Qn.as(k.$Rn.JSONContribution);class b{constructor(){this.h=new Set,this.i=new R.$Wd,this.onDidSchemaChange=this.i.event,this.j=new R.$Wd,this.onDidUpdateConfiguration=this.j.event,this.a=new Map,this.b={id:"defaultOverrides",title:O.localize(0,null),properties:{}},this.c=[this.b],this.g={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.d={},this.e=new Map,this.f={},S.registerSchema(e.$3n,this.g),this.v()}registerConfiguration(n,r=!0){this.registerConfigurations([n],r)}registerConfigurations(n,r=!0){const t=new Set;this.n(n,r,t),S.registerSchema(e.$3n,this.g),this.i.fire(),this.j.fire({properties:t})}deregisterConfigurations(n){const r=new Set;this.o(n,r),S.registerSchema(e.$3n,this.g),this.i.fire(),this.j.fire({properties:r})}updateConfigurations({add:n,remove:r}){const t=new Set;this.o(r,t),this.n(n,!1,t),S.registerSchema(e.$3n,this.g),this.i.fire(),this.j.fire({properties:t})}registerDefaultConfigurations(n){const r=new Set;this.k(n,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}k(n,r){const t=[];for(const{overrides:i,source:s}of n)for(const c in i)if(r.add(c),e.$6n.test(c)){const a=this.a.get(c),y=a?.valuesSources??new Map;if(s)for(const L of Object.keys(i[c]))y.set(L,s);const w={...a?.value||{},...i[c]};this.a.set(c,{source:s,value:w,valuesSources:y});const P=(0,j.$Li)(c),N={type:"object",default:w,description:O.localize(1,null,P),$ref:e.$3n,defaultDefaultValue:w,source:D.$Kf(s)?void 0:s,defaultValueSource:s};t.push(...I(c)),this.d[c]=N,this.b.properties[c]=N}else{this.a.set(c,{value:i[c],source:s});const a=this.d[c];a&&(this.w(c,a),this.r(c,a))}this.m(t)}deregisterDefaultConfigurations(n){const r=new Set;this.l(n,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}l(n,r){for(const{overrides:t,source:i}of n)for(const s in t){const c=this.a.get(s),a=D.$Kf(i)?i:i?.id,y=D.$Kf(c?.source)?c?.source:c?.source?.id;if(a===y)if(r.add(s),this.a.delete(s),e.$6n.test(s))delete this.d[s],delete this.b.properties[s];else{const w=this.d[s];w&&(this.w(s,w),this.r(s,w))}}this.u()}deltaConfiguration(n){let r=!1;const t=new Set;n.removedDefaults&&(this.l(n.removedDefaults,t),r=!0),n.addedDefaults&&(this.k(n.addedDefaults,t),r=!0),n.removedConfigurations&&this.o(n.removedConfigurations,t),n.addedConfigurations&&this.n(n.addedConfigurations,!1,t),this.i.fire(),this.j.fire({properties:t,defaultsOverrides:r})}notifyConfigurationSchemaUpdated(...n){this.i.fire()}registerOverrideIdentifiers(n){this.m(n),this.i.fire()}m(n){for(const r of n)this.h.add(r);this.u()}n(n,r,t){n.forEach(i=>{this.p(i,r,i.extensionInfo,i.restrictedProperties,void 0,t),this.c.push(i),this.q(i)})}o(n,r){const t=i=>{if(i.properties)for(const s in i.properties){r.add(s);const c=this.d[s];c?.policy?.name&&this.e.delete(c.policy.name),delete this.d[s],this.s(s,i.properties[s])}i.allOf?.forEach(s=>t(s))};for(const i of n){t(i);const s=this.c.indexOf(i);s!==-1&&this.c.splice(s,1)}}p(n,r=!0,t,i,s=3,c){s=D.$Tf(n.scope)?s:n.scope;const a=n.properties;if(a)for(const w in a){const P=a[w];if(r&&d(w,P)){delete a[w];continue}if(P.source=t,P.defaultDefaultValue=a[w].default,this.w(w,P),e.$6n.test(w)?P.scope=void 0:(P.scope=D.$Tf(P.scope)?s:P.scope,P.restricted=D.$Tf(P.restricted)?!!i?.includes(w):P.restricted),a[w].hasOwnProperty("included")&&!a[w].included){this.f[w]=a[w],delete a[w];continue}else this.d[w]=a[w],a[w].policy?.name&&this.e.set(a[w].policy.name,w);!a[w].deprecationMessage&&a[w].markdownDeprecationMessage&&(a[w].deprecationMessage=a[w].markdownDeprecationMessage),c.add(w)}const y=n.allOf;if(y)for(const w of y)this.p(w,r,t,i,s,c)}getConfigurations(){return this.c}getConfigurationProperties(){return this.d}getPolicyConfigurations(){return this.e}getExcludedConfigurationProperties(){return this.f}getConfigurationDefaultsOverrides(){return this.a}q(n){const r=t=>{const i=t.properties;if(i)for(const c in i)this.r(c,i[c]);t.allOf?.forEach(r)};r(n)}r(n,r){switch(e.$Wn.properties[n]=r,r.scope){case 1:e.$Xn.properties[n]=r;break;case 2:e.$Yn.properties[n]=r;break;case 6:e.$Zn.properties[n]=r;break;case 3:e.$1n.properties[n]=r;break;case 4:e.$2n.properties[n]=r;break;case 5:e.$2n.properties[n]=r,this.g.properties[n]=r;break}}s(n,r){switch(delete e.$Wn.properties[n],r.scope){case 1:delete e.$Xn.properties[n];break;case 2:delete e.$Yn.properties[n];break;case 6:delete e.$Zn.properties[n];break;case 3:delete e.$1n.properties[n];break;case 4:case 5:delete e.$2n.properties[n],delete this.g.properties[n];break}}u(){for(const n of this.h.values()){const r=`[${n}]`,t={type:"object",description:O.localize(2,null),errorMessage:O.localize(3,null),$ref:e.$3n};this.w(r,t),e.$Wn.properties[r]=t,e.$Xn.properties[r]=t,e.$Yn.properties[r]=t,e.$Zn.properties[r]=t,e.$1n.properties[r]=t,e.$2n.properties[r]=t}}v(){const n={type:"object",description:O.localize(4,null),errorMessage:O.localize(5,null),$ref:e.$3n};e.$Wn.patternProperties[e.$5n]=n,e.$Xn.patternProperties[e.$5n]=n,e.$Yn.patternProperties[e.$5n]=n,e.$Zn.patternProperties[e.$5n]=n,e.$1n.patternProperties[e.$5n]=n,e.$2n.patternProperties[e.$5n]=n,this.i.fire()}w(n,r){const t=this.a.get(n);let i=t?.value,s=t?.source;D.$Rf(i)&&(i=r.defaultDefaultValue,s=void 0),D.$Rf(i)&&(i=u(r.type)),r.default=i,r.defaultValueSource=s}}const m="\\[([^\\]]+)\\]",E=new RegExp(m,"g");e.$5n=`^(${m})+$`,e.$6n=new RegExp(e.$5n);function I(f){const n=[];if(e.$6n.test(f)){let r=E.exec(f);for(;r?.length;){const t=r[1].trim();t&&n.push(t),r=E.exec(f)}}return(0,A.$Mb)(n)}e.$7n=I;function $(f){return f.reduce((n,r)=>`${n}[${r}]`,"")}e.$8n=$;function u(f){switch(Array.isArray(f)?f[0]:f){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.$9n=u;const p=new b;h.$Qn.add(e.$Vn.Configuration,p);function d(f,n){return f.trim()?e.$6n.test(f)?O.localize(7,null,f):p.getConfigurationProperties()[f]!==void 0?O.localize(8,null,f):n.policy?.name&&p.getPolicyConfigurations().get(n.policy?.name)!==void 0?O.localize(9,null,f,n.policy?.name,p.getPolicyConfigurations().get(n.policy?.name)):null:O.localize(6,null)}e.$0n=d;function l(){const f=[],n=p.getConfigurationProperties();for(const r of Object.keys(n))f.push([r,n[r].scope]);return f.push(["launch",4]),f.push(["task",4]),f}e.$$n=l}),define(ae[67],ce([0,1,19,6,38,2,31,30,3,11,28,41,36]),function(K,e,A,R,D,O,j,k,h,o,v,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eo=e.$do=e.$co=e.$bo=e.$ao=e.$_n=void 0;function m(r){return Object.isFrozen(r)?r:k.$Fn(r)}class E{constructor(t={},i=[],s=[],c){this.b=t,this.c=i,this.d=s,this.raw=c,this.a=new Map}get rawConfiguration(){if(!this.f)if(this.raw?.length){const t=this.raw.map(i=>{if(i instanceof E)return i;const s=new I("");return s.parseRaw(i),s.configurationModel});this.f=t.reduce((i,s)=>s===i?s:i.merge(s),t[0])}else this.f=this;return this.f}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(t){return t?(0,v.$Ji)(this.contents,t):this.contents}inspect(t,i){const s=this.rawConfiguration.getValue(t),c=i?this.rawConfiguration.getOverrideValue(t,i):void 0,a=i?this.rawConfiguration.override(i).getValue(t):s;return{value:s,override:c,merged:a}}getOverrideValue(t,i){const s=this.i(i);return s?t?(0,v.$Ji)(s,t):s:void 0}getKeysForOverrideIdentifier(t){const i=[];for(const s of this.overrides)s.identifiers.includes(t)&&i.push(...s.keys);return A.$Mb(i)}getAllOverrideIdentifiers(){const t=[];for(const i of this.overrides)t.push(...i.identifiers);return A.$Mb(t)}override(t){let i=this.a.get(t);return i||(i=this.g(t),this.a.set(t,i)),i}merge(...t){const i=k.$En(this.contents),s=k.$En(this.overrides),c=[...this.keys],a=this.raw?.length?[...this.raw]:[this];for(const y of t)if(a.push(...y.raw?.length?y.raw:[y]),!y.isEmpty()){this.h(i,y.contents);for(const w of y.overrides){const[P]=s.filter(N=>A.$ub(N.identifiers,w.identifiers));P?(this.h(P.contents,w.contents),P.keys.push(...w.keys),P.keys=A.$Mb(P.keys)):s.push(k.$En(w))}for(const w of y.keys)c.indexOf(w)===-1&&c.push(w)}return new E(i,c,s,a.every(y=>y instanceof E)?void 0:a)}g(t){const i=this.i(t);if(!i||typeof i!="object"||!Object.keys(i).length)return this;const s={};for(const c of A.$Mb([...Object.keys(this.contents),...Object.keys(i)])){let a=this.contents[c];const y=i[c];y&&(typeof a=="object"&&typeof y=="object"?(a=k.$En(a),this.h(a,y)):a=y),s[c]=a}return new E(s,this.keys,this.overrides)}h(t,i){for(const s of Object.keys(i)){if(s in t&&h.$Mf(t[s])&&h.$Mf(i[s])){this.h(t[s],i[s]);continue}t[s]=k.$En(i[s])}}i(t){let i=null,s=null;const c=a=>{a&&(s?this.h(s,a):s=k.$En(a))};for(const a of this.overrides)a.identifiers.length===1&&a.identifiers[0]===t?i=a.contents:a.identifiers.includes(t)&&c(a.contents);return c(i),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,i){this.j(t,i,!0)}setValue(t,i){this.j(t,i,!1)}removeValue(t){const i=this.keys.indexOf(t);i!==-1&&(this.keys.splice(i,1),(0,v.$Ii)(this.contents,t),S.$6n.test(t)&&this.overrides.splice(this.overrides.findIndex(s=>A.$ub(s.identifiers,(0,S.$7n)(t))),1))}j(t,i,s){(0,v.$Hi)(this.contents,t,i,c=>console.error(c)),s=s||this.keys.indexOf(t)===-1,s&&this.keys.push(t),S.$6n.test(t)&&this.overrides.push({identifiers:(0,S.$7n)(t),keys:Object.keys(this.contents[t]),contents:(0,v.$Gi)(this.contents[t],c=>console.error(c))})}}e.$_n=E;class I{constructor(t){this.f=t,this.a=null,this.b=null,this.c=[],this.d=[]}get configurationModel(){return this.b||new E}get restrictedConfigurations(){return this.c}get errors(){return this.d}parse(t,i){if(!h.$Tf(t)){const s=this.g(t);this.parseRaw(s,i)}}reparse(t){this.a&&this.parseRaw(this.a,t)}parseRaw(t,i){this.a=t;const{contents:s,keys:c,overrides:a,restricted:y,hasExcludedProperties:w}=this.h(t,i);this.b=new E(s,c,a,w?[t]:void 0),this.c=y||[]}g(t){let i={},s=null,c=[];const a=[],y=[];function w(N){Array.isArray(c)?c.push(N):s!==null&&(c[s]=N)}const P={onObjectBegin:()=>{const N={};w(N),a.push(c),c=N,s=null},onObjectProperty:N=>{s=N},onObjectEnd:()=>{c=a.pop()},onArrayBegin:()=>{const N=[];w(N),a.push(c),c=N,s=null},onArrayEnd:()=>{c=a.pop()},onLiteralValue:w,onError:(N,L,J)=>{y.push({error:N,offset:L,length:J})}};if(t)try{D.$sn(t,P),i=c[0]||{}}catch(N){console.error(`Error while parsing settings file ${this.f}: ${N}`),this.d=[N]}return i}h(t,i){const s=b.$Qn.as(S.$Vn.Configuration).getConfigurationProperties(),c=this.i(t,s,!0,i);t=c.raw;const a=(0,v.$Gi)(t,P=>console.error(`Conflict in settings file ${this.f}: ${P}`)),y=Object.keys(t),w=this.j(t,P=>console.error(`Conflict in settings file ${this.f}: ${P}`));return{contents:a,keys:y,overrides:w,restricted:c.restricted,hasExcludedProperties:c.hasExcludedProperties}}i(t,i,s,c){let a=!1;if(!c?.scopes&&!c?.skipRestricted&&!c?.exclude?.length)return{raw:t,restricted:[],hasExcludedProperties:a};const y={},w=[];for(const P in t)if(S.$6n.test(P)&&s){const N=this.i(t[P],i,!1,c);y[P]=N.raw,a=a||N.hasExcludedProperties,w.push(...N.restricted)}else{const N=i[P],L=N?typeof N.scope<"u"?N.scope:3:void 0;N?.restricted&&w.push(P),!c.exclude?.includes(P)&&(c.include?.includes(P)||(L===void 0||c.scopes===void 0||c.scopes.includes(L))&&!(c.skipRestricted&&N?.restricted))?y[P]=t[P]:a=!0}return{raw:y,restricted:w,hasExcludedProperties:a}}j(t,i){const s=[];for(const c of Object.keys(t))if(S.$6n.test(c)){const a={};for(const y in t[c])a[y]=t[c][y];s.push({identifiers:(0,S.$7n)(c),keys:Object.keys(a),contents:(0,v.$Gi)(a,i)})}return s}}e.$ao=I;class $ extends O.$Tc{constructor(t,i,s,c){super(),this.c=t,this.f=i,this.g=c,this.b=this.D(new R.$Wd),this.onDidChange=this.b.event,this.a=new I(this.c.toString()),this.D(this.g.watch(s.dirname(this.c))),this.D(this.g.watch(this.c)),this.D(R.Event.any(R.Event.filter(this.g.onDidFilesChange,a=>a.contains(this.c)),R.Event.filter(this.g.onDidRunOperation,a=>(a.isOperation(0)||a.isOperation(3)||a.isOperation(1)||a.isOperation(4))&&s.isEqual(a.resource,t)))(()=>this.b.fire()))}async loadConfiguration(){try{const t=await this.g.readFile(this.c);return this.a.parse(t.value.toString()||"{}",this.f),this.a.configurationModel}catch{return new E}}reparse(t){return t&&(this.f=t),this.a.reparse(this.f),this.a.configurationModel}getRestrictedSettings(){return this.a.restrictedConfigurations}}e.$bo=$;class u{constructor(t,i,s,c,a,y,w,P,N,L,J,ne,pe){this.a=t,this.b=i,this.c=s,this.overrideIdentifiers=c,this.d=a,this.f=y,this.g=w,this.h=P,this.i=N,this.j=L,this.k=J,this.l=ne,this.m=pe}get value(){return m(this.c)}n(t,i,s){const c=t.inspect(i,s);return{get value(){return m(c.value)},get override(){return m(c.override)},get merged(){return m(c.merged)}}}get q(){return this.p||(this.p=this.n(this.d,this.a,this.b.overrideIdentifier)),this.p}get defaultValue(){return this.q.merged}get default(){return this.q.value!==void 0||this.q.override!==void 0?{value:this.q.value,override:this.q.override}:void 0}get s(){return this.r===void 0&&(this.r=this.f?this.n(this.f,this.a):null),this.r}get policyValue(){return this.s?.merged}get policy(){return this.s?.value!==void 0?{value:this.s.value}:void 0}get u(){return this.t===void 0&&(this.t=this.g?this.n(this.g,this.a):null),this.t}get applicationValue(){return this.u?.merged}get application(){return this.u?.value!==void 0||this.u?.override!==void 0?{value:this.u.value,override:this.u.override}:void 0}get w(){return this.v||(this.v=this.n(this.h,this.a,this.b.overrideIdentifier)),this.v}get userValue(){return this.w.merged}get user(){return this.w.value!==void 0||this.w.override!==void 0?{value:this.w.value,override:this.w.override}:void 0}get y(){return this.x||(this.x=this.n(this.i,this.a,this.b.overrideIdentifier)),this.x}get userLocalValue(){return this.y.merged}get userLocal(){return this.y.value!==void 0||this.y.override!==void 0?{value:this.y.value,override:this.y.override}:void 0}get A(){return this.z||(this.z=this.n(this.j,this.a,this.b.overrideIdentifier)),this.z}get userRemoteValue(){return this.A.merged}get userRemote(){return this.A.value!==void 0||this.A.override!==void 0?{value:this.A.value,override:this.A.override}:void 0}get D(){return this.B===void 0&&(this.B=this.k?this.n(this.k,this.a,this.b.overrideIdentifier):null),this.B}get workspaceValue(){return this.D?.merged}get workspace(){return this.D?.value!==void 0||this.D?.override!==void 0?{value:this.D.value,override:this.D.override}:void 0}get F(){return this.E===void 0&&(this.E=this.l?this.n(this.l,this.a,this.b.overrideIdentifier):null),this.E}get workspaceFolderValue(){return this.F?.merged}get workspaceFolder(){return this.F?.value!==void 0||this.F?.override!==void 0?{value:this.F.value,override:this.F.override}:void 0}get H(){return this.G===void 0&&(this.G=this.n(this.m,this.a,this.b.overrideIdentifier)),this.G}get memoryValue(){return this.H.merged}get memory(){return this.H.value!==void 0||this.H.override!==void 0?{value:this.H.value,override:this.H.override}:void 0}}class p{constructor(t,i,s,c,a=new E,y=new E,w=new j.$Ac,P=new E,N=new j.$Ac){this.c=t,this.d=i,this.f=s,this.g=c,this.h=a,this.i=y,this.j=w,this.l=P,this.m=N,this.a=null,this.b=new j.$Ac,this.n=null}getValue(t,i,s){return this.p(t,i,s).getValue(t)}updateValue(t,i,s={}){let c;s.resource?(c=this.m.get(s.resource),c||(c=new E,this.m.set(s.resource,c))):c=this.l,i===void 0?c.removeValue(t):c.setValue(t,i),s.resource||(this.a=null)}inspect(t,i,s){const c=this.p(t,i,s),a=this.t(i.resource,s),y=i.resource?this.m.get(i.resource)||this.l:this.l,w=new Set;for(const P of c.overrides)for(const N of P.identifiers)c.getOverrideValue(t,N)!==void 0&&w.add(N);return new u(t,i,c.getValue(t),w.size?[...w]:void 0,this.c,this.d.isEmpty()?void 0:this.d,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,s?this.i:void 0,a||void 0,y)}keys(t){const i=this.t(void 0,t);return{default:this.c.keys.slice(0),user:this.userConfiguration.keys.slice(0),workspace:this.i.keys.slice(0),workspaceFolder:i?i.keys.slice(0):[]}}updateDefaultConfiguration(t){this.c=t,this.a=null,this.b.clear()}updatePolicyConfiguration(t){this.d=t}updateApplicationConfiguration(t){this.f=t,this.a=null,this.b.clear()}updateLocalUserConfiguration(t){this.g=t,this.n=null,this.a=null,this.b.clear()}updateRemoteUserConfiguration(t){this.h=t,this.n=null,this.a=null,this.b.clear()}updateWorkspaceConfiguration(t){this.i=t,this.a=null,this.b.clear()}updateFolderConfiguration(t,i){this.j.set(t,i),this.b.delete(t)}deleteFolderConfiguration(t){this.folderConfigurations.delete(t),this.b.delete(t)}compareAndUpdateDefaultConfiguration(t,i){const s=[];if(!i){const{added:c,updated:a,removed:y}=f(this.c,t);i=[...c,...a,...y]}for(const c of i)for(const a of(0,S.$7n)(c)){const y=this.c.getKeysForOverrideIdentifier(a),w=t.getKeysForOverrideIdentifier(a),P=[...w.filter(N=>y.indexOf(N)===-1),...y.filter(N=>w.indexOf(N)===-1),...y.filter(N=>!k.$In(this.c.override(a).getValue(N),t.override(a).getValue(N)))];s.push([a,P])}return this.updateDefaultConfiguration(t),{keys:i,overrides:s}}compareAndUpdatePolicyConfiguration(t){const{added:i,updated:s,removed:c}=f(this.d,t),a=[...i,...s,...c];return a.length&&this.updatePolicyConfiguration(t),{keys:a,overrides:[]}}compareAndUpdateApplicationConfiguration(t){const{added:i,updated:s,removed:c,overrides:a}=f(this.applicationConfiguration,t),y=[...i,...s,...c];return y.length&&this.updateApplicationConfiguration(t),{keys:y,overrides:a}}compareAndUpdateLocalUserConfiguration(t){const{added:i,updated:s,removed:c,overrides:a}=f(this.localUserConfiguration,t),y=[...i,...s,...c];return y.length&&this.updateLocalUserConfiguration(t),{keys:y,overrides:a}}compareAndUpdateRemoteUserConfiguration(t){const{added:i,updated:s,removed:c,overrides:a}=f(this.remoteUserConfiguration,t),y=[...i,...s,...c];return y.length&&this.updateRemoteUserConfiguration(t),{keys:y,overrides:a}}compareAndUpdateWorkspaceConfiguration(t){const{added:i,updated:s,removed:c,overrides:a}=f(this.workspaceConfiguration,t),y=[...i,...s,...c];return y.length&&this.updateWorkspaceConfiguration(t),{keys:y,overrides:a}}compareAndUpdateFolderConfiguration(t,i){const s=this.folderConfigurations.get(t),{added:c,updated:a,removed:y,overrides:w}=f(s,i),P=[...c,...a,...y];return(P.length||!s)&&this.updateFolderConfiguration(t,i),{keys:P,overrides:w}}compareAndDeleteFolderConfiguration(t){const i=this.folderConfigurations.get(t);if(!i)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:s,updated:c,removed:a,overrides:y}=f(i,void 0);return{keys:[...s,...c,...a],overrides:y}}get defaults(){return this.c}get applicationConfiguration(){return this.f}get userConfiguration(){return this.n||(this.n=this.h.isEmpty()?this.g:this.g.merge(this.h)),this.n}get localUserConfiguration(){return this.g}get remoteUserConfiguration(){return this.h}get workspaceConfiguration(){return this.i}get folderConfigurations(){return this.j}p(t,i,s){let c=this.q(i,s);return i.overrideIdentifier&&(c=c.override(i.overrideIdentifier)),!this.d.isEmpty()&&this.d.getValue(t)!==void 0&&(c=c.merge(this.d)),c}q({resource:t},i){let s=this.r();if(i&&t){const c=i.getFolder(t);c&&(s=this.s(c.uri)||s);const a=this.m.get(t);a&&(s=s.merge(a))}return s}r(){return this.a||(this.a=this.c.merge(this.applicationConfiguration,this.userConfiguration,this.i,this.l)),this.a}s(t){let i=this.b.get(t);if(!i){const s=this.r(),c=this.j.get(t);c?(i=s.merge(c),this.b.set(t,i)):i=s}return i}t(t,i){if(i&&t){const s=i.getFolder(t);if(s)return this.j.get(s.uri)}}toData(){return{defaults:{contents:this.c.contents,overrides:this.c.overrides,keys:this.c.keys},policy:{contents:this.d.contents,overrides:this.d.overrides,keys:this.d.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.i.contents,overrides:this.i.overrides,keys:this.i.keys},folders:[...this.j.keys()].reduce((t,i)=>{const{contents:s,overrides:c,keys:a}=this.j.get(i);return t.push([i,{contents:s,overrides:c,keys:a}]),t},[])}}allKeys(){const t=new Set;return this.c.keys.forEach(i=>t.add(i)),this.userConfiguration.keys.forEach(i=>t.add(i)),this.i.keys.forEach(i=>t.add(i)),this.j.forEach(i=>i.keys.forEach(s=>t.add(s))),[...t.values()]}u(){const t=new Set;return this.c.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.userConfiguration.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.i.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.j.forEach(i=>i.getAllOverrideIdentifiers().forEach(s=>t.add(s))),[...t.values()]}v(t){const i=new Set;return this.c.getKeysForOverrideIdentifier(t).forEach(s=>i.add(s)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(s=>i.add(s)),this.i.getKeysForOverrideIdentifier(t).forEach(s=>i.add(s)),this.j.forEach(s=>s.getKeysForOverrideIdentifier(t).forEach(c=>i.add(c))),[...i.values()]}static parse(t){const i=this.w(t.defaults),s=this.w(t.policy),c=this.w(t.application),a=this.w(t.user),y=this.w(t.workspace),w=t.folders.reduce((P,N)=>(P.set(o.URI.revive(N[0]),this.w(N[1])),P),new j.$Ac);return new p(i,s,c,a,new E,y,w,new E,new j.$Ac)}static w(t){return new E(t.contents,t.keys,t.overrides)}}e.$co=p;function d(...r){if(r.length===0)return{keys:[],overrides:[]};if(r.length===1)return r[0];const t=new Set,i=new Map;for(const c of r)c.keys.forEach(a=>t.add(a)),c.overrides.forEach(([a,y])=>{const w=(0,j.$xc)(i,a,new Set);y.forEach(P=>w.add(P))});const s=[];return i.forEach((c,a)=>s.push([a,[...c.values()]])),{keys:[...t.values()],overrides:s}}e.$do=d;class l{constructor(t,i,s,c){this.change=t,this.f=i,this.g=s,this.h=c,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=".".charCodeAt(0),this.affectedKeys=new Set,this.i=void 0;for(const a of t.keys)this.affectedKeys.add(a);for(const[,a]of t.overrides)for(const y of a)this.affectedKeys.add(y);this.d=this.a;for(const a of this.affectedKeys)this.d+=a+this.a}get previousConfiguration(){return!this.i&&this.f&&(this.i=p.parse(this.f.data)),this.i}affectsConfiguration(t,i){const s=this.a+t,c=this.d.indexOf(s);if(c<0)return!1;const a=c+s.length;if(a>=this.d.length)return!1;const y=this.d.charCodeAt(a);if(y!==this.b&&y!==this.c)return!1;if(i){const w=this.previousConfiguration?this.previousConfiguration.getValue(t,i,this.f?.workspace):void 0,P=this.g.getValue(t,i,this.h);return!k.$In(w,P)}return!0}}e.$eo=l;function f(r,t){const{added:i,removed:s,updated:c}=n(t?.rawConfiguration,r?.rawConfiguration),a=[],y=r?.getAllOverrideIdentifiers()||[],w=t?.getAllOverrideIdentifiers()||[];if(t){const P=w.filter(N=>!y.includes(N));for(const N of P)a.push([N,t.getKeysForOverrideIdentifier(N)])}if(r){const P=y.filter(N=>!w.includes(N));for(const N of P)a.push([N,r.getKeysForOverrideIdentifier(N)])}if(t&&r){for(const P of y)if(w.includes(P)){const N=n({contents:r.getOverrideValue(void 0,P)||{},keys:r.getKeysForOverrideIdentifier(P)},{contents:t.getOverrideValue(void 0,P)||{},keys:t.getKeysForOverrideIdentifier(P)});a.push([P,[...N.added,...N.removed,...N.updated]])}}return{added:i,removed:s,updated:c,overrides:a}}function n(r,t){const i=r?t?r.keys.filter(a=>t.keys.indexOf(a)===-1):[...r.keys]:[],s=t?r?t.keys.filter(a=>r.keys.indexOf(a)===-1):[...t.keys]:[],c=[];if(r&&t){for(const a of t.keys)if(r.keys.indexOf(a)!==-1){const y=(0,v.$Ji)(t.contents,a),w=(0,v.$Ji)(r.contents,a);k.$In(y,w)||c.push(a)}}return{added:i,removed:s,updated:c}}}),define(ae[135],ce([0,1,19,6,2,30,3,67,41,4,40,36]),function(K,e,A,R,D,O,j,k,h,o,v,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ho=e.$go=e.$fo=void 0;class b extends D.$Tc{constructor(){super(...arguments),this.a=this.D(new R.$Wd),this.onDidChangeConfiguration=this.a.event,this.b=new k.$_n}get configurationModel(){return this.b}async initialize(){return this.g(),this.D(S.$Qn.as(h.$Vn.Configuration).onDidUpdateConfiguration(({properties:$,defaultsOverrides:u})=>this.c(Array.from($),u))),this.configurationModel}reload(){return this.g(),this.configurationModel}c($,u){this.h($,S.$Qn.as(h.$Vn.Configuration).getConfigurationProperties()),this.a.fire({defaults:this.configurationModel,properties:$})}f(){return{}}g(){this.b=new k.$_n;const $=S.$Qn.as(h.$Vn.Configuration).getConfigurationProperties();this.h(Object.keys($),$)}h($,u){const p=this.f();for(const d of $){const l=p[d],f=u[d];l!==void 0?this.b.addValue(d,l):f?this.b.addValue(d,f.default):this.b.removeValue(d)}}}e.$fo=b;class m{constructor(){this.onDidChangeConfiguration=R.Event.None,this.configurationModel=new k.$_n}async initialize(){return this.configurationModel}}e.$go=m;let E=class extends D.$Tc{get configurationModel(){return this.b}constructor($,u,p){super(),this.c=$,this.f=u,this.g=p,this.a=this.D(new R.$Wd),this.onDidChangeConfiguration=this.a.event,this.b=new k.$_n}async initialize(){return this.g.trace("PolicyConfiguration#initialize"),this.m(await this.h(this.c.configurationModel.keys),!1),this.D(this.f.onDidChange($=>this.j($))),this.D(this.c.onDidChangeConfiguration(async({properties:$})=>this.m(await this.h($),!0))),this.b}async h($){this.g.trace("PolicyConfiguration#updatePolicyDefinitions",$);const u={},p=[],d=S.$Qn.as(h.$Vn.Configuration).getConfigurationProperties();for(const l of $){const f=d[l];if(!f){p.push(l);continue}if(f.policy){if(f.type!=="string"&&f.type!=="number"){this.g.warn(`Policy ${f.policy.name} has unsupported type ${f.type}`);continue}p.push(l),u[f.policy.name]={type:f.type}}}return(0,j.$Xf)(u)||await this.f.updatePolicyDefinitions(u),p}j($){this.g.trace("PolicyConfiguration#onDidChangePolicies",$);const u=S.$Qn.as(h.$Vn.Configuration).getPolicyConfigurations(),p=(0,A.$Hb)($.map(d=>u.get(d)));this.m(p,!0)}m($,u){this.g.trace("PolicyConfiguration#update",$);const p=S.$Qn.as(h.$Vn.Configuration).getConfigurationProperties(),d=[],l=this.b.isEmpty();for(const f of $){const n=p[f]?.policy?.name;if(n){const r=this.f.getPolicyValue(n);(l?r!==void 0:!(0,O.$In)(this.b.getValue(f),r))&&d.push([f,r])}else this.b.getValue(f)!==void 0&&d.push([f,void 0])}if(d.length){this.g.trace("PolicyConfiguration#changed",d);const f=this.b;this.b=new k.$_n;for(const n of f.keys)this.b.setValue(n,f.getValue(n));for(const[n,r]of d)r===void 0?this.b.removeValue(n):this.b.setValue(n,r);u&&this.a.fire(this.b)}}};e.$ho=E,e.$ho=E=ve([oe(1,v.$Sn),oe(2,o.$qj)],E)}),define(ae[136],ce([0,1,19,8,14,6,38,74,2,30,13,17,28,67,41,135,40]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$io=void 0;class u extends h.$Tc{constructor(l,f,n,r){super(),this.m=l,this.h=this.D(new O.$Wd),this.onDidChangeConfiguration=this.h.event,this.b=this.D(new I.$fo),this.c=n instanceof $.$Un?new I.$go:this.D(new I.$ho(this.b,n,r)),this.f=this.D(new m.$bo(this.m,{},S.$Ag,f)),this.a=new m.$co(this.b.configurationModel,this.c.configurationModel,new m.$_n,new m.$_n),this.j=new p(l,f,this),this.g=this.D(new R.$hh(()=>this.reloadConfiguration(),50)),this.D(this.b.onDidChangeConfiguration(({defaults:t,properties:i})=>this.q(t,i))),this.D(this.c.onDidChangeConfiguration(t=>this.r(t))),this.D(this.f.onDidChange(()=>this.g.schedule()))}async initialize(){const[l,f,n]=await Promise.all([this.b.initialize(),this.c.initialize(),this.f.loadConfiguration()]);this.a=new m.$co(l,f,new m.$_n,n)}getConfigurationData(){return this.a.toData()}getValue(l,f){const n=typeof l=="string"?l:void 0,r=(0,b.$Ci)(l)?l:(0,b.$Ci)(f)?f:{};return this.a.getValue(n,r,void 0)}async updateValue(l,f,n,r,t){const i=(0,b.$Di)(n)?n:(0,b.$Ci)(n)?{resource:n.resource,overrideIdentifiers:n.overrideIdentifier?[n.overrideIdentifier]:void 0}:void 0,s=i?r:n;if(s!==void 0&&s!==3&&s!==2)throw new Error(`Unable to write ${l} to target ${s}.`);i?.overrideIdentifiers&&(i.overrideIdentifiers=(0,A.$Mb)(i.overrideIdentifiers),i.overrideIdentifiers=i.overrideIdentifiers.length?i.overrideIdentifiers:void 0);const c=this.inspect(l,{resource:i?.resource,overrideIdentifier:i?.overrideIdentifiers?i.overrideIdentifiers[0]:void 0});if(c.policyValue!==void 0)throw new Error(`Unable to write ${l} because it is configured in system policy.`);if((0,o.$In)(f,c.defaultValue)&&(f=void 0),i?.overrideIdentifiers?.length&&i.overrideIdentifiers.length>1){const y=i.overrideIdentifiers.sort(),w=this.a.localUserConfiguration.overrides.find(P=>(0,A.$ub)([...P.identifiers].sort(),y));w&&(i.overrideIdentifiers=w.identifiers)}const a=i?.overrideIdentifiers?.length?[(0,E.$8n)(i.overrideIdentifiers),l]:[l];await this.j.write(a,f),await this.reloadConfiguration()}inspect(l,f={}){return this.a.inspect(l,f,void 0)}keys(){return this.a.keys(void 0)}async reloadConfiguration(){const l=await this.f.loadConfiguration();this.n(l)}n(l){const f=this.a.toData(),n=this.a.compareAndUpdateLocalUserConfiguration(l);this.s(n,f,2)}q(l,f){const n=this.a.toData(),r=this.a.compareAndUpdateDefaultConfiguration(l,f);this.s(r,n,7)}r(l){const f=this.a.toData(),n=this.a.compareAndUpdatePolicyConfiguration(l);this.s(n,f,7)}s(l,f,n){const r=new m.$eo(l,{data:f},this.a);r.source=n,this.h.fire(r)}}e.$io=u;class p{constructor(l,f,n){this.b=l,this.c=f,this.d=n,this.a=new R.$ch}write(l,f){return this.a.queue(()=>this.e(l,f))}async e(l,f){let n;try{n=(await this.c.readFile(this.b)).value.toString()}catch(i){if(i.fileOperationResult===1)n="{}";else throw i}const r=[];if((0,j.$ln)(n,r,{allowTrailingComma:!0,allowEmptyContent:!0}),r.length>0)throw new Error("Unable to write into the settings file. Please open the file to correct errors/warnings in the file and try again.");const t=this.f(n,l,f);n=(0,k.$Dn)(n,t),await this.c.writeFile(this.b,D.$ke.fromString(n))}f(l,f,n){const{tabSize:r,insertSpaces:t,eol:i}=this.h;if(!f.length){const s=JSON.stringify(n,null,t?" ".repeat(r):"	");return[{content:s,length:s.length,offset:0}]}return(0,k.$An)(l,f,n,{tabSize:r,insertSpaces:t,eol:i})}get h(){if(!this.g){let l=v.OS===3||v.OS===2?`
`:`\r
`;const f=this.d.getValue("files.eol",{overrideIdentifier:"jsonc"});f&&typeof f=="string"&&f!=="auto"&&(l=f),this.g={eol:l,insertSpaces:!!this.d.getValue("editor.insertSpaces",{overrideIdentifier:"jsonc"}),tabSize:this.d.getValue("editor.tabSize",{overrideIdentifier:"jsonc"})}}return this.g}}}),define(ae[68],ce([0,1,16]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kl=e.$jl=e.$il=e.$hl=e.$gl=void 0;function R(o){return o.scheme===A.Schemas.vscodeRemote?o.authority:void 0}e.$gl=R;function D(o){if(!o)return;const v=o.indexOf("+");return v<0?o:o.substr(0,v)}e.$hl=D;function O(o){return`/${o.quality??"oss"}-${o.commit??"dev"}`}e.$il=O;function j(o){const{host:v,port:S}=h(o);if(typeof S>"u")throw new Error(`Invalid remote authority: ${o}. It must either be a remote of form <remoteName>+<arg> or a remote host of form <host>:<port>.`);return{host:v,port:S}}e.$jl=j;function k(o,v){let{host:S,port:b}=h(o);return typeof b>"u"&&(b=v),{host:S,port:b}}e.$kl=k;function h(o){const v=o.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(v)return{host:v[1],port:parseInt(v[2],10)};const S=o.match(/^(\[[0-9a-z:]+\])$/);if(S)return{host:S[1],port:void 0};const b=o.match(/(.*):(\d+)$/);return b?{host:b[1],port:parseInt(b[2],10)}:{host:o,port:void 0}}}),define(ae[37],ce([0,1,29,10,68]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Am=e.$zm=e.$ym=e.$xm=e.$wm=e.$vm=e.$um=e.$tm=e.TargetPlatform=e.ExtensionType=e.$sm=e.$rm=e.$qm=e.$pm=e.$om=e.$nm=void 0,e.$nm="extensions.user.cache",e.$om="extensions.builtin.cache",e.$pm="undefined_publisher",e.$qm=["ui","workspace","web"];function O(I){if(typeof I=="object"&&I!==null&&I.supported!==!0)return I.description}e.$rm=O,e.$sm=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var j;(function(I){I[I.System=0]="System",I[I.User=1]="User"})(j||(e.ExtensionType=j={}));var k;(function(I){I.WIN32_X64="win32-x64",I.WIN32_ARM64="win32-arm64",I.LINUX_X64="linux-x64",I.LINUX_ARM64="linux-arm64",I.LINUX_ARMHF="linux-armhf",I.ALPINE_X64="alpine-x64",I.ALPINE_ARM64="alpine-arm64",I.DARWIN_X64="darwin-x64",I.DARWIN_ARM64="darwin-arm64",I.WEB="web",I.UNIVERSAL="universal",I.UNKNOWN="unknown",I.UNDEFINED="undefined"})(k||(e.TargetPlatform=k={}));class h{constructor($){this.value=$,this._lower=$.toLowerCase()}static equals($,u){if(typeof $>"u"||$===null)return typeof u>"u"||u===null;if(typeof u>"u"||u===null)return!1;if(typeof $=="string"||typeof u=="string"){const p=typeof $=="string"?$:$.value,d=typeof u=="string"?u:u.value;return A.$bf(p,d)}return $._lower===u._lower}static toKey($){return typeof $=="string"?$.toLowerCase():$._lower}}e.$tm=h;class o{get size(){return this.c.size}constructor($){if(this.c=new Set,$)for(const u of $)this.add(u)}add($){this.c.add(h.toKey($))}delete($){return this.c.delete(h.toKey($))}has($){return this.c.has(h.toKey($))}}e.$um=o;class v{constructor(){this.c=new Map}clear(){this.c.clear()}delete($){this.c.delete(h.toKey($))}get($){return this.c.get(h.toKey($))}has($){return this.c.has(h.toKey($))}set($,u){this.c.set(h.toKey($),u)}values(){return this.c.values()}forEach($){this.c.forEach($)}[Symbol.iterator](){return this.c[Symbol.iterator]()}}e.$vm=v;function S(I){return b(I)}e.$wm=S;function b(I){return I.contributes&&I.contributes.localizations?I.contributes.localizations.length>0:!1}e.$xm=b;function m(I){return I.contributes&&I.contributes.authentication?I.contributes.authentication.length>0:!1}e.$ym=m;function E(I,$){if($){const u=`onResolveRemoteAuthority:${(0,D.$hl)($)}`;return!!I.activationEvents?.includes(u)}return!1}e.$zm=E,e.$Am=(0,R.$8h)("IBuiltinExtensionsScannerService")}),define(ae[137],ce([0,1,2,37,12]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pq=void 0;class O extends A.$Tc{constructor(k,h,o,v,S){super(),this.a=k,this.b=h,this.c=o,this.f=S,this.D(v.onDidInstallExtensions(b=>this.g(b))),this.D(v.onDidUninstallExtension(b=>this.h(b)))}g(k){for(const h of k)h.local&&this.invalidate(h.profileLocation)}h(k){k.error||this.invalidate(k.profileLocation)}async invalidate(k){if(k)for(const h of this.a.profiles)this.c.extUri.isEqual(h.extensionsResource,k)&&await this.j(h);else await this.j(this.a.defaultProfile)}async j(k){try{await this.b.del(this.c.extUri.joinPath(k.cacheHome,R.$nm))}catch(h){(0,D.$Nk)(h)!==1&&this.f.error(h)}}}e.$pq=O}),define(ae[44],ce([0,1,14,9,2,106,41,10,4,36]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Np=e.$Mp=e.$Lp=e.$Kp=e.$Jp=e.$Ip=e.$Hp=e.$Gp=void 0,e.$Gp=(0,k.$8h)("requestService");class v{constructor(f){this.b=f}toJSON(){if(!this.a){const f=Object.create(null);for(const n in this.b)n.toLowerCase()==="authorization"||n.toLowerCase()==="proxy-authorization"?f[n]="*****":f[n]=this.b[n];this.a=f}return this.a}}class S extends D.$Tc{constructor(f){super(),this.b=0,this.a=f.createLogger("network",{name:(0,O.localize)(0,null),when:h.$Hj.isEqualTo((0,h.$Fj)(h.LogLevel.Trace)).serialize()})}async c(f,n,r){const t=`${f} #${++this.b}: ${n.url}`;this.a.trace(`${t} - begin`,n.type,new v(n.headers??{}));try{const i=await r();return this.a.trace(`${t} - end`,n.type,i.res.statusCode,i.res.headers),i}catch(i){throw this.a.error(`${t} - error`,n.type,(0,R.$0)(i)),i}}}e.$Hp=S;function b(l){return l.res.statusCode&&l.res.statusCode>=200&&l.res.statusCode<300||l.res.statusCode===1223}e.$Ip=b;function m(l){return l.res.statusCode===204}e.$Jp=m;async function E(l){return m(l)?null:(await(0,A.$we)(l.stream)).toString()}e.$Kp=E;async function I(l){if(!b(l))throw new Error("Server returned "+l.res.statusCode);return E(l)}e.$Lp=I;async function $(l){if(!b(l))throw new Error("Server returned "+l.res.statusCode);if(m(l))return null;const n=(await(0,A.$we)(l.stream)).toString();try{return JSON.parse(n)}catch(r){throw r.message+=`:
`+n,r}}e.$Mp=$;function u(l){d(l)}e.$Np=u;let p;function d(l){const f=o.$Qn.as(j.$Vn.Configuration),n=p;p={id:"http",order:15,title:(0,O.localize)(1,null),type:"object",scope:l,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,O.localize)(2,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,O.localize)(3,null),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:(0,O.localize)(4,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,O.localize)(5,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,O.localize)(6,null),(0,O.localize)(7,null),(0,O.localize)(8,null),(0,O.localize)(9,null)],default:"override",description:(0,O.localize)(10,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,O.localize)(11,null),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:(0,O.localize)(12,null),restricted:!0}}},f.updateConfigurations({add:[p],remove:n?[n]:[]})}d(1)}),define(ae[138],ce([0,1,20,16,12,44]),function(K,e,A,R,D,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$T4=void 0;let j=class{constructor(h,o){this.a=h,this.b=o}async download(h,o,v=A.CancellationToken.None){if(h.scheme===R.Schemas.file||h.scheme===R.Schemas.vscodeRemote){await this.b.copy(h,o);return}const S={type:"GET",url:h.toString(!0)},b=await this.a.request(S,v);if(b.res.statusCode===200)await this.b.writeFile(o,b.stream);else{const m=await(0,O.$Lp)(b);throw new Error(`Expected 200, got back ${b.res.statusCode} instead.

${m}`)}}};e.$T4=j,e.$T4=j=ve([oe(0,O.$Gp),oe(1,D.$wk)],j)}),define(ae[139],ce([0,1,140,3]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ir=void 0;function D(j,k){return j.protocol==="http:"?k.HTTP_PROXY||k.http_proxy||null:j.protocol==="https:"&&(k.HTTPS_PROXY||k.https_proxy||k.HTTP_PROXY||k.http_proxy)||null}async function O(j,k,h={}){const o=(0,A.parse)(j),v=h.proxyUrl||D(o,k);if(!v)return null;const S=(0,A.parse)(v);if(!/^https?:$/.test(S.protocol||""))return null;const b={host:S.hostname||"",port:(S.port?+S.port:0)||(S.protocol==="https"?443:80),auth:S.auth,rejectUnauthorized:(0,R.$Qf)(h.strictSSL)?h.strictSSL:!0};return o.protocol==="http:"?new(await new Promise((m,E)=>{K(["http-proxy-agent"],m,E)})).HttpProxyAgent(v,b):new(await new Promise((m,E)=>{K(["https-proxy-agent"],m,E)})).HttpsProxyAgent(v,b)}e.$Ir=O}),define(ae[141],ce([0,1,49,15,107,20,34,9,13,24,86,172,8,75]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hm=void 0;let E;async function I(u,p,d,l){return d["force-disable-user-env"]?(p.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):h.$i?(p.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,S.$bm)(l)&&!d["force-user-env"]?(p.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,S.$bm)(l)?p.trace("resolveShellEnv(): running (--force-user-env)"):p.trace("resolveShellEnv(): running (macOS/Linux)"),E||(E=b.Promises.withAsyncBody(async(f,n)=>{const r=new O.$7d;let t=1e4;const i=u.getValue("application.shellEnvironmentResolutionTimeout");typeof i=="number"&&(t=(0,m.$cm)(i,1,120)*1e3);const s=setTimeout(()=>{r.dispose(!0),n(new Error((0,D.localize)(0,null)))},t);try{f(await $(p,r.token))}catch(c){!(0,k.$4)(c)&&!r.token.isCancellationRequested?n(new Error((0,D.localize)(1,null,(0,j.$Si)(c)))):f({})}finally{clearTimeout(s),r.dispose()}})),E)}e.$hm=I;async function $(u,p){const d=process.env.ELECTRON_RUN_AS_NODE;u.trace("getUnixShellEnvironment#runAsNode",d);const l=process.env.ELECTRON_NO_ATTACH_CONSOLE;u.trace("getUnixShellEnvironment#noAttach",l);const f=(0,o.$sg)().replace(/-/g,"").substr(0,12),n=new RegExp(f+"({.*})"+f),r={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};u.trace("getUnixShellEnvironment#env",r);const t=await(0,v.$4l)(h.OS,r);return u.trace("getUnixShellEnvironment#shell",t),new Promise((i,s)=>{if(p.isCancellationRequested)return s(new k.$5);const c=(0,R.$nc)(t);let a,y;const w="";/^pwsh(-preview)?$/.test(c)?(a=`& '${process.execPath}' ${w} -p '''${f}'' + JSON.stringify(process.env) + ''${f}'''`,y=["-Login","-Command"]):c==="nu"?(a=`^'${process.execPath}' ${w} -p '"${f}" + JSON.stringify(process.env) + "${f}"'`,y=["-i","-l","-c"]):c==="xonsh"?(a=`import os, json; print("${f}", json.dumps(dict(os.environ)), "${f}")`,y=["-i","-l","-c"]):(a=`'${process.execPath}' ${w} -p '"${f}" + JSON.stringify(process.env) + "${f}"'`,c==="tcsh"||c==="csh"?y=["-ic"]:y=["-i","-l","-c"]),u.trace("getUnixShellEnvironment#spawn",JSON.stringify(y),a);const P=(0,A.spawn)(t,[...y,a],{detached:!0,stdio:["ignore","pipe","pipe"],env:r});p.onCancellationRequested(()=>(P.kill(),s(new k.$5))),P.on("error",J=>{u.error("getUnixShellEnvironment#errorChildProcess",(0,j.$Si)(J)),s(J)});const N=[];P.stdout.on("data",J=>N.push(J));const L=[];P.stderr.on("data",J=>L.push(J)),P.on("close",(J,ne)=>{const pe=Buffer.concat(N).toString("utf8");u.trace("getUnixShellEnvironment#raw",pe);const ie=Buffer.concat(L).toString("utf8");if(ie.trim()&&u.trace("getUnixShellEnvironment#stderr",ie),J||ne)return s(new Error((0,D.localize)(2,null,J,ne)));const le=n.exec(pe),ue=le?le[1]:"{}";try{const se=JSON.parse(ue);d?se.ELECTRON_RUN_AS_NODE=d:delete se.ELECTRON_RUN_AS_NODE,l?se.ELECTRON_NO_ATTACH_CONSOLE=l:delete se.ELECTRON_NO_ATTACH_CONSOLE,delete se.VSCODE_RESOLVING_ENVIRONMENT,delete se.XDG_RUNTIME_DIR,u.trace("getUnixShellEnvironment#result",se),i(se)}catch(se){u.error("getUnixShellEnvironment#errorCaught",(0,j.$Si)(se)),s(se)}})})}}),define(ae[142],ce([0,1,10]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$w4=e.$v4=void 0,e.$v4=(0,A.$8h)("stateReadService"),e.$w4=(0,A.$8h)("stateService")}),define(ae[69],ce([0,1,8,14,2,3,18,12,4]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$z4=e.$y4=e.$x4=e.SaveStrategy=void 0;var o;(function(m){m[m.IMMEDIATE=0]="IMMEDIATE",m[m.DELAYED=1]="DELAYED"})(o||(e.SaveStrategy=o={}));class v extends D.$Tc{constructor(E,I,$,u){super(),this.h=E,this.j=I,this.m=$,this.n=u,this.a=Object.create(null),this.b="",this.c=this.D(new A.$6g(this.j===0?0:100)),this.f=void 0,this.g=void 0}init(){return this.f||(this.f=this.q()),this.f}async q(){try{this.b=(await this.n.readFile(this.h)).value.toString(),this.a=JSON.parse(this.b)}catch(E){E.fileOperationResult!==1&&this.m.error(E)}}getItem(E,I){const $=this.a[E];return(0,O.$Tf)($)?I:$}setItem(E,I){this.setItems([{key:E,data:I}])}setItems(E){let I=!1;for(const{key:$,data:u}of E)this.a[$]!==u&&((0,O.$Tf)(u)?(0,O.$Rf)(this.a[$])||(this.a[$]=void 0,I=!0):(this.a[$]=u,I=!0));I&&this.r()}removeItem(E){(0,O.$Rf)(this.a[E])||(this.a[E]=void 0,this.r())}async r(){if(!this.g)return this.c.trigger(()=>this.s())}async s(){if(!this.f)return;await this.f;const E=JSON.stringify(this.a,null,4);if(E!==this.b)try{await this.n.writeFile(this.h,R.$ke.fromString(E),{atomic:{postfix:".vsctmp"}}),this.b=E}catch(I){this.m.error(I)}}async close(){return this.g||(this.g=this.c.trigger(()=>this.s(),0)),this.g}}e.$x4=v;let S=class extends D.$Tc{constructor(E,I,$,u){super(),this.a=this.D(new v(I.stateResource,E,$,u))}async init(){await this.a.init()}getItem(E,I){return this.a.getItem(E,I)}};e.$y4=S,e.$y4=S=ve([oe(1,j.$ci),oe(2,h.$qj),oe(3,k.$wk)],S);class b extends S{setItem(E,I){this.a.setItem(E,I)}setItems(E){this.a.setItems(E)}removeItem(E){this.a.removeItem(E)}close(){return this.a.close()}}e.$z4=b}),define(ae[143],ce([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$r4=void 0;class A{constructor(D,O,j,k,h){this.d=D,this.e=O,this.f=j,this.g=h,this.f||(this.f={}),typeof k=="function"?this.a=k():this.a=k,this.b=null}registerAuthId(D){this.c=D}h(D){}log(D,O){}capture(D,O){let j=O["common.machineId"]??"unknown";O["common.authId"]=this.c;const k=D.startsWith("$identify")?"$identify":D;this.fetch("https://api2.amplitude.com/2/httpapi",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify({api_key:"e22f5af30b4da626f53370760b2d271b",events:[{device_id:j,event_type:k,event_properties:O,user_id:this.c,time:Date.now(),ip:"$remote"}]})}).catch(h=>console.error("Error sending event to Amplitude:",h))}flush(){return this.a?new Promise(D=>{this.h(O=>{O.unload(!0,()=>{this.a=void 0,D(void 0)})})}):Promise.resolve(void 0)}}e.$r4=A}),define(ae[70],ce([0,1,13,35,24]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vo=e.$Uo=void 0;function O(h){if(A.$u===2&&/^penguin(\.|$)/i.test(h))return"chromebook"}function j(h,o,v,S,b,m,E,I,$){const u=Object.create(null);u["common.machineId"]=m,u["common.sqmId"]=E,u.sessionID=(0,D.$sg)()+Date.now(),u.commitHash=S,u.version=b,u["common.platformVersion"]=(h||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),u["common.platform"]=(0,A.$h)(A.$u),u["common.nodePlatform"]=R.$dc,u["common.nodeArch"]=v,u["common.product"]=$||"desktop",I&&(u["common.msftInternal"]=I);let p=0;const d=Date.now();Object.defineProperties(u,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-d,enumerable:!0},"common.sequence":{get:()=>p++,enumerable:!0}}),A.$l&&(u["common.snap"]="true");const l=O(o);return l&&(u["common.platformDetail"]=l),u}e.$Uo=j;function k(h){const o=R.env.USERDNSDOMAIN;if(!o)return!1;const v=o.toLowerCase();return h.some(S=>v===S)}e.$Vo=k}),define(ae[26],ce([0,1,10]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.$Ml=e.$Ll=e.$Kl=e.$Jl=e.$Il=e.$Hl=e.$Gl=e.$Fl=e.$El=e.$Dl=e.$Cl=e.$Bl=e.$Al=void 0,e.$Al=(0,A.$8h)("telemetryService"),e.$Bl="inlineDiffAccept",e.$Cl="inlineDiffReject",e.$Dl=(0,A.$8h)("customEndpointTelemetryService"),e.$El="telemetry.currentSessionDate",e.$Fl="telemetry.firstSessionDate",e.$Gl="telemetry.lastSessionDate",e.$Hl="telemetry.machineId",e.$Il="telemetry.sqmId",e.$Jl="telemetry",e.$Kl="telemetry.telemetryLevel",e.$Ll="telemetry.enableCrashReporter",e.$Ml="telemetry.enableTelemetry";var R;(function(O){O[O.NONE=0]="NONE",O[O.CRASH=1]="CRASH",O[O.ERROR=2]="ERROR",O[O.USAGE=3]="USAGE"})(R||(e.TelemetryLevel=R={}));var D;(function(O){O.OFF="off",O.CRASH="crash",O.ERROR="error",O.ON="all"})(D||(e.TelemetryConfiguration=D={}))}),define(ae[45],ce([0,1,30,3,68,70,26]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_o=e.$$o=e.$0o=e.$9o=e.$8o=e.$7o=e.$6o=e.$5o=e.$4o=e.$3o=e.$2o=e.$1o=e.$Zo=e.$Yo=e.$Xo=e.$Wo=void 0;class k{constructor(t){this.value=t,this.isTrustedTelemetryValue=!0}}e.$Wo=k;class h{constructor(){this.telemetryLevel=0,this.sessionId="someValue.sessionId",this.machineId="someValue.machineId",this.sqmId="someValue.sqmId",this.firstSessionDate="someValue.firstSessionDate",this.sendErrorTelemetry=!1}registerAuthId(){}publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}publicLogCapture(){}setExperimentProperty(){}}e.$Xo=h,e.$Yo=new h;class o{async publicLog(t,i,s){}async publicLogError(t,i,s){}}e.$Zo=o,e.$1o="telemetry",e.$2o="extensionTelemetryLog",e.$3o={registerAuthId:()=>null,log:()=>null,flush:()=>Promise.resolve(null),capture:()=>null};function v(r,t){return!t.isBuilt&&!t.disableTelemetry?!0:!(t.disableTelemetry||!r.enableTelemetry)}e.$4o=v;function S(r,t){return t.extensionTestsLocationURI?!0:!(t.isBuilt||t.disableTelemetry||r.enableTelemetry&&r.aiConfig?.ariaKey)}e.$5o=S;function b(r){const t=r.getValue(j.$Kl),i=r.getValue(j.$Ll);if(r.getValue(j.$Ml)===!1||i===!1)return 0;switch(t??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.$6o=b;function m(r){const t={},i={},s={};u(r,s);for(let c in s){c=c.length>150?c.substr(c.length-149):c;const a=s[c];typeof a=="number"?i[c]=a:typeof a=="boolean"?i[c]=a?1:0:typeof a=="string"?(a.length>8192&&console.warn(`Telemetry property: ${c} has been trimmed to 8192, the original length is ${a.length}`),t[c]=a.substring(0,8191)):typeof a<"u"&&a!==null&&(t[c]=a)}return{properties:t,measurements:i}}e.$7o=m;const E=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function I(r){return r}e.$8o=I;function $(r){if(!r)return"none";const t=(0,D.$hl)(r);return E.has(t)?t:"other"}e.$9o=$;function u(r,t,i=0,s){if(r)for(const c of Object.getOwnPropertyNames(r)){const a=r[c],y=s?s+c:c;Array.isArray(a)?t[y]=(0,A.$Jn)(a):a instanceof Date?t[y]=a.toISOString():(0,R.$Mf)(a)?i<2?u(a,t,i+1,y+"."):t[y]=(0,A.$Jn)(a):t[y]=a}}function p(r,t){const i=r.msftInternalDomains||[],s=t.getValue("telemetry.internalTesting");return(0,O.$Vo)(i)||s}e.$0o=p;function d(r){return[r.appRoot,r.extensionsPath,r.userHome.fsPath,r.tmpDir.fsPath,r.userDataPath]}e.$$o=d;function l(r,t){if(!r||!r.includes("/")&&!r.includes("\\"))return r;let i=r;const s=[];for(const w of t)for(;;){const P=w.exec(r);if(!P)break;s.push([P.index,w.lastIndex])}const c=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let y=0;for(i="";;){const w=a.exec(r);if(!w)break;const P=s.some(([N,L])=>w.index<L&&N<a.lastIndex);!c.test(w[0])&&!P&&(i+=r.substring(y,w.index)+"<REDACTED: user-file-path>",y=a.lastIndex)}return y<r.length&&(i+=r.substr(y)),i}function f(r){if(!r)return r;const t=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const i of t)if(i.regex.test(r))return`<REDACTED: ${i.label}>`;return r}function n(r,t){return(0,A.$Gn)(r,i=>{if(i instanceof k||Object.hasOwnProperty.call(i,"isTrustedTelemetryValue"))return i.value;if(typeof i=="string"){let s=i.replaceAll("%20"," ");s=l(s,t);for(const c of t)s=s.replace(c,"");return s=f(s),s}})}e.$_o=n}),define(ae[27],ce([0,1,29,21,37,13,11,9,35,45]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lp=e.$kp=e.$jp=e.$ip=e.$hp=e.$gp=e.$fp=e.$ep=e.$dp=e.$cp=e.$bp=e.$ap=void 0;function v(t,i){return t.uuid&&i.uuid?t.uuid===i.uuid:t.id===i.id?!0:(0,A.$9e)(t.id,i.id)===0}e.$ap=v;const S=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class b{static create(i){const s=i.manifest?i.manifest.version:i.version,c=i.manifest?i.targetPlatform:i.properties.targetPlatform;return new b(i.identifier,s,c)}static parse(i){const s=S.exec(i);return s&&s[1]&&s[2]?new b({id:s[1]},s[2],s[4]||void 0):null}constructor(i,s,c="undefined"){this.version=s,this.targetPlatform=c,this.id=i.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(i){return i instanceof b?v(this,i)&&this.version===i.version&&this.targetPlatform===i.targetPlatform:!1}}e.$bp=b;const m=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function E(t){const i=m.exec(t);return i&&i[1]?[$(i[1]),i[2]]:[$(t),void 0]}e.$cp=E;function I(t,i){return`${t}.${i}`}e.$dp=I;function $(t){return t.toLowerCase()}e.$ep=$;function u(t,i){return $(I(t??D.$pm,i))}e.$fp=u;function p(t,i){const s=[],c=a=>{for(const y of s)if(y.some(w=>v(i(w),i(a))))return y;return null};for(const a of t){const y=c(a);y?y.push(a):s.push([a])}return s}e.$gp=p;function d(t){return{id:t.identifier.id,name:t.manifest.name,galleryId:null,publisherId:t.publisherId,publisherName:t.manifest.publisher,publisherDisplayName:t.publisherDisplayName,dependencies:t.manifest.extensionDependencies&&t.manifest.extensionDependencies.length>0}}e.$hp=d;function l(t){return{id:new o.$Wo(t.identifier.id),name:new o.$Wo(t.name),galleryId:t.identifier.uuid,publisherId:t.publisherId,publisherName:t.publisher,publisherDisplayName:t.publisherDisplayName,isPreReleaseVersion:t.properties.isPreReleaseVersion,dependencies:!!(t.properties.dependencies&&t.properties.dependencies.length>0),isSigned:t.isSigned,...t.telemetryData}}e.$ip=l,e.$jp=new D.$tm("pprice.better-merge");function f(t,i){const s=[],c=i.manifest.extensionDependencies?.slice(0)??[];for(;c.length;){const a=c.shift();if(a&&s.every(y=>!v(y.identifier,{id:a}))){const y=t.filter(w=>v(w.identifier,{id:a}));y.length===1&&(s.push(y[0]),c.push(...y[0].manifest.extensionDependencies?.slice(0)??[]))}}return s}e.$kp=f;async function n(t,i){if(!O.$k)return!1;let s;try{s=(await t.readFile(j.URI.file("/etc/os-release"))).value.toString()}catch{try{s=(await t.readFile(j.URI.file("/usr/lib/os-release"))).value.toString()}catch(a){i.debug("Error while getting the os-release file.",(0,k.$0)(a))}}return!!s&&(s.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function r(t,i){const s=await n(t,i),c=(0,R.$Fo)(s?"alpine":O.$u,h.$ec);return i.debug("ComputeTargetPlatform:",c),c}e.$lp=r}),define(ae[144],ce([0,1,20,9,16,17,39,11,96,21,27,37]),function(K,e,A,R,D,O,j,k,h,o,v,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2p=void 0;const b=I=>(0,h.localize)(0,null,I),m=(0,h.localize)(1,null,"ms-dotnettools.csharp");let E=class{constructor($,u,p){this.a=$,this.b=u,this.d=p}get f(){}async listExtensions($,u,p){let d=await this.b.getInstalled(1,p);const l=S.$sm.map(n=>n.toLowerCase());if(u&&u!==""){if(l.indexOf(u.toLowerCase())<0){this.a.info("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}d=d.filter(n=>n.manifest.categories?n.manifest.categories.map(t=>t.toLowerCase()).indexOf(u.toLowerCase())>-1:!1)}else if(u===""){this.a.info("Possible Categories: "),l.forEach(n=>{this.a.info(n)});return}this.f&&this.a.info((0,h.localize)(2,null,this.f)),d=d.sort((n,r)=>n.identifier.id.localeCompare(r.identifier.id));let f;for(const n of d)f!==n.identifier.id&&(f=n.identifier.id,this.a.info($?`${f}@${n.manifest.version}`:f))}async installExtensions($,u,p,d){const l=[];try{const f=[];$.length&&this.a.info(this.f?(0,h.localize)(3,null,this.f):(0,h.localize)(4,null));const n=[];let r=[];const t=(s,c,a)=>{r.push({id:s,version:c!=="prerelease"?c:void 0,installOptions:{...p,isBuiltin:a,installPreReleaseVersion:c==="prerelease"||p.installPreReleaseVersion}})};for(const s of $)if(s instanceof k.URI)n.push({vsix:s,installOptions:p});else{const[c,a]=(0,v.$cp)(s);t(c,a,!1)}for(const s of u)if(s instanceof k.URI)n.push({vsix:s,installOptions:{...p,isBuiltin:!0,donotIncludePackAndDependencies:!0}});else{const[c,a]=(0,v.$cp)(s);t(c,a,!0)}const i=await this.b.getInstalled(1,p.profileLocation);if(n.length&&await Promise.all(n.map(async({vsix:s,installOptions:c})=>{try{const a=await this.g(s,c,d,i);a&&f.push(a)}catch(a){this.a.error(a),l.push(s.toString())}})),r.length&&(r=r.filter(({id:s,version:c})=>{const a=i.find(y=>(0,v.$ap)(y.identifier,{id:s}));if(a){if(!d&&(!c||c==="prerelease"&&a.preRelease))return this.a.info((0,h.localize)(5,null,s,a.manifest.version,s)),!1;if(c&&a.manifest.version===c)return this.a.info((0,h.localize)(6,null,`${s}@${c}`)),!1}return!0}),r.length)){const s=await this.h(r);await Promise.all(r.map(async c=>{const a=s.get(c.id.toLowerCase());if(a)try{const y=await this.j(c,a,i);y&&f.push(y)}catch(y){this.a.error(y.message||y.stack||y),l.push(c.id)}else this.a.error(`${b(c.version?`${c.id}@${c.version}`:c.id)}
${m}`),l.push(c.id)}))}}catch(f){throw this.a.error((0,h.localize)(7,null,(0,R.$0)(f))),f}if(l.length)throw new Error((0,h.localize)(8,null,l.join(", ")))}async updateExtensions($){const u=await this.b.getInstalled(1,$),p=[];for(const n of u)n.identifier.uuid&&p.push({...n.identifier,preRelease:n.preRelease});this.a.trace((0,h.localize)(9,null,p.length));const d=await this.d.getExtensions(p,{compatible:!0},A.CancellationToken.None),l=[];for(const n of d)for(const r of u)(0,v.$ap)(r.identifier,n.identifier)&&(0,j.gt)(n.version,r.manifest.version)&&l.push({extension:n,options:{operation:3,installPreReleaseVersion:r.isPreReleaseVersion}});if(!l.length){this.a.info((0,h.localize)(10,null));return}this.a.info((0,h.localize)(11,null,l.map(n=>n.extension.identifier.id).join(", ")));const f=await this.b.installGalleryExtensions(l);for(const n of f)n.error?this.a.error((0,h.localize)(12,null,n.identifier.id,(0,R.$0)(n.error))):this.a.info((0,h.localize)(13,null,n.identifier.id,n.local?.manifest.version))}async g($,u,p,d){const l=await this.b.getManifest($);if(!l)throw new Error("Invalid vsix");if(await this.l(l,p,u.profileLocation,d))try{return await this.b.install($,u),this.a.info((0,h.localize)(14,null,(0,O.$Gg)($))),l}catch(n){if((0,R.$4)(n))return this.a.info((0,h.localize)(15,null,(0,O.$Gg)($))),null;throw n}return null}async h($){const u=new Map,p=$.some(f=>f.installOptions.installPreReleaseVersion),d=await this.b.getTargetPlatform(),l=[];for(const f of $)o.$yo.test(f.id)&&l.push({...f,preRelease:p});if(l.length){const f=await this.d.getExtensions(l,{targetPlatform:d},A.CancellationToken.None);for(const n of f)u.set(n.identifier.id.toLowerCase(),n)}return u}async j({id:$,version:u,installOptions:p},d,l){const f=await this.d.getManifest(d,A.CancellationToken.None);if(f&&!this.k(f))return null;const n=l.find(r=>(0,v.$ap)(r.identifier,d.identifier));if(n){if(d.version===n.manifest.version)return this.a.info((0,h.localize)(16,null,u?`${$}@${u}`:$)),null;this.a.info((0,h.localize)(17,null,$,d.version))}try{p.isBuiltin?this.a.info(u?(0,h.localize)(18,null,$,u):(0,h.localize)(19,null,$)):this.a.info(u?(0,h.localize)(20,null,$,u):(0,h.localize)(21,null,$));const r=await this.b.installFromGallery(d,{...p,installGivenVersion:!!u});return this.a.info((0,h.localize)(22,null,$,r.manifest.version)),f}catch(r){if((0,R.$4)(r))return this.a.info((0,h.localize)(23,null,$)),null;throw r}}k($){return!0}async l($,u,p,d){if(!u){const l={id:(0,v.$fp)($.publisher,$.name)},f=d.find(n=>(0,v.$ap)(l,n.identifier)&&(0,j.gt)(n.manifest.version,$.version));if(f)return this.a.info((0,h.localize)(24,null,f.identifier.id,f.manifest.version,$.version)),!1}return this.k($)}async uninstallExtensions($,u,p){const d=async f=>{if(f instanceof k.URI){const n=await this.b.getManifest(f);return(0,v.$dp)(n.publisher,n.name)}return f},l=[];for(const f of $){const n=await d(f),t=(await this.b.getInstalled(void 0,p)).filter(i=>(0,v.$ap)(i.identifier,{id:n}));if(!t.length)throw new Error(`${this.m(n)}
${m}`);if(t.some(i=>i.type===0)){this.a.info((0,h.localize)(25,null,n));return}if(!u&&t.some(i=>i.isBuiltin)){this.a.info((0,h.localize)(26,null,n));return}this.a.info((0,h.localize)(27,null,n));for(const i of t)await this.b.uninstall(i,{profileLocation:p}),l.push(i);this.f?this.a.info((0,h.localize)(28,null,n,this.f)):this.a.info((0,h.localize)(29,null,n))}}async locateExtension($){const u=await this.b.getInstalled();$.forEach(p=>{u.forEach(d=>{if(d.identifier.id===p&&d.location.scheme===D.Schemas.file){this.a.info(d.location.fsPath);return}})})}m($){return this.f?(0,h.localize)(30,null,$,this.f):(0,h.localize)(31,null,$)}};e.$2p=E,e.$2p=E=ve([oe(1,o.$Mo),oe(2,o.$Jo)],E)}),define(ae[145],ce([0,1,8,9,2,16,17,39,3,24,25,50,28,18,21,27,65,12,4]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.$mq=void 0;let l=class extends D.$Tc{static{d=this}static{this.c=".sigzip"}constructor(n,r,t,i,s,c){super(),this.h=r,this.j=t,this.m=i,this.n=s,this.q=c,this.extensionsDownloadDir=n.extensionsDownloadLocation,this.f=20,this.g=this.w()}async download(n,r,t){await this.g;const i=(0,j.$Jg)(this.extensionsDownloadDir,this.j.galleryId+"-"+this.y(n));try{await this.u(n,i,c=>this.j.download(n,c,r))}catch(c){throw new E.$Ko(c.message,E.ExtensionManagementErrorCode.Download)}let s=!1;if(t&&this.r(n)){const c=await this.t(n);try{s=await this.n.verify(i.fsPath,c.fsPath,this.q.getLevel()===p.LogLevel.Trace)}catch(a){const y=a;if(s=y.code,y.output&&this.q.trace(`Extension signature verification details for ${n.identifier.id} ${n.version}:
${y.output}`),s===E.ExtensionSignaturetErrorCode.PackageIsInvalidZip||s===E.ExtensionSignaturetErrorCode.SignatureArchiveIsInvalidZip){try{await this.delete(i)}catch(w){this.q.error(w)}throw new E.$Ko(S.$6p,E.ExtensionManagementErrorCode.CorruptZip)}}finally{try{await this.delete(c)}catch(a){this.q.error(a)}}}return s===!0?this.q.info(`Extension signature is verified: ${n.identifier.id}`):s===!1?this.q.info(`Extension signature verification is not done: ${n.identifier.id}`):this.q.warn(`Extension signature verification failed with error '${s}': ${n.identifier.id}`),{location:i,verificationStatus:s}}r(n){if(!n.isSigned)return this.q.info(`Extension is not signed: ${n.identifier.id}`),!1;const r=this.m.getValue("extensions.verifySignature");return(0,h.$Qf)(r)?r:!0}async t(n){await this.g;const r=(0,j.$Jg)(this.extensionsDownloadDir,`${this.y(n)}${d.c}`);try{await this.u(n,r,t=>this.j.downloadSignatureArchive(n,t))}catch(t){throw new E.$Ko(t.message,E.ExtensionManagementErrorCode.DownloadSignature)}return r}async u(n,r,t){if(this.q.info("Started downloading extension:",n.identifier.id,n.version,r.toString()),await this.h.exists(r)){this.q.info("No need to download extension as it exists already.",n.identifier.id,n.version,r.toString());return}if(r.scheme!==O.Schemas.file){this.q.info("Downloading extension from web:",n.identifier.id,n.version,r.toString()),await t(r);return}const i=(0,j.$Jg)(this.extensionsDownloadDir,`.${(0,o.$sg)()}`);await this.h.exists(i)||(this.q.info("Downloading extension to temp location:",n.identifier.id,n.version,i.toString()),await t(i));try{await v.Promises.rename(i.fsPath,r.fsPath,2*60*1e3)}catch(s){try{await this.h.del(i)}catch{}if(s.code==="ENOTEMPTY")this.q.info("Rename failed because the file was downloaded by another source. So ignoring renaming.",n.identifier.id,r.path);else throw this.q.info(`Rename failed because of ${(0,R.$0)(s)}. Deleted the file from downloaded location`,i.path),s}}async delete(n){await this.g,await this.h.del(n)}async w(){try{if(!await this.h.exists(this.extensionsDownloadDir)){this.q.trace("Extension VSIX downloads cache dir does not exist");return}const n=await this.h.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(n.children){const r=[],t=[],i=[];for(const a of n.children)if(a.name.endsWith(d.c))i.push(a.resource);else{const y=I.$bp.parse(a.name);y&&t.push([y,a])}const s=(0,I.$gp)(t,([a])=>a),c=[];for(const a of s)a.sort((y,w)=>k.rcompare(y[0].version,w[0].version)),r.push(...a.slice(1).map(y=>y[1].resource)),c.push(a[0][1]);c.sort((a,y)=>a.mtime-y.mtime),r.push(...c.slice(0,Math.max(0,c.length-this.f)).map(a=>a.resource)),r.push(...i),await A.Promises.settled(r.map(a=>(this.q.trace("Deleting from cache",a.path),this.h.del(a))))}}catch(n){this.q.error(n)}}y(n){return this.f?I.$bp.create(n).toString().toLowerCase():(0,o.$sg)()}};e.$mq=l,e.$mq=l=d=ve([oe(0,m.$di),oe(1,u.$wk),oe(2,E.$Jo),oe(3,b.$Bi),oe(4,$.$Zp),oe(5,p.$qj)],l)}),define(ae[146],ce([0,1,6,2,31,27,37]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qq=void 0;class k extends R.$Tc{constructor(o,v,S,b,m,E,I){super(),this.f=o,this.g=v,this.h=S,this.j=b,this.m=m,this.n=E,this.q=I,this.a=this.D(new A.$Wd),this.onDidChangeExtensionsByAnotherSource=this.a.event,this.b=new Map,this.c=this.D(new R.$3c),this.r().then(null,$=>I.error($))}async r(){await this.g.initializeDefaultProfileExtensions(),await this.t(this.h.profiles),this.s(),await this.H()}s(){this.D(this.h.onDidChangeProfiles(o=>this.t(o.added))),this.D(this.j.onAddExtensions(o=>this.u(o))),this.D(this.j.onDidAddExtensions(o=>this.w(o))),this.D(this.j.onRemoveExtensions(o=>this.y(o))),this.D(this.j.onDidRemoveExtensions(o=>this.z(o))),this.D(this.n.onDidFilesChange(o=>this.C(o)))}async t(o){try{o.length&&await Promise.all(o.map(v=>(this.c.set(v.id,(0,R.$Qc)(this.n.watch(this.m.extUri.dirname(v.extensionsResource)),this.n.watch(v.extensionsResource))),this.G(v.extensionsResource))))}catch(v){throw this.q.error(v),v}}async u(o){for(const v of o.extensions)this.I(this.L(v.identifier,v.version),o.profileLocation)}async w(o){for(const v of o.extensions){const S=this.L(v.identifier,v.version);o.error?this.J(S,o.profileLocation):this.I(S,o.profileLocation)}}async y(o){for(const v of o.extensions)this.J(this.L(v.identifier,v.version),o.profileLocation)}async z(o){const v=[],S=[];for(const b of o.extensions){const m=this.L(b.identifier,b.version);o.error?this.I(m,o.profileLocation):(this.J(m,o.profileLocation),this.b.has(m)||(this.q.debug("Extension is removed from all profiles",b.identifier.id,b.version),S.push(this.f.scanInstalledExtensionAtLocation(b.location).then(E=>{E?v.push(E):this.q.info("Extension not found at the location",b.location.toString())},E=>this.q.error(E)))))}try{await Promise.all(S),v.length&&await this.H(v)}catch(b){this.q.error(b)}}C(o){for(const v of this.h.profiles)o.contains(v.extensionsResource,0,1)&&this.F(v.extensionsResource)}async F(o){const v=[],S=[],b=await this.j.scanProfileExtensions(o),m=new Set,E=new Set;for(const[I,$]of this.b)$.has(o)&&E.add(I);for(const I of b){const $=this.L(I.identifier,I.version);m.add($),E.has($)||(v.push(I.identifier),this.I($,o))}for(const I of E)if(!m.has(I)){const $=this.M(I);$&&(S.push($.identifier),this.J(I,o))}(v.length||S.length)&&this.a.fire({added:v.length?{extensions:v,profileLocation:o}:void 0,removed:S.length?{extensions:S,profileLocation:o}:void 0})}async G(o){const v=await this.j.scanProfileExtensions(o);for(const S of v)this.I(this.L(S.identifier,S.version),o)}async H(o){o||(o=(await this.f.scanAllUserInstalledExtensions()).filter(S=>!this.b.has(this.L(S.identifier,S.manifest.version)))),o.length&&await this.f.markAsUninstalled(...o)}I(o,v){let S=this.b.get(o);S||this.b.set(o,S=new D.$Bc(b=>this.m.extUri.getComparisonKey(b))),S.add(v)}J(o,v){const S=this.b.get(o);S&&S.delete(v),S?.size||this.b.delete(o)}L(o,v){return`${j.$tm.toKey(o.id)}@${v}`}M(o){const[v,S]=(0,O.$cp)(o);return S?{identifier:{id:v},version:S}:void 0}}e.$qq=k}),define(ae[147],ce([0,1,117,45]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fp=void 0;async function D(h,o,v,S,b,m){const E={"X-Market-Client-Id":`${O(h)} ${j(h)}`,"User-Agent":`${O(h)} ${j(h)} (${k(h)})`};if((0,R.$4o)(h,o)&&(0,R.$6o)(v)===3){const I=await(0,A.$Ep)(o,S,b);E["X-Market-User-Id"]=I,E[`${O(h)}-SessionId`]=m.machineId||I}return E}e.$Fp=D;function O(h){return h.extensionsGallery?.galleryId==="vscode"||h.extensionsGallery?.galleryId==="cursor"?"VSCode":"Cursor"}function j(h){return h.vscodeVersion}function k(h){return h.extensionsGallery?.galleryId==="vscode"||h.extensionsGallery?.galleryId==="cursor"?"Code":h.nameShort}}),define(ae[148],ce([0,1,173,19,8,2,16,15,25,18,21,27,4,64,11]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fr=void 0;let I=class extends m.$Er{constructor(d,l,f,n){super(f),this.h=d,this.j=n,this.g=this.D(new $(l,n)),this.h.registerParticipant({postInstall:async r=>this.m(r),postUninstall:async r=>this.n(r)})}async getBuiltInExtensionTranslationsUri(d,l){const n=(await this.g.getLanguagePacks())[l];if(!n){this.j.warn(`No language pack found for ${l}`);return}const r=n.translations[d];return r?E.URI.file(r):void 0}async getInstalledLanguages(){const d=await this.g.getLanguagePacks(),l=Object.keys(d).map(f=>{const n=d[f];return{...this.f(f,n.label),extensionId:n.extensions[0].extensionIdentifier.id}});return l.push(this.f("en","English")),l.sort((f,n)=>f.label.localeCompare(n.label)),l}async m(d){d&&d.manifest&&d.manifest.contributes&&d.manifest.contributes.localizations&&d.manifest.contributes.localizations.length&&(this.j.info("Adding language packs from the extension",d.identifier.id),await this.update())}async n(d){const l=await this.g.getLanguagePacks();Object.keys(l).some(f=>l[f]&&l[f].extensions.some(n=>(0,S.$ap)(n.extensionIdentifier,d.identifier)))&&(this.j.info("Removing language packs from the extension",d.identifier.id),await this.update())}async update(){const[d,l]=await Promise.all([this.g.getLanguagePacks(),this.h.getInstalled()]),f=await this.g.update(l);return!(0,R.$ub)(Object.keys(d),Object.keys(f))}};e.$Fr=I,e.$Fr=I=ve([oe(0,v.$Mo),oe(1,o.$di),oe(2,v.$Jo),oe(3,b.$qj)],I);let $=class extends O.$Tc{constructor(d,l){super(),this.j=l,this.c={},this.f=(0,k.$jc)(d.userDataPath,"languagepacks.json"),this.g=new D.$ch}getLanguagePacks(){return this.g.size||!this.h?this.r().then(()=>this.c):Promise.resolve(this.c)}update(d){return this.r(l=>{Object.keys(l).forEach(f=>delete l[f]),this.m(l,...d)}).then(()=>this.c)}m(d,...l){for(const f of l)f&&f.manifest&&f.manifest.contributes&&f.manifest.contributes.localizations&&f.manifest.contributes.localizations.length&&this.n(d,f);Object.keys(d).forEach(f=>this.q(d[f]))}n(d,l){const f=l.identifier,n=l.manifest.contributes&&l.manifest.contributes.localizations?l.manifest.contributes.localizations:[];for(const r of n)if(l.location.scheme===j.Schemas.file&&u(r)){let t=d[r.languageId];t||(t={hash:"",extensions:[],translations:{},label:r.localizedLanguageName??r.languageName},d[r.languageId]=t);const i=t.extensions.filter(s=>(0,S.$ap)(s.extensionIdentifier,f))[0];i?i.version=l.manifest.version:t.extensions.push({extensionIdentifier:f,version:l.manifest.version});for(const s of r.translations)t.translations[s.id]=(0,k.$jc)(l.location.fsPath,s.path)}}q(d){if(d){const l=(0,A.createHash)("md5");for(const f of d.extensions)l.update(f.extensionIdentifier.uuid||f.extensionIdentifier.id).update(f.version);d.hash=l.digest("hex")}}r(d=()=>null){return this.g.queue(()=>{let l=null;return h.Promises.readFile(this.f,"utf8").then(void 0,f=>f.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(f)).then(f=>{try{return JSON.parse(f)}catch{return{}}}).then(f=>(l=d(f),f)).then(f=>{for(const r of Object.keys(f))f[r]||delete f[r];this.c=f,this.h=!0;const n=JSON.stringify(this.c);return this.j.debug("Writing language packs",n),h.Promises.writeFile(this.f,n)}).then(()=>l,f=>this.j.error(f))})}};$=ve([oe(0,o.$di),oe(1,b.$qj)],$);function u(p){if(typeof p.languageId!="string"||!Array.isArray(p.translations)||p.translations.length===0)return!1;for(const d of p.translations)if(typeof d.id!="string"||typeof d.path!="string")return!1;return!(p.languageName&&typeof p.languageName!="string"||p.localizedLanguageName&&typeof p.localizedLanguageName!="string")}}),define(ae[149],ce([0,1,2,30,13,29,108,28,41,53,32,36,26,45]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lr=void 0;let E=class{static{this.IDLE_START_EVENT_NAME="UserIdleStart"}static{this.IDLE_STOP_EVENT_NAME="UserIdleStop"}constructor(u,p,d){this.k=p,this.l=d,this.d={},this.i=new A.$Sc,this.j=[],this.b=u.appenders,this.c=u.commonProperties??Object.create(null),this.sessionId=this.c.sessionID,this.machineId=this.c["common.machineId"],this.sqmId=this.c["common.sqmId"],this.firstSessionDate=this.c["common.firstSessionDate"],this.msftInternal=this.c["common.msftInternal"],this.f=u.piiPaths||[],this.g=3,this.h=!!u.sendErrorTelemetry,this.j=[/(vscode-)?file:\/\/\/.*?\/resources\/app\//gi];for(const l of this.f)this.j.push(new RegExp((0,O.$Qe)(l),"gi")),l.indexOf("\\")>=0&&this.j.push(new RegExp((0,O.$Qe)(l.replace(/\\/g,"/")),"gi"));this.m(),this.i.add(this.k.onDidChangeConfiguration(l=>{(l.affectsConfiguration(b.$Kl)||l.affectsConfiguration(b.$Ml)||l.affectsConfiguration(b.$Ll))&&this.m()}))}setExperimentProperty(u,p){this.d[u]=p}m(){let u=(0,m.$6o)(this.k);const p=this.l.enabledTelemetryLevels;if(p){this.h=this.sendErrorTelemetry?p.error:!1;const d=p.usage?3:p.error?2:0;u=Math.min(u,d)}this.g=u}get sendErrorTelemetry(){return this.h}get telemetryLevel(){return this.g}dispose(){this.i.dispose()}n(u,p,d){this.g<p||(d=(0,R.$Hn)(d,this.d),d=(0,m.$_o)(d,this.j),d=(0,R.$Hn)(d,this.c),this.b.forEach(l=>l.log(u,d)))}o(u,p,d){this.g<p||(d=(0,R.$Hn)(d,this.d),d=(0,m.$_o)(d,this.j),d=(0,R.$Hn)(d,this.c),this.b.forEach(l=>{l.capture(u,d)}))}registerAuthId(u){this.b.forEach(p=>p.registerAuthId(u))}publicLog(u,p){this.n(u,3,p)}publicLog2(u,p){this.publicLog(u,p)}publicLogError(u,p){this.h&&this.n(u,2,p)}publicLogError2(u,p){this.publicLogError(u,p)}publicLogCapture(u,p){this.o(u,3,p)}};e.$Lr=E,e.$Lr=E=ve([oe(1,k.$Bi),oe(2,v.$Ij)],E);function I(){const $=(0,j.localize)(0,null,o.default.nameLong),u=o.default.privacyStatementUrl?(0,j.localize)(2,null,"https://aka.ms/vscode-telemetry",o.default.privacyStatementUrl):(0,j.localize)(1,null,"https://aka.ms/vscode-telemetry"),p=D.$o?"":(0,j.localize)(3,null),d=(0,j.localize)(4,null),l=(0,j.localize)(5,null),f=(0,j.localize)(6,null),n=(0,j.localize)(7,null),r=`
|       | ${d} | ${l} | ${f} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,t=(0,j.localize)(8,null);return`
${$} ${u} ${p}

&nbsp;

${n}
${r}

&nbsp;

${t}
`}S.$Qn.as(h.$Vn.Configuration).registerConfiguration({id:b.$Jl,order:1,type:"object",title:(0,j.localize)(9,null),properties:{[b.$Kl]:{type:"string",enum:["all","error","crash","off"],enumDescriptions:[(0,j.localize)(10,null),(0,j.localize)(11,null),(0,j.localize)(12,null),(0,j.localize)(13,null)],markdownDescription:I(),default:"all",restricted:!0,scope:1,tags:["usesOnlineServices","telemetry"]}}}),S.$Qn.as(h.$Vn.Configuration).registerConfiguration({id:b.$Jl,order:110,type:"object",title:(0,j.localize)(14,null),properties:{[b.$Ml]:{type:"boolean",markdownDescription:o.default.privacyStatementUrl?(0,j.localize)(16,null,o.default.nameLong,o.default.privacyStatementUrl):(0,j.localize)(15,null,o.default.nameLong),default:!0,restricted:!0,markdownDeprecationMessage:(0,j.localize)(17,null,`\`#${b.$Kl}#\``),scope:1,tags:["usesOnlineServices","telemetry"]}}})}),define(ae[150],ce([0,1,14,20,174,143,175]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$s4=void 0;async function k(S,b){const m=await b.request(S,R.CancellationToken.None),E=(await(0,A.$we)(m.stream)).toString(),I=m.res.statusCode??200;return{headers:m.res.headers,statusCode:I,responseData:E}}async function h(S){const b={method:S.type,headers:S.headers};return new Promise((E,I)=>{const $=D.request(S.url??"",b,u=>{u.on("data",function(p){E({headers:u.headers,statusCode:u.statusCode??200,responseData:p.toString()})}),u.on("error",function(p){I(p)})});$.write(S.data,u=>{u&&I(u)}),$.end()})}async function o(S,b,m){const E=typeof b.data=="string"?b.data:new TextDecoder().decode(b.data),I={type:"POST",headers:{...b.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(b.data).toString()},url:b.urlString,data:E};try{const $=S?await k(I,S):await h(I);m($.statusCode,$.headers,$.responseData)}catch{m(0,{})}}class v extends O.$r4{constructor(b,m,E,I,$){console.log("FaroSystemAppender constructor");const u={sendPOST:(p,d)=>{o(b,p,d)}};super(m,E,I,$,u)}fetch(b,m){return(0,j.default)(b,m)}}e.$s4=v}),define(ae[151],ce([0,1,15,25]),function(K,e,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bRc=void 0;async function D(O,j){const k=Object.create(null),h=(v,S)=>{const b=JSON.parse(v);k[S]=b};if(j){const v=[],S=await R.Promises.readdir(j);for(const m of S)try{(await R.Promises.stat((0,A.$jc)(j,m))).isDirectory()&&v.push(m)}catch{}const b=[];for(const m of v)(await R.Promises.readdir((0,A.$jc)(j,m))).filter(I=>I==="telemetry.json").length===1&&b.push(m);for(const m of b){const E=(await R.Promises.readFile((0,A.$jc)(j,m,"telemetry.json"))).toString();h(E,m)}}let o=(await R.Promises.readFile((0,A.$jc)(O,"telemetry-core.json"))).toString();return h(o,"vscode-core"),o=(await R.Promises.readFile((0,A.$jc)(O,"telemetry-extensions.json"))).toString(),h(o,"vscode-extensions"),JSON.stringify(k,null,4)}e.$bRc=D}),define(ae[152],ce([0,1,13,84,26]),function(K,e,A,R,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sQc=e.$rQc=void 0;async function O(k,h){let o=k.getItem(D.$Hl);return(typeof o!="string"||A.$j&&o==="6c9d2bc8f91b89624add29c0abeae7fb42bf539fa1cdb2e3e57cd668fa9bcead")&&(o=await(0,R.$gn)(h.error.bind(h))),o}e.$rQc=O;async function j(k,h){let o=k.getItem(D.$Il);return typeof o!="string"&&(o=await(0,R.$in)(h.error.bind(h))),o}e.$sQc=j}),define(ae[22],ce([0,1,10]),function(K,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7k=void 0,e.$7k=(0,A.$8h)("IUriIdentityService")}),define(ae[153],ce([0,1,22,118,12,17,76,6,2]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ls=void 0;class o{static{this._clock=0}constructor(b){this.uri=b,this.time=o._clock++}touch(){return this.time=o._clock++,this}}let v=class{constructor(b){this.g=b,this.c=new h.$Sc,this.f=2**16;const m=new Map,E=I=>{let $=m.get(I.scheme);return $===void 0&&($=b.hasProvider(I)&&!this.g.hasCapability(I,1024),m.set(I.scheme,$)),$};this.c.add(k.Event.any(b.onDidChangeFileSystemProviderRegistrations,b.onDidChangeFileSystemProviderCapabilities)(I=>{m.delete(I.scheme)})),this.extUri=new O.$yg(E),this.d=new j.$ks((I,$)=>this.extUri.compare(I,$,!0),this.f)}dispose(){this.c.dispose(),this.d.clear()}asCanonicalUri(b){this.g.hasProvider(b)&&(b=(0,O.$Kg)(b));const m=this.d.get(b);return m?m.touch().uri.with({fragment:b.fragment}):(this.d.set(b,new o(b)),this.h(),b)}h(){if(this.d.size<this.f)return;const b=[...this.d.entries()].sort((E,I)=>E[1].time<I[1].time?1:E[1].time>I[1].time?-1:0);o._clock=0,this.d.clear();const m=this.f*.5;for(let E=0;E<m;E++)this.d.set(b[E][0],b[E][1].touch())}};e.$ls=v,e.$ls=v=ve([oe(0,D.$wk)],v),(0,R.$is)(A.$7k,v,1)}),define(ae[154],ce([0,1,6,2,12,48,31]),function(K,e,A,R,D,O,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$PQc=void 0;class k extends R.$Tc{constructor(o,v,S,b,m,E){super(),this.f=o,this.g=v,this.h=S,this.j=b,this.m=m,this.n=E,this.capabilities=this.g.capabilities,this.onDidChangeCapabilities=this.g.onDidChangeCapabilities,this.a=this.D(new A.$Wd),this.onDidChangeFile=this.a.event,this.b=O.$bi.forUris(()=>!(this.capabilities&1024)),this.c=new j.$Bc(I=>this.m.extUri.getComparisonKey(this.s(I))),this.q(),this.D(b.onDidChangeProfiles(()=>this.q())),this.D(this.g.onDidChangeFile(I=>this.r(I)))}q(){this.c.clear();for(const o of this.j.profiles)this.c.add(o.settingsResource),this.c.add(o.keybindingsResource),this.c.add(o.tasksResource),this.c.add(o.extensionsResource)}open(o,v){return this.g.open(this.s(o),v)}close(o){return this.g.close(o)}read(o,v,S,b,m){return this.g.read(o,v,S,b,m)}write(o,v,S,b,m){return this.g.write(o,v,S,b,m)}watch(o,v){this.b.set(o,o);const S=this.g.watch(this.s(o),v);return(0,R.$Rc)(()=>{this.b.delete(o),S.dispose()})}stat(o){return this.g.stat(this.s(o))}mkdir(o){return this.g.mkdir(this.s(o))}rename(o,v,S){return this.g.rename(this.s(o),this.s(v),S)}readFile(o,v){return this.g.readFile(this.s(o),v)}readFileStream(o,v,S){return this.g.readFileStream(this.s(o),v,S)}readdir(o){return this.g.readdir(this.s(o))}enforceAtomicReadFile(o){return this.c.has(o)}writeFile(o,v,S){return this.g.writeFile(this.s(o),v,S)}enforceAtomicWriteFile(o){return this.c.has(o)?{postfix:".vsctmp"}:!1}delete(o,v){return this.g.delete(this.s(o),v)}copy(o,v,S){if((0,D.$Ak)(this.g))return this.g.copy(this.s(o),this.s(v),S);throw new Error("copy not supported")}cloneFile(o,v){if((0,D.$Bk)(this.g))return this.g.cloneFile(this.s(o),this.s(v));throw new Error("clone not supported")}r(o){const v=[];for(const S of o){if(S.resource.scheme!==this.f)continue;const b=this.t(S.resource);this.b.findSubstr(b)&&v.push({resource:b,type:S.type,cId:S.cId})}v.length&&(this.n.debug("User data changed"),this.a.fire(v))}s(o){return o.with({scheme:this.f})}t(o){return o.with({scheme:this.h})}}e.$PQc=k}),define(ae[155],ce([0,1,110,15,48,17,11,10,16]),function(K,e,A,R,D,O,j,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ai=e.$zi=e.$yi=e.$xi=e.$wi=e.$vi=e.$ui=e.$ti=e.$si=e.$ri=e.$qi=e.$pi=e.$oi=e.$ni=e.$mi=e.WorkbenchState=e.$li=e.$ki=e.$ji=e.$ii=e.$hi=e.$gi=e.$fi=e.$ei=void 0,e.$ei=(0,k.$8h)("contextService");function o(i){const s=i;return typeof s?.id=="string"&&j.URI.isUri(s.uri)}e.$fi=o;function v(i){return typeof i?.id=="string"&&!o(i)&&!b(i)}e.$gi=v,e.$hi={id:"ext-dev"},e.$ii={id:"empty-window"};function S(i,s){if(typeof i=="string"||typeof i>"u")return typeof i=="string"?{id:(0,R.$nc)(i)}:s?e.$hi:e.$ii;const c=i;return c.configuration?{id:c.id,configPath:c.configuration}:c.folders.length===1?{id:c.id,uri:c.folders[0].uri}:{id:c.id}}e.$ji=S;function b(i){const s=i;return typeof s?.id=="string"&&j.URI.isUri(s.configPath)}e.$ki=b;function m(i){const s=i;if(s?.uri)return{id:s.id,uri:j.URI.revive(s.uri)};const c=i;if(c?.configPath)return{id:c.id,configPath:j.URI.revive(c.configPath)};if(i?.id)return{id:i.id}}e.$li=m;var E;(function(i){i[i.EMPTY=1]="EMPTY",i[i.FOLDER=2]="FOLDER",i[i.WORKSPACE=3]="WORKSPACE"})(E||(e.WorkbenchState=E={}));function I(i){const s=i;return!!(s&&typeof s=="object"&&typeof s.id=="string"&&Array.isArray(s.folders))}e.$mi=I;function $(i){const s=i;return!!(s&&typeof s=="object"&&j.URI.isUri(s.uri)&&typeof s.name=="string"&&typeof s.toResource=="function")}e.$ni=$;class u{constructor(s,c,a,y,w){this.h=s,this.j=a,this.k=y,this.l=w,this.c=D.$bi.forUris(this.l,()=>!0),this.folders=c}update(s){this.h=s.id,this.k=s.configuration,this.j=s.transient,this.l=s.l,this.folders=s.folders}get folders(){return this.g}set folders(s){this.g=s,this.n()}get id(){return this.h}get transient(){return this.j}get configuration(){return this.k}set configuration(s){this.k=s}getFolder(s){return s&&this.c.findSubstr(s)||null}n(){this.c=D.$bi.forUris(this.l,()=>!0);for(const s of this.folders)this.c.set(s.uri,s)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.$oi=u;class p{constructor(s,c){this.raw=c,this.uri=s.uri,this.index=s.index,this.name=s.name}toResource(s){return(0,O.$Jg)(this.uri,s)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.$pi=p;function d(i){return new p({uri:i,index:0,name:(0,O.$Fg)(i)},{uri:i.toString()})}e.$qi=d,e.$ri="code-workspace",e.$si=`.${e.$ri}`,e.$ti=[{name:(0,A.localize)(0,null),extensions:[e.$ri]}],e.$ui="workspace.json";function l(i,s){return O.$Ag.isEqualOrParent(i,s.untitledWorkspacesHome)}e.$vi=l;function f(i){let s;return j.URI.isUri(i)?s=i:s=i.configuration,s?.scheme===h.Schemas.tmp}e.$wi=f,e.$xi="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function n(i){return i.id===e.$xi}e.$yi=n;function r(i,s){return!l(i,s)&&!f(i)}e.$zi=r;function t(i){return(typeof i=="string"?(0,R.$oc)(i):(0,O.$Hg)(i))===e.$si}e.$Ai=t}),define(ae[23],ce([0,1,43,6,2,17,11,109,18,12,10,4,155,31,22,8,24,29,3]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$al=e.$_k=e.$$k=e.$0k=e.$9k=e.$8k=e.ProfileResourceType=void 0;var d;(function(i){i.Settings="settings",i.Keybindings="keybindings",i.Snippets="snippets",i.Tasks="tasks",i.Extensions="extensions",i.GlobalState="globalState"})(d||(e.ProfileResourceType=d={}));function l(i){const s=i;return!!(s&&typeof s=="object"&&typeof s.id=="string"&&typeof s.isDefault=="boolean"&&typeof s.name=="string"&&j.URI.isUri(s.location)&&j.URI.isUri(s.globalStorageHome)&&j.URI.isUri(s.settingsResource)&&j.URI.isUri(s.keybindingsResource)&&j.URI.isUri(s.tasksResource)&&j.URI.isUri(s.snippetsHome)&&j.URI.isUri(s.extensionsResource))}e.$8k=l,e.$9k=(0,v.$8h)("IUserDataProfilesService");function f(i,s){return{id:i.id,isDefault:i.isDefault,name:i.name,shortName:i.shortName,icon:i.icon,location:j.URI.revive(i.location).with({scheme:s}),globalStorageHome:j.URI.revive(i.globalStorageHome).with({scheme:s}),settingsResource:j.URI.revive(i.settingsResource).with({scheme:s}),keybindingsResource:j.URI.revive(i.keybindingsResource).with({scheme:s}),tasksResource:j.URI.revive(i.tasksResource).with({scheme:s}),snippetsHome:j.URI.revive(i.snippetsHome).with({scheme:s}),extensionsResource:j.URI.revive(i.extensionsResource).with({scheme:s}),cacheHome:j.URI.revive(i.cacheHome).with({scheme:s}),useDefaultFlags:i.useDefaultFlags,isTransient:i.isTransient}}e.$0k=f;function n(i,s,c,a,y,w){return{id:i,name:s,location:c,isDefault:!1,shortName:y?.shortName,icon:y?.icon,globalStorageHome:w&&y?.useDefaultFlags?.globalState?w.globalStorageHome:(0,O.$Jg)(c,"globalStorage"),settingsResource:w&&y?.useDefaultFlags?.settings?w.settingsResource:(0,O.$Jg)(c,"settings.json"),keybindingsResource:w&&y?.useDefaultFlags?.keybindings?w.keybindingsResource:(0,O.$Jg)(c,"keybindings.json"),tasksResource:w&&y?.useDefaultFlags?.tasks?w.tasksResource:(0,O.$Jg)(c,"tasks.json"),snippetsHome:w&&y?.useDefaultFlags?.snippets?w.snippetsHome:(0,O.$Jg)(c,"snippets"),extensionsResource:w&&y?.useDefaultFlags?.extensions?w.extensionsResource:(0,O.$Jg)(c,"extensions.json"),cacheHome:(0,O.$Jg)(a,i),useDefaultFlags:y?.useDefaultFlags,isTransient:y?.transient}}e.$$k=n;let r=class extends D.$Tc{static{this.b="userDataProfiles"}static{this.c="profileAssociations"}get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.z.profiles,...this.r.profiles]}constructor(s,c,a,y){super(),this.s=s,this.t=c,this.u=a,this.w=y,this.f=!0,this.h=this.D(new R.$Wd),this.onDidChangeProfiles=this.h.event,this.j=this.D(new R.$Wd),this.onWillCreateProfile=this.j.event,this.m=this.D(new R.$Wd),this.onWillRemoveProfile=this.m.event,this.n=this.D(new R.$Wd),this.onDidResetWorkspaces=this.n.event,this.q=new Map,this.r={profiles:[],workspaces:new m.$Ac,emptyWindows:new Map},this.profilesHome=(0,O.$Jg)(this.s.userRoamingDataHome,"profiles"),this.g=(0,O.$Jg)(this.s.cacheHome,"CachedProfilesData")}init(){this.y=void 0}setEnablement(s){this.f!==s&&(this.y=void 0,this.f=s)}isEnabled(){return this.f}get z(){if(!this.y){const s=this.C(),c=[s];if(this.f)try{for(const w of this.O()){if(!w.name||!(0,p.$Kf)(w.name)||!w.location){this.w.warn("Skipping the invalid stored profile",w.location||w.name);continue}c.push(n((0,O.$Gg)(w.location),w.name,w.location,this.g,{shortName:w.shortName,icon:w.icon,useDefaultFlags:w.useDefaultFlags},s))}}catch(w){this.w.error(w)}const a=new m.$Ac,y=new Map;if(c.length)try{const w=this.Q();if(w.workspaces)for(const[P,N]of Object.entries(w.workspaces)){const L=j.URI.parse(P),J=c.find(ne=>ne.id===N);J&&a.set(L,J)}if(w.emptyWindows)for(const[P,N]of Object.entries(w.emptyWindows)){const L=c.find(J=>J.id===N);L&&y.set(P,L)}}catch(w){this.w.error(w)}this.y={profiles:c,workspaces:a,emptyWindows:y}}return this.y}C(){const s=n("__default__profile__",(0,k.localize)(0,null),this.s.userRoamingDataHome,this.g);return{...s,extensionsResource:this.S()??s.extensionsResource,isDefault:!0}}async createTransientProfile(s){const c="Temp",a=new RegExp(`${(0,u.$Qe)(c)}\\s(\\d+)`);let y=0;for(const P of this.profiles){const N=a.exec(P.name),L=N?parseInt(N[1]):0;y=L>y?L:y}const w=`${c} ${y+1}`;return this.createProfile((0,A.$Vi)((0,$.$sg)()).toString(16),w,{transient:!0},s)}async createNamedProfile(s,c,a){return this.createProfile((0,A.$Vi)((0,$.$sg)()).toString(16),s,c,a)}async createProfile(s,c,a,y){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const w=await this.F(s,c,a);return y&&await this.setProfileForWorkspace(y,w),w}async F(s,c,a){if(!(0,p.$Kf)(c)||!c)throw new Error("Name of the profile is mandatory and must be of type `string`");let y=this.q.get(c);return y||(y=(async()=>{try{const w=this.profiles.find(L=>L.name===c||L.id===s);if(w)return w;const P=n(s,c,(0,O.$Jg)(this.profilesHome,s),this.g,a,this.defaultProfile);await this.t.createFolder(P.location);const N=[];return this.j.fire({profile:P,join(L){N.push(L)}}),await I.Promises.settled(N),this.I([P],[],[]),P}finally{this.q.delete(c)}})(),this.q.set(c,y)),y}async updateProfile(s,c){if(!this.f)throw new Error("Profiles are disabled in the current environment.");let a=this.profiles.find(y=>y.id===s.id);if(!a)throw new Error(`Profile '${s.name}' does not exist`);return a=n(a.id,c.name??a.name,a.location,this.g,{shortName:c.shortName??a.shortName,icon:c.icon===null?void 0:c.icon??a.icon,transient:c.transient??a.isTransient,useDefaultFlags:c.useDefaultFlags??a.useDefaultFlags},this.defaultProfile),this.I([],[],[a]),a}async removeProfile(s){if(!this.f)throw new Error("Profiles are disabled in the current environment.");if(s.isDefault)throw new Error("Cannot remove default profile");const c=this.profiles.find(y=>y.id===s.id);if(!c)throw new Error(`Profile '${s.name}' does not exist`);const a=[];this.m.fire({profile:c,join(y){a.push(y)}});try{await Promise.allSettled(a)}catch(y){this.w.error(y)}for(const y of[...this.z.emptyWindows.keys()])c.id===this.z.emptyWindows.get(y)?.id&&this.z.emptyWindows.delete(y);for(const y of[...this.z.workspaces.keys()])c.id===this.z.workspaces.get(y)?.id&&this.z.workspaces.delete(y);this.M(),this.I([],[c],[]);try{await this.t.del(c.cacheHome,{recursive:!0})}catch(y){(0,o.$Nk)(y)!==1&&this.w.error(y)}}async setProfileForWorkspace(s,c){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const a=this.profiles.find(y=>y.id===c.id);if(!a)throw new Error(`Profile '${c.name}' does not exist`);this.L(s,a)}unsetWorkspace(s,c){if(!this.f)throw new Error("Profiles are disabled in the current environment.");this.L(s,void 0,c)}async resetWorkspaces(){this.r.workspaces.clear(),this.r.emptyWindows.clear(),this.z.workspaces.clear(),this.z.emptyWindows.clear(),this.M(),this.n.fire()}async cleanUp(){if(this.f&&await this.t.exists(this.profilesHome)){const s=await this.t.resolve(this.profilesHome);await Promise.all((s.children||[]).filter(c=>c.isDirectory&&this.profiles.every(a=>!this.u.extUri.isEqual(a.location,c.resource))).map(c=>this.t.del(c.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.f)return;const s=this.r.profiles.filter(c=>!this.H(c));await Promise.allSettled(s.map(c=>this.removeProfile(c)))}getProfileForWorkspace(s){const c=this.G(s);return j.URI.isUri(c)?this.r.workspaces.get(c)??this.z.workspaces.get(c):this.r.emptyWindows.get(c)??this.z.emptyWindows.get(c)}G(s){return(0,b.$fi)(s)?s.uri:(0,b.$ki)(s)?s.configPath:s.id}H(s){return!!([...this.r.emptyWindows.values()].some(c=>this.u.extUri.isEqual(c.location,s.location))||[...this.r.workspaces.values()].some(c=>this.u.extUri.isEqual(c.location,s.location))||[...this.z.emptyWindows.values()].some(c=>this.u.extUri.isEqual(c.location,s.location))||[...this.z.workspaces.values()].some(c=>this.u.extUri.isEqual(c.location,s.location)))}I(s,c,a){const y=[...this.profiles,...s],w=[];this.r.profiles=[];for(let P of y)P.isDefault||c.some(N=>P.id===N.id)||(P=a.find(N=>P.id===N.id)??P,P.isTransient?this.r.profiles.push(P):w.push({location:P.location,name:P.name,shortName:P.shortName,icon:P.icon,useDefaultFlags:P.useDefaultFlags}));this.P(w),this.y=void 0,this.J(s,c,a)}J(s,c,a){this.h.fire({added:s,removed:c,updated:a,all:this.profiles})}L(s,c,a){a=c?.isTransient?!0:a,a||this.L(s,void 0,!0);const y=this.G(s),w=a?this.r:this.z;j.URI.isUri(y)?(w.workspaces.delete(y),c&&w.workspaces.set(y,c)):(w.emptyWindows.delete(y),c&&w.emptyWindows.set(y,c)),a||this.M()}M(){const s={};for(const[a,y]of this.z.workspaces.entries())s[a.toString()]=y.id;const c={};for(const[a,y]of this.z.emptyWindows.entries())c[a.toString()]=y.id;this.R({workspaces:s,emptyWindows:c}),this.y=void 0}N(s){const c={},a=this.C();if(s.workspaces)for(const[w,P]of Object.entries(s.workspaces)){const N=j.URI.parse(P);c[w]=this.u.extUri.isEqual(N,a.location)?a.id:this.u.extUri.basename(N)}const y={};if(s.emptyWindows)for(const[w,P]of Object.entries(s.emptyWindows)){const N=j.URI.parse(P);y[w]=this.u.extUri.isEqual(N,a.location)?a.id:this.u.extUri.basename(N)}return{workspaces:c,emptyWindows:y}}O(){return[]}P(s){throw new Error("not implemented")}Q(){return{}}R(s){throw new Error("not implemented")}S(){}};e.$_k=r,e.$_k=r=ve([oe(0,h.$ci),oe(1,o.$wk),oe(2,E.$7k),oe(3,S.$qj)],r);class t extends r{constructor(){super(...arguments),this.a=[],this.X={}}O(){return this.a}P(s){this.a=s}Q(){return this.X}R(s){this.X=s}}e.$al=t}),define(ae[42],ce([0,1,8,14,2,6,31,11,21,27,12,10,4,23,22,3,9,26]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eq=e.$dq=e.$cq=e.ExtensionsProfileScanningErrorCode=void 0;var p;(function(r){r.ERROR_PROFILE_NOT_FOUND="ERROR_PROFILE_NOT_FOUND",r.ERROR_INVALID_CONTENT="ERROR_INVALID_CONTENT"})(p||(e.ExtensionsProfileScanningErrorCode=p={}));class d extends Error{constructor(t,i){super(t),this.code=i}}e.$cq=d,e.$dq=(0,S.$8h)("IExtensionsProfileScannerService");let l=class extends D.$Tc{constructor(t,i,s,c,a,y){super(),this.j=t,this.m=i,this.n=s,this.q=c,this.r=a,this.s=y,this.b=this.D(new O.$Wd),this.onAddExtensions=this.b.event,this.c=this.D(new O.$Wd),this.onDidAddExtensions=this.c.event,this.f=this.D(new O.$Wd),this.onRemoveExtensions=this.f.event,this.g=this.D(new O.$Wd),this.onDidRemoveExtensions=this.g.event,this.h=new j.$Ac}scanProfileExtensions(t,i){return this.t(t,void 0,i)}async addExtensionsToProfile(t,i){const s=[],c=[];try{return await this.t(i,a=>{const y=[];for(const w of a)t.some(([P])=>(0,o.$ap)(P.identifier,w.identifier)&&(P.manifest.version!==w.version||P.location.toString()!==w.location.toString()))?s.push(w):y.push(w);for(const[w,P]of t){const N=y.findIndex(J=>(0,o.$ap)(J.identifier,w.identifier)&&J.version===w.manifest.version&&J.location.toString()===w.location.toString()),L={identifier:w.identifier,version:w.manifest.version,location:w.location,metadata:P};N===-1?(c.push(L),y.push(L)):y.splice(N,1,L)}return c.length&&this.b.fire({extensions:c,profileLocation:i}),s.length&&this.f.fire({extensions:s,profileLocation:i}),y}),c.length&&this.c.fire({extensions:c,profileLocation:i}),s.length&&this.g.fire({extensions:s,profileLocation:i}),c}catch(a){throw c.length&&this.c.fire({extensions:c,error:a,profileLocation:i}),s.length&&this.g.fire({extensions:s,error:a,profileLocation:i}),a}}async updateMetadata(t,i){const s=[];return await this.t(i,c=>{const a=[];for(const y of c){const w=t.find(([P])=>(0,o.$ap)(P.identifier,y.identifier)&&P.manifest.version===y.version);w&&(y.metadata={...y.metadata,...w[1]},s.push(y)),a.push(y)}return a}),s}async removeExtensionFromProfile(t,i){const s=[];try{await this.t(i,c=>{const a=[];for(const y of c)(0,o.$ap)(y.identifier,t.identifier)?s.push(y):a.push(y);return s.length&&this.f.fire({extensions:s,profileLocation:i}),a}),s.length&&this.g.fire({extensions:s,profileLocation:i})}catch(c){throw s.length&&this.g.fire({extensions:s,error:c,profileLocation:i}),c}}async t(t,i,s){return this.F(t).queue(async()=>{let c=[],a;try{const y=await this.m.readFile(t);a=JSON.parse(y.value.toString().trim()||"[]")}catch(y){if((0,v.$Nk)(y)!==1)throw y;if(this.q.extUri.isEqual(t,this.n.defaultProfile.extensionsResource)&&(a=await this.C()),!a&&s?.bailOutWhenFileNotFound)throw new d((0,$.$0)(y),"ERROR_PROFILE_NOT_FOUND")}if(a){Array.isArray(a)||this.u(t);let y=!1;for(const w of a){f(w)||this.u(t);let P;if((0,I.$Kf)(w.relativeLocation)&&w.relativeLocation)P=this.y(w.relativeLocation);else if((0,I.$Kf)(w.location)){this.s.warn(`Extensions profile: Ignoring extension with invalid location: ${w.location}`);continue}else{P=k.URI.revive(w.location);const N=this.w(P);N&&(y=!0,w.relativeLocation=N)}(0,I.$Rf)(w.metadata?.hasPreReleaseVersion)&&w.metadata?.preRelease&&(y=!0,w.metadata.hasPreReleaseVersion=!0),c.push({identifier:w.identifier,location:P,version:w.version,metadata:w.metadata})}y&&await this.m.writeFile(t,R.$ke.fromString(JSON.stringify(a)))}if(i){c=i(c);const y=c.map(w=>({identifier:w.identifier,version:w.version,location:w.location.toJSON(),relativeLocation:this.w(w.location),metadata:w.metadata}));await this.m.writeFile(t,R.$ke.fromString(JSON.stringify(y)))}return c})}u(t){const i=new d(`Invalid extensions content in ${t.toString()}`,"ERROR_INVALID_CONTENT");throw this.r.publicLogError2("extensionsProfileScanningError",{code:i.code}),i}w(t){return this.q.extUri.isEqual(this.q.extUri.dirname(t),this.j)?this.q.extUri.basename(t):void 0}y(t){return this.q.extUri.joinPath(this.j,t)}async C(){return this.z||(this.z=(async()=>{const t=this.q.extUri.joinPath(this.n.defaultProfile.location,"extensions.json"),i=this.q.extUri.joinPath(this.j,".init-default-profile-extensions");let s;try{s=(await this.m.readFile(t)).value.toString()}catch(a){if((0,v.$Nk)(a)===1)return;throw a}this.s.info("Migrating extensions from old default profile location",t.toString());let c;try{const a=JSON.parse(s);Array.isArray(a)&&a.every(y=>f(y))?c=a:this.s.warn("Skipping migrating from old default profile locaiton: Found invalid data",a)}catch(a){this.s.error(a)}if(c)try{await this.m.createFile(this.n.defaultProfile.extensionsResource,R.$ke.fromString(JSON.stringify(c)),{overwrite:!1}),this.s.info("Migrated extensions from old default profile location to new location",t.toString(),this.n.defaultProfile.extensionsResource.toString())}catch(a){if((0,v.$Nk)(a)===3)this.s.info("Migration from old default profile location to new location is done by another window",t.toString(),this.n.defaultProfile.extensionsResource.toString());else throw a}try{await this.m.del(t)}catch(a){(0,v.$Nk)(a)!==1&&this.s.error(a)}try{await this.m.del(i)}catch(a){(0,v.$Nk)(a)!==1&&this.s.error(a)}return c})()),this.z}F(t){let i=this.h.get(t);return i||(i=new A.$ch,this.h.set(t,i)),i}};e.$eq=l,e.$eq=l=ve([oe(1,v.$wk),oe(2,m.$9k),oe(3,E.$7k),oe(4,u.$Al),oe(5,b.$qj)],l);function f(r){return(0,I.$Mf)(r)&&(0,h.$Io)(r.identifier)&&(n(r.location)||(0,I.$Kf)(r.location)&&r.location)&&((0,I.$Rf)(r.relativeLocation)||(0,I.$Kf)(r.relativeLocation))&&r.version&&(0,I.$Kf)(r.version)}function n(r){return r?(0,I.$Kf)(r.path)&&(0,I.$Kf)(r.scheme):!1}}),define(ae[54],ce([0,1,19,8,30,14,9,38,82,2,16,15,13,17,39,56,3,11,98,18,27,37,51,12,10,4,32,6,47,42,23,22,115]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f,n,r,t,i,s,c,a,y,w,P,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lq=e.$kq=e.$jq=e.$iq=e.$hq=e.Translations=void 0;var L;(function(se){function B(G,C){if(G===C)return!0;const F=Object.keys(G),W=new Set;for(const Q of Object.keys(C))W.add(Q);if(F.length!==W.size)return!1;for(const Q of F){if(G[Q]!==C[Q])return!1;W.delete(Q)}return W.size===0}se.equals=B})(L||(e.Translations=L={})),e.$hq=(0,t.$8h)("IExtensionsScannerService");let J=class extends o.$Tc{constructor(B,G,C,F,W,Q,Z,ee,q,V,T,g){super(),this.systemExtensionsLocation=B,this.userExtensionsLocation=G,this.q=C,this.r=F,this.s=W,this.t=Q,this.u=Z,this.w=ee,this.y=q,this.z=V,this.C=T,this.F=g,this.g=this.D(new c.$Wd),this.onDidChangeCache=this.g.event,this.h=(0,m.$Jg)(this.userExtensionsLocation,".obsolete"),this.j=this.D(this.F.createInstance(ie,this.r,this.h)),this.m=this.D(this.F.createInstance(ie,this.r,this.h)),this.n=this.D(this.F.createInstance(pe,this.h)),this.H=void 0,this.D(this.j.onDidChangeCache(()=>this.g.fire(0))),this.D(this.m.onDidChangeCache(()=>this.g.fire(1)))}getTargetPlatform(){return this.G||(this.G=(0,l.$lp)(this.u,this.w)),this.G}async scanAllExtensions(B,G,C){const[F,W]=await Promise.all([this.scanSystemExtensions(B),this.scanUserExtensions(G)]),Q=C?await this.scanExtensionsUnderDevelopment(B,[...F,...W]):[];return this.L(F,W,Q,await this.getTargetPlatform(),!0)}async scanSystemExtensions(B){const G=[];G.push(this.M(!!B.useCache,B.language)),G.push(this.N(B.language,!!B.checkControlFile));const[C,F]=await Promise.all(G);return this.J([...C,...F],0,B,!1)}async scanUserExtensions(B){const G=B.profileLocation??this.userExtensionsLocation;this.w.trace("Started scanning user extensions",G);const C=this.C.extUri.isEqual(B.profileLocation,this.s.defaultProfile.extensionsResource)?{bailOutWhenFileNotFound:!0}:void 0,F=await this.P(G,!!B.profileLocation,1,!B.includeUninstalled,B.language,!0,C),W=B.useCache&&!F.devMode&&F.excludeObsolete?this.m:this.n;let Q;try{Q=await W.scanExtensions(F)}catch(Z){if(Z instanceof y.$cq&&Z.code==="ERROR_PROFILE_NOT_FOUND")await this.I(),Q=await W.scanExtensions(F);else throw Z}return Q=await this.J(Q,1,B,!0),this.w.trace("Scanned user extensions:",Q.length),Q}async scanExtensionsUnderDevelopment(B,G){if(this.y.isExtensionDevelopment&&this.y.extensionDevelopmentLocationURI){const C=(await Promise.all(this.y.extensionDevelopmentLocationURI.filter(F=>F.scheme===v.Schemas.file).map(async F=>{const W=await this.P(F,!1,1,!0,B.language,!1,void 0);return(await this.n.scanOneOrMultipleExtensions(W)).map(Z=>(Z.type=G.find(ee=>(0,l.$ap)(ee.identifier,Z.identifier))?.type??Z.type,this.n.validate(Z,W)))}))).flat();return this.J(C,"development",B,!0)}return[]}async scanExistingExtension(B,G,C){const F=await this.P(B,!1,G,!0,C.language,!0,void 0),W=await this.n.scanExtension(F);return!W||!C.includeInvalid&&!W.isValid?null:W}async scanOneOrMultipleExtensions(B,G,C){const F=await this.P(B,!1,G,!0,C.language,!0,void 0),W=await this.n.scanOneOrMultipleExtensions(F);return this.J(W,G,C,!0)}async scanMetadata(B){const G=(0,m.$Jg)(B,"package.json"),C=(await this.u.readFile(G)).value.toString();return JSON.parse(C).__metadata}async updateMetadata(B,G){const C=(0,m.$Jg)(B,"package.json"),F=(await this.u.readFile(C)).value.toString(),W=JSON.parse(F);G.isMachineScoped===!1&&delete G.isMachineScoped,G.isBuiltin===!1&&delete G.isBuiltin,W.__metadata={...W.__metadata,...G},await this.u.writeFile((0,m.$Jg)(B,"package.json"),O.$ke.fromString(JSON.stringify(W,null,"	")))}async initializeDefaultProfileExtensions(){try{await this.t.scanProfileExtensions(this.s.defaultProfile.extensionsResource,{bailOutWhenFileNotFound:!0})}catch(B){if(B instanceof y.$cq&&B.code==="ERROR_PROFILE_NOT_FOUND")await this.I();else throw B}}async I(){return this.H||(this.H=(async()=>{try{this.w.info("Started initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString());const B=await this.scanUserExtensions({includeInvalid:!0});if(B.length)await this.t.addExtensionsToProfile(B.map(G=>[G,G.metadata]),this.s.defaultProfile.extensionsResource);else try{await this.u.createFile(this.s.defaultProfile.extensionsResource,O.$ke.fromString(JSON.stringify([])))}catch(G){(0,r.$Nk)(G)!==1&&this.w.warn("Failed to create default profile extensions manifest in extensions installation folder.",this.userExtensionsLocation.toString(),(0,j.$0)(G))}this.w.info("Completed initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString())}catch(B){this.w.error(B)}finally{this.H=void 0}})()),this.H}async J(B,G,C,F){return C.includeAllVersions||(B=this.L(G===0?B:void 0,G===1?B:void 0,G==="development"?B:void 0,await this.getTargetPlatform(),F)),C.includeInvalid||(B=B.filter(W=>W.isValid)),B.sort((W,Q)=>{const Z=S.$nc(W.location.fsPath),ee=S.$nc(Q.location.fsPath);return Z<ee?-1:Z>ee?1:0})}L(B,G,C,F,W){const Q=(ee,q,V)=>{if(ee.isValid&&!q.isValid)return!1;if(ee.isValid===q.isValid){if(W&&E.gt(ee.manifest.version,q.manifest.version))return this.w.debug(`Skipping extension ${q.location.path} with lower version ${q.manifest.version} in favour of ${ee.location.path} with version ${ee.manifest.version}`),!1;if(E.eq(ee.manifest.version,q.manifest.version)){if(ee.type===0)return this.w.debug(`Skipping extension ${q.location.path} in favour of system extension ${ee.location.path} with same version`),!1;if(ee.targetPlatform===F)return this.w.debug(`Skipping extension ${q.location.path} from different target platform ${q.targetPlatform}`),!1}}return V?this.w.warn(`Overwriting user extension ${ee.location.path} with ${q.location.path}.`):this.w.debug(`Overwriting user extension ${ee.location.path} with ${q.location.path}.`),!0},Z=new f.$vm;return B?.forEach(ee=>{const q=Z.get(ee.identifier.id);(!q||Q(q,ee,!1))&&Z.set(ee.identifier.id,ee)}),G?.forEach(ee=>{const q=Z.get(ee.identifier.id);if(!q&&B&&ee.type===0){this.w.debug(`Skipping obsolete system extension ${ee.location.path}.`);return}(!q||Q(q,ee,!1))&&Z.set(ee.identifier.id,ee)}),C?.forEach(ee=>{const q=Z.get(ee.identifier.id);(!q||Q(q,ee,!0))&&Z.set(ee.identifier.id,ee),Z.set(ee.identifier.id,ee)}),[...Z.values()]}async M(B,G){this.w.trace("Started scanning system extensions");const C=await this.P(this.systemExtensionsLocation,!1,0,!0,G,!0,void 0),W=await(B&&!C.devMode?this.j:this.n).scanExtensions(C);return this.w.trace("Scanned system extensions:",W.length),W}async N(B,G){const C=this.y.isBuilt?[]:this.z.builtInExtensions;if(!C?.length)return[];this.w.trace("Started scanning dev system extensions");const F=G?await this.O():{},W=[],Q=u.URI.file(S.$hc(S.$jc(v.$qg.asFileUri("").fsPath,"..",".build","builtInExtensions")));for(const ee of C){const q=F[ee.name]||"marketplace";switch(q){case"disabled":break;case"marketplace":W.push((0,m.$Jg)(Q,ee.name));break;default:W.push(u.URI.file(q));break}}const Z=await Promise.all(W.map(async ee=>this.n.scanExtension(await this.P(ee,!1,0,!0,B,!0,void 0))));return this.w.trace("Scanned dev system extensions:",Z.length),(0,A.$Hb)(Z)}async O(){try{const B=await this.u.readFile(this.q);return JSON.parse(B.value.toString())}catch{return{}}}async P(B,G,C,F,W,Q,Z){const ee=await this.f(W??b.$w),q=await this.Q(B),V=G&&!this.C.extUri.isEqual(B,this.s.defaultProfile.extensionsResource)?this.s.defaultProfile.extensionsResource:void 0,T=V?await this.Q(V):void 0;return new ne(B,q,V,T,G,Z,C,F,Q,this.z.vscodeVersion,this.z.date,this.z.commit,!this.y.isBuilt,W,ee)}async Q(B){try{const G=await this.u.stat(B);if(typeof G.mtime=="number")return G.mtime}catch{}}};e.$iq=J,e.$iq=J=ve([oe(4,w.$9k),oe(5,y.$dq),oe(6,r.$wk),oe(7,i.$qj),oe(8,d.$ci),oe(9,s.$Ij),oe(10,P.$7k),oe(11,t.$7h)],J);class ne{constructor(B,G,C,F,W,Q,Z,ee,q,V,T,g,z,x,X){this.location=B,this.mtime=G,this.applicationExtensionslocation=C,this.applicationExtensionslocationMtime=F,this.profile=W,this.profileScanOptions=Q,this.type=Z,this.excludeObsolete=ee,this.validate=q,this.productVersion=V,this.productDate=T,this.productCommit=g,this.devMode=z,this.language=x,this.translations=X}static createNlsConfiguration(B){return{language:B.language,pseudo:B.language==="pseudo",devMode:B.devMode,translations:B.translations}}static equals(B,G){return(0,m.$Cg)(B.location,G.location)&&B.mtime===G.mtime&&(0,m.$Cg)(B.applicationExtensionslocation,G.applicationExtensionslocation)&&B.applicationExtensionslocationMtime===G.applicationExtensionslocationMtime&&B.profile===G.profile&&D.$In(B.profileScanOptions,G.profileScanOptions)&&B.type===G.type&&B.excludeObsolete===G.excludeObsolete&&B.validate===G.validate&&B.productVersion===G.productVersion&&B.productDate===G.productDate&&B.productCommit===G.productCommit&&B.devMode===G.devMode&&B.language===G.language&&L.equals(B.translations,G.translations)}}e.$jq=ne;let pe=class extends o.$Tc{constructor(B,G,C,F,W){super(),this.f=B,this.g=G,this.h=C,this.j=F,this.m=W}async scanExtensions(B){const G=B.profile?await this.q(B):await this.n(B);let C={};if(B.excludeObsolete&&B.type===1)try{const F=(await this.j.readFile(this.f)).value.toString();C=JSON.parse(F)}catch{}return(0,$.$Xf)(C)?G:G.filter(F=>!C[l.$bp.create(F).toString()])}async n(B){const G=await this.j.resolve(B.location);if(!G.children?.length)return[];const C=await Promise.all(G.children.map(async F=>{if(!F.isDirectory||B.type===1&&(0,m.$Gg)(F.resource).indexOf(".")===0)return null;const W=new ne(F.resource,B.mtime,B.applicationExtensionslocation,B.applicationExtensionslocationMtime,B.profile,B.profileScanOptions,B.type,B.excludeObsolete,B.validate,B.productVersion,B.productDate,B.productCommit,B.devMode,B.language,B.translations);return this.scanExtension(W)}));return(0,A.$Hb)(C).sort((F,W)=>F.location.path<W.location.path?-1:1)}async q(B){let G=await this.r(B.location,()=>!0,B);if(B.applicationExtensionslocation&&!this.h.extUri.isEqual(B.location,B.applicationExtensionslocation)){G=G.filter(F=>!F.metadata?.isApplicationScoped);const C=await this.r(B.applicationExtensionslocation,F=>!!F.metadata?.isBuiltin||!!F.metadata?.isApplicationScoped,B);G.push(...C)}return G}async r(B,G,C){const F=await this.g.scanProfileExtensions(B,C.profileScanOptions);if(!F.length)return[];const W=await Promise.all(F.map(async Q=>{if(G(Q)){const Z=new ne(Q.location,C.mtime,C.applicationExtensionslocation,C.applicationExtensionslocationMtime,C.profile,C.profileScanOptions,C.type,C.excludeObsolete,C.validate,C.productVersion,C.productDate,C.productCommit,C.devMode,C.language,C.translations);return this.scanExtension(Z,Q.metadata)}return null}));return(0,A.$Hb)(W)}async scanOneOrMultipleExtensions(B){try{if(await this.j.exists((0,m.$Jg)(B.location,"package.json"))){const G=await this.scanExtension(B);return G?[G]:[]}else return await this.scanExtensions(B)}catch(G){return this.m.error(`Error scanning extensions at ${B.location.path}:`,(0,j.$0)(G)),[]}}async scanExtension(B,G){try{let C=await this.scanExtensionManifest(B.location);if(C){C.publisher||(C.publisher=f.$pm),G=G??C.__metadata,delete C.__metadata;const F=(0,l.$fp)(C.publisher,C.name),W=G?.id?{id:F,uuid:G.id}:{id:F},Q=G?.isSystem?0:B.type,Z=Q===0||!!G?.isBuiltin;C=await this.s(B.location,C,ne.createNlsConfiguration(B));const ee={type:Q,identifier:W,manifest:C,location:B.location,isBuiltin:Z,targetPlatform:G?.targetPlatform??"undefined",metadata:G,isValid:!0,validations:[]};return B.validate?this.validate(ee,B):ee}}catch(C){B.type!==0&&this.m.error(C)}return null}validate(B,G){let C=!0;const F=(0,n.$qp)(G.productVersion,G.productDate,G.location,B.manifest,B.isBuiltin);for(const[W,Q]of F)W===I.default.Error&&(C=!1,this.m.error(this.y(G.location,Q)));return B.isValid=C,B.validations=F,B}async scanExtensionManifest(B){const G=(0,m.$Jg)(B,"package.json");let C;try{C=(await this.j.readFile(G)).value.toString()}catch(W){return(0,r.$Nk)(W)!==1&&this.m.error(this.y(B,(0,p.localize)(0,null,G.path,W.message))),null}let F;try{F=JSON.parse(C)}catch{const Q=[];(0,k.$ln)(C,Q);for(const Z of Q)this.m.error(this.y(B,(0,p.localize)(1,null,G.path,Z.offset,Z.length,(0,h.$fq)(Z.error))));return null}return(0,k.$un)(F)!=="object"?(this.m.error(this.y(B,(0,p.localize)(2,null,G.path))),null):F}async s(B,G,C){const F=await this.t(B,G,C);if(F)try{const W=[],Q=await this.u(F.default,W);if(W.length>0)return W.forEach(ee=>{this.m.error(this.y(B,(0,p.localize)(3,null,F.default?.path,(0,h.$fq)(ee.error))))}),G;if((0,k.$un)(F)!=="object")return this.m.error(this.y(B,(0,p.localize)(4,null,F.default?.path))),G;const Z=F.values||Object.create(null);return(0,N.$gq)(this.m,G,Z,Q)}catch{}return G}async t(B,G,C){const F=(0,m.$Jg)(B,"package.nls.json"),W=(q,V)=>{V.forEach(T=>{this.m.error(this.y(B,(0,p.localize)(5,null,q?.path,(0,h.$fq)(T.error))))})},Q=q=>{this.m.error(this.y(B,(0,p.localize)(6,null,q?.path)))},Z=`${G.publisher}.${G.name}`,ee=C.translations[Z];if(ee)try{const q=u.URI.file(ee),V=(await this.j.readFile(q)).value.toString(),T=[],g=(0,k.$ln)(V,T);return T.length>0?(W(q,T),{values:void 0,default:F}):(0,k.$un)(g)!=="object"?(Q(q),{values:void 0,default:F}):{values:g.contents?g.contents.package:void 0,default:F}}catch{return{values:void 0,default:F}}else{if(!await this.j.exists(F))return;let V;try{V=await this.w(B,C)}catch{return}if(!V.localized)return{values:void 0,default:V.original};try{const T=(await this.j.readFile(V.localized)).value.toString(),g=[],z=(0,k.$ln)(T,g);return g.length>0?(W(V.localized,g),{values:void 0,default:V.original}):(0,k.$un)(z)!=="object"?(Q(V.localized),{values:void 0,default:V.original}):{values:z,default:V.original}}catch{return{values:void 0,default:V.original}}}}async u(B,G){if(B)try{const C=(await this.j.readFile(B)).value.toString();return(0,k.$ln)(C,G)}catch{}}w(B,G){return new Promise((C,F)=>{const W=Q=>{const Z=(0,m.$Jg)(B,`package.nls.${Q}.json`);this.j.exists(Z).then(ee=>{ee&&C({localized:Z,original:(0,m.$Jg)(B,"package.nls.json")});const q=Q.lastIndexOf("-");q===-1?C({localized:(0,m.$Jg)(B,"package.nls.json"),original:null}):(Q=Q.substring(0,q),W(Q))})};if(G.devMode||G.pseudo||!G.language)return C({localized:(0,m.$Jg)(B,"package.nls.json"),original:null});W(G.language)})}y(B,G){return`[${B.path}]: ${G}`}};pe=ve([oe(1,y.$dq),oe(2,P.$7k),oe(3,r.$wk),oe(4,i.$qj)],pe);let ie=class extends pe{constructor(B,G,C,F,W,Q,Z){super(G,F,W,Q,Z),this.G=B,this.H=C,this.C=this.D(new R.$6g(3e3)),this.F=this.D(new c.$Wd),this.onDidChangeCache=this.F.event}async scanExtensions(B){const G=this.M(B),C=await this.I(G);if(this.z=B,C&&C.input&&ne.equals(C.input,this.z))return this.m.debug("Using cached extensions scan result",B.location.toString()),this.C.trigger(()=>this.L()),C.result.map(W=>(W.location=u.URI.revive(W.location),W));const F=await super.scanExtensions(B);return await this.J(G,{input:B,result:F}),F}async I(B){try{const G=await this.j.readFile(B),C=JSON.parse(G.value.toString());return{result:C.result,input:(0,a.$Eh)(C.input)}}catch(G){this.m.debug("Error while reading the extension cache file:",B.path,(0,j.$0)(G))}return null}async J(B,G){try{await this.j.writeFile(B,O.$ke.fromString(JSON.stringify(G)))}catch(C){this.m.debug("Error while writing the extension cache file:",B.path,(0,j.$0)(C))}}async L(){if(!this.z)return;const B=this.M(this.z),G=await this.I(B);if(!G)return;const C=G.result,F=JSON.parse(JSON.stringify(await super.scanExtensions(this.z)));if(!D.$In(F,C))try{this.m.info("Invalidating Cache",C,F),await this.j.del(B),this.F.fire()}catch(W){this.m.error(W)}}M(B){const G=this.N(B);return this.h.extUri.joinPath(G.cacheHome,B.type===0?f.$om:f.$nm)}N(B){return B.type===0?this.H.defaultProfile:B.profile?this.h.extUri.isEqual(B.location,this.G.extensionsResource)?this.G:this.H.profiles.find(G=>this.h.extUri.isEqual(B.location,G.extensionsResource))??this.G:this.H.defaultProfile}};ie=ve([oe(2,w.$9k),oe(3,y.$dq),oe(4,P.$7k),oe(5,r.$wk),oe(6,i.$qj)],ie);function le(se,B){const G=(0,l.$dp)(se.manifest.publisher,se.manifest.name);return{id:G,identifier:new f.$tm(G),isBuiltin:se.type===0,isUserBuiltin:se.type===1&&se.isBuiltin,isUnderDevelopment:B,extensionLocation:se.location,uuid:se.identifier.uuid,targetPlatform:se.targetPlatform,...se.manifest}}e.$kq=le;class ue extends J{constructor(B,G,C,F,W,Q,Z,ee,q,V,T,g){super(B,G,(0,m.$Jg)(C,".cursor-dev","extensions","control.json"),F,W,Q,Z,ee,q,V,T,g),this.R=(async()=>{if(b.$z)try{const z=await this.u.readFile(u.URI.file(b.$z));return JSON.parse(z.value.toString())}catch{}return Object.create(null)})()}f(B){return this.R}}e.$lq=ue}),define(ae[156],ce([0,1,49,8,34,6,2,16,15,25,4,23]),function(K,e,A,R,D,O,j,k,h,o,v,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nq=void 0;let b=class extends j.$Tc{constructor(E,I){super(),this.b=E,this.f=I,this.a=new R.$bh(5)}async postUninstall(E){const I=this.g(E,"uninstall");I&&(this.f.info(E.identifier.id,E.manifest.version,"Running post uninstall script"),await this.a.queue(async()=>{try{await this.h(I.script,"uninstall",I.args,!0,E),this.f.info("Finished running post uninstall script",E.identifier.id,E.manifest.version)}catch($){this.f.error("Failed to run post uninstall script",E.identifier.id,E.manifest.version),this.f.error($)}}));try{await o.Promises.rm(this.m(E))}catch($){this.f.error("Error while removing extension storage path",E.identifier.id),this.f.error($)}}g(E,I){const $=`vscode:${I}`;if(E.location.scheme===k.Schemas.file&&E.manifest&&E.manifest.scripts&&typeof E.manifest.scripts[$]=="string"){const u=E.manifest.scripts[$].split(" ");return u.length<2||u[0]!=="node"||!u[1]?(this.f.warn(E.identifier.id,E.manifest.version,`${$} should be a node script`),null):{script:(0,h.$jc)(E.location.fsPath,u[1]),args:u.slice(2)||[]}}return null}h(E,I,$,u,p){return new Promise((d,l)=>{const f=this.j(E,I,$,p);let n;const r=t=>{n&&(clearTimeout(n),n=null),t?l(t):d(void 0)};f.on("error",t=>{r((0,D.$Si)(t)||"Unknown")}),f.on("exit",(t,i)=>{r(t?`post-${I} process exited with code ${t}`:void 0)}),u&&(n=setTimeout(()=>{n=null,f.kill(),l("timed out")},5e3))})}j(E,I,$,u){const p={silent:!0,execArgv:void 0},d=(0,A.fork)(E,[`--type=extension-post-${I}`,...$],p);d.stdout.setEncoding("utf8"),d.stderr.setEncoding("utf8");const l=O.Event.fromNodeEventEmitter(d.stdout,"data"),f=O.Event.fromNodeEventEmitter(d.stderr,"data");l(t=>this.f.info(u.identifier.id,u.manifest.version,`post-${I}`,t)),f(t=>this.f.error(u.identifier.id,u.manifest.version,`post-${I}`,t));const n=O.Event.any(O.Event.map(l,t=>({data:`%c${t}`,format:[""]})),O.Event.map(f,t=>({data:`%c${t}`,format:["color: red"]})));return O.Event.debounce(n,(t,i)=>t?{data:t.data+i.data,format:[...t.format,...i.format]}:{data:i.data,format:i.format},100)(t=>{console.group(u.identifier.id),console.log(t.data,...t.format),console.groupEnd()}),d}m(E){return(0,h.$jc)(this.b.defaultProfile.globalStorageHome.fsPath,E.identifier.id.toLowerCase())}};e.$nq=b,e.$nq=b=ve([oe(0,S.$9k),oe(1,v.$qj)],b)}),define(ae[157],ce([0,1,4,23,22,26,42,12,18,11]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$D4=void 0;let v=class extends j.$eq{constructor(b,m,E,I,$,u){super(o.URI.file(b.extensionsPath),m,E,I,$,u)}};e.$D4=v,e.$D4=v=ve([oe(0,h.$di),oe(1,k.$wk),oe(2,R.$9k),oe(3,D.$7k),oe(4,O.$Al),oe(5,A.$qj)],v)}),define(ae[158],ce([0,1,11,18,42,54,12,10,4,32,22,23]),function(K,e,A,R,D,O,j,k,h,o,v,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oQc=void 0;let b=class extends O.$lq{constructor(E,I,$,u,p,d,l,f){super(A.URI.file(p.builtinExtensionsPath),A.URI.file(p.extensionsPath),p.userHome,E.defaultProfile,E,I,$,u,p,d,l,f)}};e.$oQc=b,e.$oQc=b=ve([oe(0,S.$9k),oe(1,D.$dq),oe(2,j.$wk),oe(3,h.$qj),oe(4,R.$di),oe(5,o.$Ij),oe(6,v.$7k),oe(7,k.$7h)],b)}),define(ae[159],ce([0,1,8,6,2,127,3,88,10,23]),function(K,e,A,R,D,O,j,k,h,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dp=e.$Cp=e.$Bp=e.$Ap=e.$zp=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.$yp=e.$xp=e.$wp=void 0,e.$wp="__$__isNewStorageMarker",e.$xp="__$__targetStorageMarker",e.$yp=(0,h.$8h)("storageService");var v;(function(p){p[p.NONE=0]="NONE",p[p.SHUTDOWN=1]="SHUTDOWN"})(v||(e.WillSaveStateReason=v={}));var S;(function(p){p[p.APPLICATION=-1]="APPLICATION",p[p.PROFILE=0]="PROFILE",p[p.WORKSPACE=1]="WORKSPACE"})(S||(e.StorageScope=S={}));var b;(function(p){p[p.USER=0]="USER",p[p.MACHINE=1]="MACHINE"})(b||(e.StorageTarget=b={}));function m(p){const d=p.get(e.$xp);if(d)try{return JSON.parse(d)}catch{}return Object.create(null)}e.$zp=m;class E extends D.$Tc{static{this.a=60*1e3}constructor(d={flushInterval:E.a}){super(),this.m=d,this.b=this.D(new R.$Zd),this.c=this.D(new R.$Zd),this.onDidChangeTarget=this.c.event,this.f=this.D(new R.$Wd),this.onWillSaveState=this.f.event,this.h=this.D(new A.$hh(()=>this.n(),this.m.flushInterval)),this.j=this.D(new D.$Uc),this.z=void 0,this.F=void 0,this.H=void 0}onDidChangeValue(d,l,f){return R.Event.filter(this.b.event,n=>n.scope===d&&(l===void 0||n.key===l),f)}n(){this.j.value=(0,A.$lh)(()=>{this.q()&&this.flush(),this.h.schedule()})}q(){return!0}r(){(0,D.$Oc)([this.j,this.h])}initialize(){return this.g||(this.g=(async()=>{(0,O.mark)("code/willInitStorage");try{await this.O()}finally{(0,O.mark)("code/didInitStorage")}this.h.schedule()})()),this.g}t(d,l){const{key:f,external:n}=l;if(f===e.$xp){switch(d){case-1:this.H=void 0;break;case 0:this.F=void 0;break;case 1:this.z=void 0;break}this.c.fire({scope:d})}else this.b.fire({scope:d,key:f,target:this.J(d)[f],external:n})}u(d){this.f.fire({reason:d})}get(d,l,f){return this.P(l)?.get(d,f)}getBoolean(d,l,f){return this.P(l)?.getBoolean(d,f)}getNumber(d,l,f){return this.P(l)?.getNumber(d,f)}getObject(d,l,f){return this.P(l)?.getObject(d,f)}storeAll(d,l){this.w(()=>{for(const f of d)this.store(f.key,f.value,f.scope,f.target,l)})}store(d,l,f,n,r=!1){if((0,j.$Tf)(l)){this.remove(d,f,r);return}this.w(()=>{this.y(d,f,n),this.P(f)?.set(d,l,r)})}remove(d,l,f=!1){this.w(()=>{this.y(d,l,void 0),this.P(l)?.delete(d,f)})}w(d){this.b.pause(),this.c.pause();try{d()}finally{this.b.resume(),this.c.resume()}}keys(d,l){const f=[],n=this.J(d);for(const r of Object.keys(n))n[r]===l&&f.push(r);return f}y(d,l,f,n=!1){const r=this.J(l);typeof f=="number"?r[d]!==f&&(r[d]=f,this.P(l)?.set(e.$xp,JSON.stringify(r),n)):typeof r[d]=="number"&&(delete r[d],this.P(l)?.set(e.$xp,JSON.stringify(r),n))}get C(){return this.z||(this.z=this.L(1)),this.z}get G(){return this.F||(this.F=this.L(0)),this.F}get I(){return this.H||(this.H=this.L(-1)),this.H}J(d){switch(d){case-1:return this.I;case 0:return this.G;default:return this.C}}L(d){const l=this.P(d);return l?m(l):Object.create(null)}isNew(d){return this.getBoolean(e.$wp,d)===!0}async flush(d=v.NONE){this.f.fire({reason:d});const l=this.P(-1),f=this.P(0),n=this.P(1);switch(d){case v.NONE:await A.Promises.settled([l?.whenFlushed()??Promise.resolve(),f?.whenFlushed()??Promise.resolve(),n?.whenFlushed()??Promise.resolve()]);break;case v.SHUTDOWN:await A.Promises.settled([l?.flush(0)??Promise.resolve(),f?.flush(0)??Promise.resolve(),n?.flush(0)??Promise.resolve()]);break}}async log(){const d=this.P(-1)?.items??new Map,l=this.P(0)?.items??new Map,f=this.P(1)?.items??new Map;return u(d,l,f,this.Q(-1)??"",this.Q(0)??"",this.Q(1)??"")}async optimize(d){return await this.flush(),this.P(d)?.optimize()}async switch(d,l){return this.u(v.NONE),(0,o.$8k)(d)?this.R(d,l):this.S(d,l)}M(d,l){return!(d.id===l.id||I(l)&&I(d))}N(d,l,f){this.w(()=>{const n=new Set;for(const[r,t]of d)n.add(r),l.get(r)!==t&&this.t(f,{key:r,external:!0});for(const[r]of l.items)n.has(r)||this.t(f,{key:r,external:!0})})}}e.$Ap=E;function I(p){return p.isDefault||!!p.useDefaultFlags?.globalState}e.$Bp=I;class $ extends E{constructor(){super(),this.U=this.D(new k.$up(new k.$vp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.W=this.D(new k.$up(new k.$vp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.X=this.D(new k.$up(new k.$vp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.D(this.X.onDidChangeStorage(d=>this.t(1,d))),this.D(this.W.onDidChangeStorage(d=>this.t(0,d))),this.D(this.U.onDidChangeStorage(d=>this.t(-1,d)))}P(d){switch(d){case-1:return this.U;case 0:return this.W;default:return this.X}}Q(d){switch(d){case-1:return"inMemory (application)";case 0:return"inMemory (profile)";default:return"inMemory (workspace)"}}async O(){}async R(){}async S(){}q(){return!1}hasScope(d){return!1}}e.$Cp=$;async function u(p,d,l,f,n,r){const t=L=>{try{return JSON.parse(L)}catch{return L}},i=new Map,s=new Map;p.forEach((L,J)=>{i.set(J,L),s.set(J,t(L))});const c=new Map,a=new Map;d.forEach((L,J)=>{c.set(J,L),a.set(J,t(L))});const y=new Map,w=new Map;l.forEach((L,J)=>{y.set(J,L),w.set(J,t(L))}),console.group(f!==n?`Storage: Application (path: ${f})`:`Storage: Application & Profile (path: ${f}, default profile)`);const P=[];if(i.forEach((L,J)=>{P.push({key:J,value:L})}),console.table(P),console.groupEnd(),console.log(s),f!==n){console.group(`Storage: Profile (path: ${n}, profile specific)`);const L=[];c.forEach((J,ne)=>{L.push({key:ne,value:J})}),console.table(L),console.groupEnd(),console.log(a)}console.group(`Storage: Workspace (path: ${r})`);const N=[];y.forEach((L,J)=>{N.push({key:J,value:L})}),console.table(N),console.groupEnd(),console.log(w)}e.$Dp=u}),define(ae[71],ce([0,1,19,20,9,13,35,3,11,24,28,18,21,27,51,147,12,4,53,32,44,159,26,39,176]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f,n,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yp=e.$Xp=e.$Wp=e.$Vp=e.$Up=e.$Tp=e.$Sp=e.$Rp=e.$Qp=e.$Pp=e.$Op=void 0;const i=O.$o?"web":(0,b.$Fo)(O.$u,j.$ec),s="X-Market-Search-Activity-Id",c="X-Cursor-Activity-Id";e.$Op=(p.default.extensionMaxVersions?Object.keys(p.default.extensionMaxVersions):[]).map(Y=>Y.toLowerCase());const a=Y=>e.$Op.some(M=>Y.toLowerCase()===M);e.$Pp=a;const y=Y=>{const M=p.default.extensionMaxVersions;if(M&&Object.keys(M).includes(Y.toLowerCase()))return M[Y.toLowerCase()].maxVersion};e.$Qp=y;const w=Y=>{const M=p.default.extensionMaxVersions;if(!M)return!0;for(const te of e.$Op)if(te===(0,m.$fp)(Y.publisher,Y.name).toLowerCase()){const re=r.lte(Y.version,M[te].maxVersion),he=M[te].minVersion,de=he===void 0?!0:r.gte(Y.version,he);return re&&de}return!0};e.$Rp=w,e.$Sp=(p.default.bannedExtensions?Object.keys(p.default.bannedExtensions):[]).map(Y=>Y.toLowerCase()),e.$Tp=(p.default.cannotImportExtensions??[]).map(Y=>Y.toLowerCase());const P=Y=>e.$Sp.includes((0,m.$fp)(Y.publisher,Y.name).toLowerCase());e.$Up=P;const N=Y=>{const M=p.default.bannedExtensions;if(!M)return;const te=(0,m.$fp)(Y.publisher,Y.name).toLowerCase();if(Object.keys(M).includes(te))return M[te].message};e.$Vp=N;var L;(function(Y){Y[Y.None=0]="None",Y[Y.IncludeVersions=1]="IncludeVersions",Y[Y.IncludeFiles=2]="IncludeFiles",Y[Y.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",Y[Y.IncludeSharedAccounts=8]="IncludeSharedAccounts",Y[Y.IncludeVersionProperties=16]="IncludeVersionProperties",Y[Y.ExcludeNonValidated=32]="ExcludeNonValidated",Y[Y.IncludeInstallationTargets=64]="IncludeInstallationTargets",Y[Y.IncludeAssetUri=128]="IncludeAssetUri",Y[Y.IncludeStatistics=256]="IncludeStatistics",Y[Y.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",Y[Y.Unpublished=4096]="Unpublished",Y[Y.IncludeNameConflictInfo=32768]="IncludeNameConflictInfo"})(L||(L={}));function J(...Y){return String(Y.reduce((M,te)=>M|te,0))}var ne;(function(Y){Y[Y.Tag=1]="Tag",Y[Y.ExtensionId=4]="ExtensionId",Y[Y.Category=5]="Category",Y[Y.ExtensionName=7]="ExtensionName",Y[Y.Target=8]="Target",Y[Y.Featured=9]="Featured",Y[Y.SearchText=10]="SearchText",Y[Y.ExcludeWithFlags=12]="ExcludeWithFlags"})(ne||(ne={}));const pe={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source",Signature:"Microsoft.VisualStudio.Services.VsixSignature"},ie={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",PreRelease:"Microsoft.VisualStudio.Code.PreRelease",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension",SponsorLink:"Microsoft.VisualStudio.Code.SponsorLink",SupportLink:"Microsoft.VisualStudio.Services.Links.Support"},ue={pageNumber:1,pageSize:10,sortBy:0,sortOrder:0,flags:L.None,criteria:[],assetTypes:[]};class se{constructor(M=ue){this.d=M}get pageNumber(){return this.d.pageNumber}get pageSize(){return this.d.pageSize}get sortBy(){return this.d.sortBy}get sortOrder(){return this.d.sortOrder}get flags(){return this.d.flags}get criteria(){return this.d.criteria}withPage(M,te=this.d.pageSize){return new se({...this.d,pageNumber:M,pageSize:te})}withFilter(M,...te){const re=[...this.d.criteria,...te.length?te.map(he=>({filterType:M,value:he})):[{filterType:M}]];return new se({...this.d,criteria:re})}withSortBy(M){return new se({...this.d,sortBy:M})}withSortOrder(M){return new se({...this.d,sortOrder:M})}withFlags(...M){return new se({...this.d,flags:M.reduce((te,re)=>te|re,0)})}withAssetTypes(...M){return new se({...this.d,assetTypes:M})}withSource(M){return new se({...this.d,source:M})}get raw(){const{criteria:M,pageNumber:te,pageSize:re,sortBy:he,sortOrder:de,flags:U,assetTypes:H}=this.d;return{filters:[{criteria:M,pageNumber:te,pageSize:re,sortBy:he,sortOrder:de}],assetTypes:H,flags:U}}get searchText(){const M=this.d.criteria.filter(te=>te.filterType===ne.SearchText)[0];return M&&M.value?M.value:""}get telemetryData(){return{filterTypes:this.d.criteria.map(M=>String(M.filterType)),flags:this.d.flags,sortBy:String(this.sortBy),sortOrder:String(this.sortOrder),pageNumber:String(this.pageNumber),source:this.d.source,searchTextLength:this.searchText.length}}}function B(Y,M){const te=(Y||[]).filter(re=>re.statisticName===M)[0];return te?te.value:0}function G(Y){const M="Microsoft.VisualStudio.Code.Translation.";return Y.files.filter(re=>re.assetType.indexOf(M)===0).reduce((re,he)=>{const de=W(Y,he.assetType);return de&&re.push([he.assetType.substring(M.length),de]),re},[])}function C(Y){if(Y.properties){const M=Y.properties.filter(he=>he.key===pe.Repository),te=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),re=M.filter(he=>te.test(he.value))[0];return re?{uri:re.value,fallbackUri:re.value}:null}return W(Y,pe.Repository)}function F(Y){return{uri:`${Y.fallbackAssetUri}/${pe.VSIX}?redirect=true${Y.targetPlatform?`&targetPlatform=${Y.targetPlatform}`:""}`,fallbackUri:`${Y.fallbackAssetUri}/${pe.VSIX}${Y.targetPlatform?`?targetPlatform=${Y.targetPlatform}`:""}`}}function W(Y,M){return Y.files.filter(re=>re.assetType===M)[0]?{uri:`${Y.assetUri}/${M}${Y.targetPlatform?`?targetPlatform=${Y.targetPlatform}`:""}`,fallbackUri:`${Y.fallbackAssetUri}/${M}${Y.targetPlatform?`?targetPlatform=${Y.targetPlatform}`:""}`}:null}function Q(Y,M){const te=Y.properties?Y.properties.filter(he=>he.key===M):[],re=te.length>0&&te[0].value;return re?re.split(",").map(he=>(0,m.$ep)(he)):[]}function Z(Y){return Q(Y,ie.Dependency).map(te=>p.default.modifiedExtensionDependencies?.[te]??te)}function ee(Y){const M=Y.properties?Y.properties.filter(te=>te.key===ie.Engine):[];return M.length>0&&M[0].value||""}function q(Y){const M=Y.properties?Y.properties.filter(te=>te.key===ie.PreRelease):[];return M.length>0&&M[0].value==="true"}function V(Y){const M=Y.properties?Y.properties.filter(re=>re.key===ie.LocalizedLanguages):[],te=M.length>0&&M[0].value||"";return te?te.split(","):[]}function T(Y){return Y.properties?.find(M=>M.key===ie.SponsorLink)?.value}function g(Y){return Y.properties?.find(M=>M.key===ie.SupportLink)?.value}function z(Y){return Y.indexOf("preview")!==-1}function x(Y){return Y.targetPlatform?(0,b.$Eo)(Y.targetPlatform):"undefined"}function X(Y){const M=(0,A.$Mb)(Y.versions.map(x)),te=!!Y.tags?.includes(b.$zo),re=M.indexOf("web");return te?re===-1&&M.push("web"):re!==-1&&M.splice(re,1),M}function fe(Y,M){for(let te=0;te<Y.length;te++){const re=Y[te];if(re.version===Y[te-1]?.version){let he=te;if(x(re)===M)for(;he>0&&Y[he-1].version===re.version;)he--;he!==te&&(Y.splice(te,1),Y.splice(he,0,re))}}return Y}e.$Wp=fe;function me(Y,M,te){Y.telemetryData={index:M,querySource:te,queryActivityId:Y.queryContext?.[s]}}function ye(Y,M,te,re){const he=Y.versions[0],de={manifest:W(M,pe.Manifest),readme:W(M,pe.Details),changelog:W(M,pe.Changelog),license:W(M,pe.License),repository:C(M),download:F(M),icon:W(M,pe.Icon),signature:W(M,pe.Signature),coreTranslations:G(M)};return{identifier:{id:(0,m.$fp)(Y.publisher.publisherName,Y.extensionName),uuid:Y.extensionId},name:Y.extensionName,version:M.version,displayName:Y.displayName,publisherId:Y.publisher.publisherId,publisher:Y.publisher.publisherName,publisherDisplayName:Y.publisher.displayName,publisherDomain:Y.publisher.domain?{link:Y.publisher.domain,verified:!!Y.publisher.isDomainVerified}:void 0,publisherSponsorLink:T(he),description:Y.shortDescription||"",installCount:B(Y.statistics,"install"),rating:B(Y.statistics,"averagerating"),ratingCount:B(Y.statistics,"ratingcount"),categories:Y.categories||[],tags:Y.tags||[],releaseDate:Date.parse(Y.releaseDate),lastUpdated:Date.parse(Y.lastUpdated),allTargetPlatforms:te,assets:de,properties:{dependencies:Z(M),extensionPack:Q(M,ie.ExtensionPack),engine:ee(M),localizedLanguages:V(M),targetPlatform:x(M),isPreReleaseVersion:q(M)},hasPreReleaseVersion:q(he),hasReleaseVersion:!0,preview:z(Y.flags),isSigned:!!de.signature,queryContext:re,supportLink:g(he)}}let Ee=class{constructor(M,te,re,he,de,U,H,_){this.l=te,this.n=re,this.o=he,this.q=de,this.u=U,this.w=H,this.y=_,this.k=()=>Promise.resolve(void 0);const ge=H.extensionsGallery,$e=ge?.servicePPEUrl&&_.getValue("_extensionsGallery.enablePPE");this.galleryId=ge?.galleryId||"",this.d=$e?ge.servicePPEUrl:ge?.serviceUrl,this.g=$e?void 0:ge?.searchUrl,this.h=ge?.controlUrl,this.j=(0,I.$Fp)(H,this.o,this.y,this.u,M,this.q)}registerBearerTokenProvider(M){this.k=M}z(M=""){return`${this.d}${M}`}isEnabled(){return!!this.d}async getExtensions(M,te,re,he){const de=R.CancellationToken.isCancellationToken(te)?{}:te,U=R.CancellationToken.isCancellationToken(te)?te:re,H=[],_=[],ge=[],$e=[];let ke=!0;for(const be of M){be.uuid?_.push(be.uuid):H.push(be.id);const Re=!!(be.version||be.preRelease);ge.push({id:be.id,uuid:be.uuid,includePreRelease:Re}),be.version&&$e.push({id:be.id,uuid:be.uuid,version:be.version}),ke=ke&&!!be.hasPreRelease&&!Re}if(!_.length&&!H.length)return[];let we=new se().withPage(1,M.length);_.length&&(we=we.withFilter(ne.ExtensionId,..._)),H.length&&(we=we.withFilter(ne.ExtensionName,...H)),(de.queryAllVersions||ke)&&(we=we.withFlags(we.flags,L.IncludeVersions)),de.source&&(we=we.withSource(de.source));const{extensions:De}=await this.B(we,{targetPlatform:de.targetPlatform??i,includePreRelease:ge,versions:$e,compatible:!!de.compatible},U,he);return de.source&&De.forEach((be,Re)=>me(be,Re,de.source)),De}async getCompatibleExtension(M,te,re){if((0,b.$Go)(M.allTargetPlatforms,re))return null;if(await this.isExtensionCompatible(M,te,re))return M;const he=new se().withFlags(L.IncludeVersions).withPage(1,1).withFilter(ne.ExtensionId,M.identifier.uuid),{extensions:de}=await this.B(he,{targetPlatform:re,compatible:!0,includePreRelease:te},R.CancellationToken.None,M.queryContext);return de.filter(e.$Rp)[0]||null}async isExtensionCompatible(M,te,re){if(!(0,e.$Rp)(M)||!(0,b.$Ho)(M.properties.targetPlatform,M.allTargetPlatforms,re)||!te&&M.properties.isPreReleaseVersion)return!1;let he=M.properties.engine;if(!he){const de=await this.getManifest(M,R.CancellationToken.None);if(!de)throw new Error("Manifest was not found");he=de.engines.vscode}return(0,E.$sp)(he,this.w.vscodeVersion,this.w.date)}async A(M,te,re,he,de){if(!(0,b.$Ho)(x(M),he,de)||te!=="any"&&q(M)!==(te==="prerelease"))return!1;if(re)try{const U=await this.G(M);if(!(0,E.$sp)(U,this.w.vscodeVersion,this.w.date))return!1}catch(U){return this.n.error(`Error while getting the engine for the version ${M.version}.`,(0,D.$0)(U)),!1}return!0}async query(M,te){let re=M.text||"";const he=M.pageSize??50;let de=new se().withPage(1,he);re?(re=re.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,($e,ke,we)=>(de=de.withFilter(ne.Category,we||ke),"")),re=re.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,($e,ke,we)=>(de=de.withFilter(ne.Tag,we||ke),"")),re=re.replace(/\bfeatured(\s+|\b|$)/g,()=>(de=de.withFilter(ne.Featured),"")),re=re.trim(),re&&(re=re.length<200?re:re.substring(0,200),de=de.withFilter(ne.SearchText,re)),de=de.withSortBy(0)):M.ids?de=de.withFilter(ne.ExtensionId,...M.ids):M.names?de=de.withFilter(ne.ExtensionName,...M.names):de=de.withSortBy(4),typeof M.sortBy=="number"&&(de=de.withSortBy(M.sortBy)),typeof M.sortOrder=="number"&&(de=de.withSortOrder(M.sortOrder)),M.source&&(de=de.withSource(M.source));const U=async($e,ke)=>{const{extensions:we,total:De}=await this.B($e,{targetPlatform:i,compatible:!1,includePreRelease:!!M.includePreRelease},ke);return we.forEach((be,Re)=>me(be,($e.pageNumber-1)*$e.pageSize+Re,M.source)),{extensions:we,total:De}},{extensions:H,total:_}=await U(de,te),ge=async($e,ke)=>{if(ke.isCancellationRequested)throw new D.$5;const{extensions:we}=await U(de.withPage($e+1),ke);return we};return{firstPage:H,total:_,pageSize:de.pageSize,getPage:ge}}async B(M,te,re,he){const de=M.flags;M.flags&L.IncludeLatestVersionOnly&&M.flags&L.IncludeVersions&&(M=M.withFlags(M.flags&~L.IncludeVersions,L.IncludeLatestVersionOnly)),!(M.flags&L.IncludeLatestVersionOnly)&&!(M.flags&L.IncludeVersions)&&(M=M.withFlags(M.flags,L.IncludeLatestVersionOnly)),te.versions?.length&&(M=M.withFlags(M.flags&~L.IncludeLatestVersionOnly,L.IncludeVersions)),M=M.withFlags(M.flags,L.IncludeAssetUri,L.IncludeCategoryAndTags,L.IncludeFiles,L.IncludeStatistics,L.IncludeVersionProperties);const{galleryExtensions:U,total:H,context:_}=await this.D(M,re,he);if(!(M.flags&L.IncludeLatestVersionOnly)){const we=[];for(const De of U){const be=await this.C(De,te,_);be&&we.push(be)}return{extensions:we,total:H}}const $e=[],ke=new Map;for(let we=0;we<U.length;we++){const De=U[we],be={id:(0,m.$fp)(De.publisher.publisherName,De.extensionName),uuid:De.extensionId},Re=(0,k.$Qf)(te.includePreRelease)?te.includePreRelease:!!te.includePreRelease.find(je=>(0,m.$ap)(je,be))?.includePreRelease;if(te.compatible&&(0,b.$Go)(X(De),te.targetPlatform))continue;const Le=await this.C(De,te,_);!Le||Le.properties.isPreReleaseVersion&&(!Re||!Le.hasReleaseVersion)||!Le.properties.isPreReleaseVersion&&Le.properties.targetPlatform!==te.targetPlatform&&Le.hasPreReleaseVersion?ke.set(De.extensionId,we):$e.push([we,Le])}if(ke.size){const we=new t.$Sd,De=new se().withFlags(de&~L.IncludeLatestVersionOnly,L.IncludeVersions).withPage(1,ke.size).withFilter(ne.ExtensionId,...ke.keys()),{extensions:be}=await this.B(De,te,re,he);this.q.publicLog2("galleryService:additionalQuery",{duration:we.elapsed(),count:ke.size});for(const Re of be){const Le=ke.get(Re.identifier.uuid);$e.push([Le,Re])}}return{extensions:$e.sort((we,De)=>we[0]-De[0]).map(([,we])=>we),total:H}}async C(M,te,re){const he={id:(0,m.$fp)(M.publisher.publisherName,M.extensionName),uuid:M.extensionId},de=te.versions?.find(ge=>(0,m.$ap)(ge,he))?.version,U=(0,k.$Qf)(te.includePreRelease)?te.includePreRelease:!!te.includePreRelease.find(ge=>(0,m.$ap)(ge,he))?.includePreRelease,H=X(M),_=fe(M.versions,te.targetPlatform);if(te.compatible&&(0,b.$Go)(H,te.targetPlatform))return null;for(let ge=0;ge<_.length;ge++){const $e=_[ge];if(!(de&&$e.version!==de)){if(await this.A($e,U?"any":"release",te.compatible,H,te.targetPlatform))return ye(M,$e,H,re);if(de&&$e.version===de)return null}}return de||te.compatible?null:ye(M,M.versions[0],H)}async D(M,te,re){if(!this.isEnabled())throw new Error("No extension gallery service configured.");M=M.withFlags(M.flags,L.ExcludeNonValidated).withFilter(ne.Target,"Microsoft.VisualStudio.Code").withFilter(ne.ExcludeWithFlags,J(L.Unpublished));const he=await this.j,de=await this.k(),U=`Bearer ${de}`,H=this.galleryId==="cursor"&&de?{Authorization:U}:{},_=this.galleryId==="cursor"&&re&&c in re?{[c]:re[c]}:{[c]:(0,o.$sg)()},ge=JSON.stringify(M.raw),$e={...he,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(ge.length),...H,..._},ke=new t.$Sd;let we,De,be=0;try{const Re=this.g&&M.criteria.some(je=>je.filterType===ne.SearchText)?this.g:this.z("/extensionquery");if(we=await this.l.request({type:"POST",url:Re,data:ge,headers:$e},te),we.res.statusCode&&we.res.statusCode>=400&&we.res.statusCode<500)return{galleryExtensions:[],total:be};const Le=await(0,l.$Mp)(we);if(Le){const je=Le.results[0];let qe=je.extensions;const Fe=je.resultMetadata&&je.resultMetadata.filter(Oe=>Oe.metadataType==="ResultCount")[0];return be=Fe&&Fe.metadataItems.filter(Oe=>Oe.name==="TotalCount")[0].count||0,qe.forEach((Oe,Se)=>{let Pe=Oe.versions;(0,e.$Pp)((0,m.$fp)(Oe.publisher.publisherName,Oe.extensionName))&&Pe.find(Ne=>(0,e.$Rp)({name:Oe.extensionName,publisher:Oe.publisher.publisherName,version:Ne.version}))!==void 0&&(Pe=Pe.filter(Ne=>(0,e.$Rp)({name:Oe.extensionName,publisher:Oe.publisher.publisherName,version:Ne.version})),Pe.length>0&&(qe[Se]={...Oe,versions:Pe}));const Ae=Pe.filter(Ne=>{const Ce=ee(Ne);return Ce===""||(0,E.$sp)(Ce,this.w.vscodeVersion,this.w.date)});Ae.length<Pe.length&&(Pe=Ae,Pe.length>0&&(qe[Se]={...Oe,versions:Pe}))}),{galleryExtensions:qe,total:be,context:{[s]:we.res.headers.activityid,..._}}}return{galleryExtensions:[],total:be}}catch(Re){const Le=(0,D.$4)(Re)?b.ExtensionGalleryErrorCode.Cancelled:(0,D.$0)(Re).startsWith("XHR timeout")?b.ExtensionGalleryErrorCode.Timeout:b.ExtensionGalleryErrorCode.Failed;throw De=new b.$Lo((0,D.$0)(Re),Le),De}finally{this.q.publicLog2("galleryService:query",{...M.telemetryData,requestBodySize:String(ge.length),duration:ke.elapsed(),success:!!we&&(0,l.$Ip)(we),responseBodySize:we?.res.headers["Content-Length"],statusCode:we?String(we.res.statusCode):void 0,errorCode:De?.code,count:String(be)})}}async reportStatistic(M,te,re,he){if(!this.isEnabled())return;const de=O.$o?this.z(`/itemName/${M}.${te}/version/${re}/statType/${he==="install"?"1":"3"}/vscodewebextension`):this.z(`/publishers/${M}/extensions/${te}/${re}/stats?statType=${he}`),U=O.$o?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",_={...await this.j,Accept:U};try{await this.l.request({type:"POST",url:de,headers:_},R.CancellationToken.None)}catch{}}async download(M,te,re){this.n.trace("ExtensionGalleryService#download",M.identifier.id);const he=(0,m.$ip)(M),de=new Date().getTime(),U=ke=>this.q.publicLog("galleryService:downloadVSIX",{...he,duration:ke}),H=re===2?"install":re===3?"update":"",_=H?{uri:`${M.assets.download.uri}${h.URI.parse(M.assets.download.uri).query?"&":"?"}${H}=true`,fallbackUri:`${M.assets.download.fallbackUri}${h.URI.parse(M.assets.download.fallbackUri).query?"&":"?"}${H}=true`}:M.assets.download,ge=M.queryContext?.[s]?{[s]:M.queryContext[s]}:void 0,$e=await this.F(_,ge?{headers:ge}:void 0);await this.u.writeFile(te,$e.stream),U(new Date().getTime()-de)}async downloadSignatureArchive(M,te){if(!M.assets.signature)throw new Error("No signature asset found");this.n.trace("ExtensionGalleryService#downloadSignatureArchive",M.identifier.id);const re=await this.F(M.assets.signature);await this.u.writeFile(te,re.stream)}async getReadme(M,te){if(M.assets.readme){const re=await this.F(M.assets.readme,{},te);return await(0,l.$Lp)(re)||""}return""}async getManifest(M,te){if(M.assets.manifest){const re=await this.F(M.assets.manifest,{},te),he=await(0,l.$Lp)(re);return he?JSON.parse(he):null}return null}async E(M,te){const re=W(M,pe.Manifest);if(!re)throw new Error("Manifest was not found");const he={"Accept-Encoding":"gzip"},de=await this.F(re,{headers:he});return await(0,l.$Mp)(de)}async getCoreTranslation(M,te){const re=M.assets.coreTranslations.filter(he=>he[0]===te.toUpperCase())[0];if(re){const he=await this.F(re[1]),de=await(0,l.$Lp)(he);return de?JSON.parse(de):null}return null}async getChangelog(M,te){if(M.assets.changelog){const re=await this.F(M.assets.changelog,{},te);return await(0,l.$Lp)(re)||""}return""}async getAllCompatibleVersions(M,te,re){let he=new se().withFlags(L.IncludeVersions,L.IncludeCategoryAndTags,L.IncludeFiles,L.IncludeVersionProperties).withPage(1,1);M.identifier.uuid?he=he.withFilter(ne.ExtensionId,M.identifier.uuid):he=he.withFilter(ne.ExtensionName,M.identifier.id);const{galleryExtensions:de}=await this.D(he,R.CancellationToken.None,M.queryContext);if(!de.length)return[];const U=X(de[0]);if((0,b.$Go)(U,re))return[];const H=[];await Promise.all(de[0].versions.map(async $e=>{try{await this.A($e,te?"any":"release",!0,U,re)&&H.push($e)}catch{}}));const _=[],ge=new Set;for(const $e of fe(H,re))ge.has($e.version)||(ge.add($e.version),_.push({version:$e.version,date:$e.lastUpdated,isPreReleaseVersion:q($e)}));return _}async F(M,te={},re=R.CancellationToken.None){const he=await this.j,de={type:"GET"},U={...he,...te.headers||{}};te={...te,...de,headers:U};const H=M.uri,_=M.fallbackUri,ge={...te,url:H};try{const $e=await this.l.request(ge,re);if($e.res.statusCode===200)return $e;const ke=await(0,l.$Lp)($e);throw new Error(`Expected 200, got back ${$e.res.statusCode} instead.

${ke}`)}catch($e){if((0,D.$4)($e))throw $e;const ke=(0,D.$0)($e);this.q.publicLog2("galleryService:cdnFallback",{url:H,message:ke});const we={...te,url:_};return this.l.request(we,re)}}async G(M){let te=ee(M);if(!te){const re=await this.E(M,R.CancellationToken.None);if(!re)throw new Error("Manifest was not found");te=re.engines.vscode}return te}async getExtensionsControlManifest(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.h)return{malicious:[],deprecated:{},search:[]};const M=await this.l.request({type:"GET",url:this.h},R.CancellationToken.None);if(M.res.statusCode!==200)throw new Error("Could not get extensions report.");const te=await(0,l.$Mp)(M),re=[],he={},de=[];if(te){for(const U of te.malicious)re.push({id:U});if(te.migrateToPreRelease)for(const[U,H]of Object.entries(te.migrateToPreRelease))(!H.engine||(0,E.$sp)(H.engine,this.w.vscodeVersion,this.w.date))&&(he[U.toLowerCase()]={disallowInstall:!0,extension:{id:H.id,displayName:H.displayName,autoMigrate:{storage:!!H.migrateStorage},preRelease:!0}});if(te.deprecated)for(const[U,H]of Object.entries(te.deprecated))H&&(he[U.toLowerCase()]=(0,k.$Qf)(H)?{}:H);if(te.search)for(const U of te.search)de.push(U)}return{malicious:re,deprecated:he,search:de}}};Ee=ve([oe(1,l.$Gp),oe(2,u.$qj),oe(3,S.$ci),oe(4,n.$Al),oe(5,$.$wk),oe(6,d.$Ij),oe(7,v.$Bi)],Ee);let Ie=class extends Ee{constructor(M,te,re,he,de,U,H,_){super(M,te,re,he,de,U,H,_)}};e.$Xp=Ie,e.$Xp=Ie=ve([oe(0,f.$yp),oe(1,l.$Gp),oe(2,u.$qj),oe(3,S.$ci),oe(4,n.$Al),oe(5,$.$wk),oe(6,d.$Ij),oe(7,v.$Bi)],Ie);let ze=class extends Ee{constructor(M,te,re,he,de,U,H){super(void 0,M,te,re,he,de,U,H)}};e.$Yp=ze,e.$Yp=ze=ve([oe(0,l.$Gp),oe(1,u.$qj),oe(2,S.$ci),oe(3,n.$Al),oe(4,$.$wk),oe(5,d.$Ij),oe(6,v.$Bi)],ze)}),define(ae[160],ce([0,1,19,8,20,9,6,2,13,3,11,94,71,21,27,37,4,53,32,26,22,23]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bq=e.$aq=e.$_p=e.$$p=void 0;let n=class extends k.$Tc{get onInstallExtension(){return this.n.event}get onDidInstallExtensions(){return this.q.event}get onUninstallExtension(){return this.s.event}get onDidUninstallExtension(){return this.t.event}get onDidUpdateExtensionMetadata(){return this.u.event}constructor(a,y,w,P,N,L){super(),this.y=a,this.z=y,this.C=w,this.F=P,this.G=N,this.H=L,this.h=0,this.j=new Map,this.m=new Map,this.n=this.D(new j.$Wd),this.q=this.D(new j.$Wd),this.s=this.D(new j.$Wd),this.t=this.D(new j.$Wd),this.u=this.D(new j.$Wd),this.w=[],this.D((0,k.$Rc)(()=>{this.j.forEach(({task:J})=>J.cancel()),this.m.forEach(J=>J.cancel()),this.j.clear(),this.m.clear()}))}async canInstall(a){const y=await this.getTargetPlatform();return a.allTargetPlatforms.some(w=>(0,m.$Ho)(w,a.allTargetPlatforms,y))}async installFromGallery(a,y={}){try{const P=(await this.installGalleryExtensions([{extension:a,options:y}])).find(({identifier:N})=>(0,E.$ap)(N,a.identifier));if(P?.local)return P?.local;throw P?.error?P.error:new m.$Ko(`Unknown error while installing extension ${a.identifier.id}`,m.ExtensionManagementErrorCode.Unknown)}catch(w){throw t(w)}}async installGalleryExtensions(a){if(!this.y.isEnabled())throw new m.$Ko(S.localize(0,null),m.ExtensionManagementErrorCode.NotAllowed);const y=[],w=[];await Promise.allSettled(a.map(async({extension:P,options:N})=>{try{const L=await this.O(P,!!N?.installGivenVersion,!!N?.installPreReleaseVersion);w.push({...L,options:N})}catch(L){y.push({identifier:P.identifier,operation:2,source:P,error:L})}})),w.length&&y.push(...await this.I(w));for(const P of y)P.error&&(this.F.error("Failed to install extension.",P.identifier.id),this.F.error(P.error),P.source&&!v.URI.isUri(P.source)&&i(this.z,"extensionGallery:install",{extensionData:(0,E.$ip)(P.source),error:P.error}));return y}async uninstall(a,y={}){return this.F.trace("ExtensionManagementService#uninstall",a.identifier.id),this.Q(a,y)}async toggleAppliationScope(a,y){if((0,I.$wm)(a.manifest)||a.isBuiltin)return a;if(a.isApplicationScoped){let w=await this.updateMetadata(a,{isApplicationScoped:!1},this.H.defaultProfile.extensionsResource);this.C.extUri.isEqual(y,this.H.defaultProfile.extensionsResource)||(w=await this.ab(a,this.H.defaultProfile.extensionsResource,y));for(const P of this.H.profiles){const N=(await this.getInstalled(1,P.extensionsResource)).find(L=>(0,E.$ap)(L.identifier,a.identifier));N?this.u.fire(N):this.t.fire({identifier:a.identifier,profileLocation:P.extensionsResource})}return w}else{const w=this.C.extUri.isEqual(y,this.H.defaultProfile.extensionsResource)?await this.updateMetadata(a,{isApplicationScoped:!0},this.H.defaultProfile.extensionsResource):await this.ab(a,y,this.H.defaultProfile.extensionsResource,{isApplicationScoped:!0});return this.q.fire([{identifier:w.identifier,operation:2,local:w,profileLocation:this.H.defaultProfile.extensionsResource,applicationScoped:!0}]),w}}getExtensionsControlManifest(){const a=new Date().getTime();return(!this.g||a-this.h>1e3*60*5)&&(this.g=this.X(),this.h=a),this.g}registerParticipant(a){this.w.push(a)}async I(a){const y=[];return await Promise.allSettled(a.map(async w=>{try{const P=await this.J(w,(N,L)=>a.some(J=>(0,E.$ep)(L.identifier.id)===(0,E.$fp)(J.manifest.publisher,J.manifest.name))?!1:this.L(N,L));y.push(...P)}catch(P){y.push({identifier:{id:(0,E.$fp)(w.manifest.publisher,w.manifest.name)},operation:2,source:w.extension,error:P})}})),this.q.fire(y),y}async J({manifest:a,extension:y,options:w},P){const N=w.isApplicationScoped||w.isBuiltin||(0,I.$wm)(a),L={...w,installOnlyNewlyAddedFromExtensionPack:v.URI.isUri(y)?w.installOnlyNewlyAddedFromExtensionPack:!0,isApplicationScoped:N,profileLocation:N?this.H.defaultProfile.extensionsResource:w.profileLocation??this.Y()},J=se=>`${E.$bp.create(se).toString()}${L.profileLocation?`-${L.profileLocation.toString()}`:""}`;if(!v.URI.isUri(y)){const se=this.j.get(J(y));if(se)return this.F.info("Extensions is already requested to install",y.identifier.id),await se.task.waitUntilTaskIsFinished(),[]}const ne=[],pe=[],ie=[],le=this.Z(a,y,L);v.URI.isUri(y)||this.j.set(J(y),{task:le,waitingTasks:[]}),this.n.fire({identifier:le.identifier,source:y,profileLocation:L.profileLocation}),this.F.info("Installing extension:",le.identifier.id),ne.push({task:le,manifest:a});let ue=!1;try{if(L.donotIncludePackAndDependencies)this.F.info("Installing the extension without checking dependencies and pack",le.identifier.id);else try{const B=await this.N(le.identifier,a,!!L.installOnlyNewlyAddedFromExtensionPack,!!L.installPreReleaseVersion,L.profileLocation,v.URI.isUri(y)?void 0:y.queryContext),G=await this.getInstalled(void 0,L.profileLocation),C={...L,donotIncludePackAndDependencies:!0,context:{...L.context,[m.$Co]:!0}};for(const{gallery:F,manifest:W}of(0,A.$Mb)(B,({gallery:Q})=>Q.identifier.id)){ue=ue||!!W.extensionDependencies?.some(ee=>(0,E.$ap)({id:ee},le.identifier));const Q=J(F),Z=this.j.get(Q);if(Z){if(P(le,Z.task)){const ee=Z.task.identifier;this.F.info("Waiting for already requested installing extension",ee.id,le.identifier.id),Z.waitingTasks.push(le),pe.push(j.Event.toPromise(j.Event.filter(this.onDidInstallExtensions,q=>q.some(V=>(0,E.$ap)(V.identifier,ee)))).then(q=>{if(this.F.info("Finished waiting for already requested installing extension",ee.id,le.identifier.id),!q.find(T=>(0,E.$ap)(T.identifier,ee))?.local)throw new Error(`Extension ${ee.id} is not installed`)}))}}else if(!G.some(({identifier:ee})=>(0,E.$ap)(ee,F.identifier))){const ee=this.Z(W,F,C);this.j.set(Q,{task:ee,waitingTasks:[le]}),this.n.fire({identifier:ee.identifier,source:F,profileLocation:L.profileLocation}),this.F.info("Installing extension:",ee.identifier.id,le.identifier.id),ne.push({task:ee,manifest:W})}}}catch(B){if(v.URI.isUri(le.source))(0,A.$Lb)(a.extensionDependencies)&&this.F.warn("Cannot install dependencies of extension:",le.identifier.id,B.message),(0,A.$Lb)(a.extensionPack)&&this.F.warn("Cannot install packed extensions of extension:",le.identifier.id,B.message);else throw this.F.error("Error while preparing to install dependencies and extension packs of the extension:",le.identifier.id),B}const se=ne.reduce((B,{task:G,manifest:C})=>(B.set(G.identifier.id.toLowerCase(),{task:G,manifest:C}),B),new Map);for(;se.size;){let B;const G=[...se.values()].filter(({manifest:C})=>!C.extensionDependencies?.some(F=>se.has(F.toLowerCase())));G.length?B=se.size===1?G:G.filter(({task:C})=>!(C===le&&!ue)):(this.F.info("Found extensions with circular dependencies",G.map(({task:C})=>C.identifier.id)),B=[...se.values()]),await this.M(B.map(async({task:C})=>{const F=new Date().getTime();try{const W=await C.run();if(await this.M(this.w.map(Q=>Q.postInstall(W,C.source,L,D.CancellationToken.None))),!v.URI.isUri(C.source)){const Q=C.operation===3,Z=Q?void 0:(new Date().getTime()-C.source.lastUpdated)/1e3;if(i(this.z,Q?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,E.$ip)(C.source),verificationStatus:C.verificationStatus,duration:new Date().getTime()-F,durationSinceUpdate:Z}),h.$o&&C.operation!==3)try{await this.y.reportStatistic(W.manifest.publisher,W.manifest.name,W.manifest.version,"install")}catch{}}ie.push({local:W,identifier:C.identifier,operation:C.operation,source:C.source,context:C.options.context,profileLocation:C.profileLocation,applicationScoped:W.isApplicationScoped})}catch(W){throw this.F.error("Error while installing the extension",C.identifier.id,(0,O.$0)(W)),W}finally{se.delete(C.identifier.id.toLowerCase())}}))}return pe.length&&await this.M(pe),ie.forEach(({identifier:B})=>this.F.info("Extension installed successfully:",B.id)),ie}catch(se){if(ne.forEach(({task:B})=>B.cancel()),ie.length)try{const B=await Promise.allSettled(ie.map(({local:G})=>this.$(G,{versionOnly:!0,profileLocation:L.profileLocation}).run()));for(let G=0;G<B.length;G++){const C=B[G],{identifier:F}=ie[G];C.status==="fulfilled"?this.F.info("Rollback: Uninstalled extension",F.id):this.F.warn("Rollback: Error while uninstalling extension",F.id,(0,O.$0)(C.reason))}}catch(B){this.F.warn("Error while rolling back extensions",(0,O.$0)(B),ie.map(({identifier:G})=>G.id))}return ne.map(({task:B})=>({identifier:B.identifier,operation:2,source:B.source,context:L.context,profileLocation:L.profileLocation,error:se}))}finally{for(const{task:se}of ne)se.source&&!v.URI.isUri(se.source)&&this.j.delete(J(se.source))}}L(a,y){for(const[,{task:w,waitingTasks:P}]of this.j.entries())if(w===a&&(P.includes(y)||P.some(N=>this.L(N,y)))||w===y&&P[0]&&!this.L(a,P[0]))return!1;return!0}async M(a){const y=[],w=[],P=await Promise.allSettled(a);for(const N of P)N.status==="fulfilled"?y.push(N.value):w.push(N.reason);if(w.length)throw r(w);return y}async N(a,y,w,P,N,L){if(!this.y.isEnabled())return[];const J=await this.getInstalled(void 0,N),ne=[],pe=[],ie=async(le,ue)=>{ne.push(le);let se=ue.extensionDependencies||[];if(u.default.modifiedExtensionDependencies!==void 0){const G=u.default.modifiedExtensionDependencies;se=se.map(C=>G[C]!==void 0?G[C]:C)}const B=[...se];if(ue.extensionPack){const G=w?J.find(C=>(0,E.$ap)(C.identifier,le)):void 0;for(const C of ue.extensionPack)G&&G.manifest.extensionPack&&G.manifest.extensionPack.some(F=>(0,E.$ap)({id:F},{id:C}))||B.every(F=>!(0,E.$ap)({id:F},{id:C}))&&B.push(C)}if(B.length){const G=B.filter(C=>ne.every(F=>!(0,E.$ap)(F,{id:C})));if(G.length){const C=await this.y.getExtensions(G.map(F=>({id:F,preRelease:P})),{},D.CancellationToken.None,L);for(const F of C){if(ne.find(Z=>(0,E.$ap)(Z,F.identifier)))continue;const W=se.some(Z=>(0,E.$ap)({id:Z},F.identifier));let Q;try{Q=await this.O(F,!1,P)}catch(Z){if(W)throw Z;this.F.info("Skipping the packed extension as it cannot be installed",F.identifier.id,(0,O.$0)(Z));continue}pe.push({gallery:Q.extension,manifest:Q.manifest}),await ie(Q.extension.identifier,Q.manifest)}}}};return await ie(a,y),pe}async O(a,y,w){let P;const N=await this.getExtensionsControlManifest();if(N.malicious.some(ne=>(0,E.$ap)(a.identifier,ne)))throw new m.$Ko(S.localize(1,null,a.identifier.id),m.ExtensionManagementErrorCode.Malicious);const L=N.deprecated[a.identifier.id.toLowerCase()];if(L?.extension?.autoMigrate){if(this.F.info(`The '${a.identifier.id}' extension is deprecated, fetching the compatible '${L.extension.id}' extension instead.`),P=(await this.y.getExtensions([{id:L.extension.id,preRelease:L.extension.preRelease}],{targetPlatform:await this.getTargetPlatform(),compatible:!0},D.CancellationToken.None))[0],!P)throw new m.$Ko(S.localize(2,null,a.identifier.id,L.extension.id),m.ExtensionManagementErrorCode.Deprecated)}else{if(!await this.canInstall(a)){if((0,b.$Up)(a)){const pe=(0,b.$Vp)(a)??"Extension is unsupported in Cursor.";throw new m.$Ko(pe,m.ExtensionManagementErrorCode.Incompatible)}const ne=await this.getTargetPlatform();throw new m.$Ko(S.localize(3,null,a.identifier.id,this.G.nameLong,(0,m.$Do)(ne)),m.ExtensionManagementErrorCode.IncompatibleTargetPlatform)}if(P=await this.P(a,y,w),!P)throw!w&&a.properties.isPreReleaseVersion&&(await this.y.getExtensions([a.identifier],{},D.CancellationToken.None,a.queryContext))[0]?new m.$Ko(S.localize(4,null,a.displayName??a.identifier.id),m.ExtensionManagementErrorCode.ReleaseVersionNotFound):new m.$Ko(S.localize(5,null,a.identifier.id,this.G.nameLong,this.G.version,this.G.vscodeVersion),m.ExtensionManagementErrorCode.Incompatible)}this.F.info("Getting Manifest...",P.identifier.id);const J=await this.y.getManifest(P,D.CancellationToken.None);if(J===null)throw new m.$Ko(`Missing manifest for extension ${P.identifier.id}`,m.ExtensionManagementErrorCode.Invalid);if(J.version!==P.version)throw new m.$Ko(`Cannot install '${P.identifier.id}' extension because of version mismatch in Marketplace`,m.ExtensionManagementErrorCode.Invalid);return{extension:P,manifest:J}}async P(a,y,w){const P=await this.getTargetPlatform();let N=null;return!y&&a.hasPreReleaseVersion&&a.properties.isPreReleaseVersion!==w&&(N=(await this.y.getExtensions([{...a.identifier,preRelease:w}],{targetPlatform:P,compatible:!0},D.CancellationToken.None,a.queryContext)).filter(b.$Rp)[0]||null),!N&&await this.y.isExtensionCompatible(a,w,P)&&(N=a),N||(y?N=(await this.y.getExtensions([{...a.identifier,version:a.version}],{targetPlatform:P,compatible:!0},D.CancellationToken.None,a.queryContext)).filter(b.$Rp)[0]||null:N=await this.y.getCompatibleExtension(a,w,P)),N}async Q(a,y){const w={...y,profileLocation:a.isApplicationScoped?this.H.defaultProfile.extensionsResource:y.profileLocation??this.Y()},P=ie=>`${ie.id.toLowerCase()}${w.versionOnly?`-${a.manifest.version}`:""}${w.profileLocation?`@${w.profileLocation.toString()}`:""}`,N=this.m.get(P(a.identifier));if(N)return this.F.info("Extensions is already requested to uninstall",a.identifier.id),N.waitUntilTaskIsFinished();const L=ie=>{const le=this.$(ie,w);return this.m.set(P(le.extension.identifier),le),w.profileLocation?this.F.info("Uninstalling extension from the profile:",`${ie.identifier.id}@${ie.manifest.version}`,w.profileLocation.toString()):this.F.info("Uninstalling extension:",`${ie.identifier.id}@${ie.manifest.version}`),this.s.fire({identifier:ie.identifier,profileLocation:w.profileLocation,applicationScoped:ie.isApplicationScoped}),le},J=(ie,le)=>{le?w.profileLocation?this.F.error("Failed to uninstall extension from the profile:",`${ie.identifier.id}@${ie.manifest.version}`,w.profileLocation.toString(),le.message):this.F.error("Failed to uninstall extension:",`${ie.identifier.id}@${ie.manifest.version}`,le.message):w.profileLocation?this.F.info("Successfully uninstalled extension from the profile",`${ie.identifier.id}@${ie.manifest.version}`,w.profileLocation.toString()):this.F.info("Successfully uninstalled extension:",`${ie.identifier.id}@${ie.manifest.version}`),i(this.z,"extensionGallery:uninstall",{extensionData:(0,E.$hp)(ie),error:le}),this.t.fire({identifier:ie.identifier,error:le?.code,profileLocation:w.profileLocation,applicationScoped:ie.isApplicationScoped})},ne=[],pe=[];try{ne.push(L(a));const ie=await this.getInstalled(1,w.profileLocation);if(w.donotIncludePack)this.F.info("Uninstalling the extension without including packed extension",`${a.identifier.id}@${a.manifest.version}`);else{const le=this.U(a,ie);for(const ue of le)this.m.has(P(ue.identifier))?this.F.info("Extensions is already requested to uninstall",ue.identifier.id):ne.push(L(ue))}w.donotCheckDependents?this.F.info("Uninstalling the extension without checking dependents",`${a.identifier.id}@${a.manifest.version}`):this.R(ne.map(le=>le.extension),ie,a),await this.M(ne.map(async le=>{try{if(await le.run(),await this.M(this.w.map(ue=>ue.postUninstall(le.extension,w,D.CancellationToken.None))),le.extension.identifier.uuid)try{await this.y.reportStatistic(le.extension.manifest.publisher,le.extension.manifest.name,le.extension.manifest.version,"uninstall")}catch{}J(le.extension)}catch(ue){const se=ue instanceof m.$Ko?ue:new m.$Ko((0,O.$0)(ue),m.ExtensionManagementErrorCode.Internal);throw J(le.extension,se),se}finally{pe.push(le)}}))}catch(ie){const le=ie instanceof m.$Ko?ie:new m.$Ko((0,O.$0)(ie),m.ExtensionManagementErrorCode.Internal);for(const ue of ne){try{ue.cancel()}catch{}pe.includes(ue)||J(ue.extension,le)}throw le}finally{for(const ie of ne)this.m.delete(P(ie.extension.identifier))||this.F.warn("Uninstallation task is not found in the cache",ie.extension.identifier.id)}}R(a,y,w){for(const P of a){const N=this.W(P,y);if(N.length){const L=N.filter(J=>!a.some(ne=>(0,E.$ap)(ne.identifier,J.identifier)));if(L.length)throw new Error(this.S(P,L,w))}}}S(a,y,w){return w===a?y.length===1?S.localize(6,null,w.manifest.displayName||w.manifest.name,y[0].manifest.displayName||y[0].manifest.name):y.length===2?S.localize(7,null,w.manifest.displayName||w.manifest.name,y[0].manifest.displayName||y[0].manifest.name,y[1].manifest.displayName||y[1].manifest.name):S.localize(8,null,w.manifest.displayName||w.manifest.name,y[0].manifest.displayName||y[0].manifest.name,y[1].manifest.displayName||y[1].manifest.name):y.length===1?S.localize(9,null,w.manifest.displayName||w.manifest.name,a.manifest.displayName||a.manifest.name,y[0].manifest.displayName||y[0].manifest.name):y.length===2?S.localize(10,null,w.manifest.displayName||w.manifest.name,a.manifest.displayName||a.manifest.name,y[0].manifest.displayName||y[0].manifest.name,y[1].manifest.displayName||y[1].manifest.name):S.localize(11,null,w.manifest.displayName||w.manifest.name,a.manifest.displayName||a.manifest.name,y[0].manifest.displayName||y[0].manifest.name,y[1].manifest.displayName||y[1].manifest.name)}U(a,y,w=[]){if(w.indexOf(a)!==-1)return[];w.push(a);const P=a.manifest.extensionPack?a.manifest.extensionPack:[];if(P.length){const N=y.filter(J=>!J.isBuiltin&&P.some(ne=>(0,E.$ap)({id:ne},J.identifier))),L=[];for(const J of N)L.push(...this.U(J,y,w));return[...N,...L]}return[]}W(a,y){return u.default.extensionsWithNoDependents?.includes(a.identifier.id)?[]:y.filter(w=>w.manifest.extensionDependencies&&w.manifest.extensionDependencies.some(P=>(0,E.$ap)({id:P},a.identifier)))}async X(){try{this.F.trace("ExtensionManagementService.refreshReportedCache");const a=await this.y.getExtensionsControlManifest();return this.F.trace("ExtensionManagementService.refreshControlCache",a),a}catch{return this.F.trace("ExtensionManagementService.refreshControlCache - failed to get extension control manifest"),{malicious:[],deprecated:{},search:[]}}}};e.$$p=n,e.$$p=n=ve([oe(0,m.$Jo),oe(1,d.$Al),oe(2,l.$7k),oe(3,$.$qj),oe(4,p.$Ij),oe(5,f.$9k)],n);function r(c){const a=Array.isArray(c)?c:[c];return a.length===1?a[0]instanceof Error?a[0]:new Error(a[0]):a.reduce((y,w)=>new Error(`${y.message}${y.message?",":""}${w instanceof Error?w.message:w}`),new Error(""))}e.$_p=r;function t(c){if(c instanceof m.$Ko)return c;if(c instanceof m.$Lo){const y=new m.$Ko(c.message,m.ExtensionManagementErrorCode.Gallery);return y.stack=c.stack,y}const a=new m.$Ko(c.message,m.ExtensionManagementErrorCode.Internal);return a.stack=c.stack,a}e.$aq=t;function i(c,a,{extensionData:y,verificationStatus:w,duration:P,error:N,durationSinceUpdate:L}){let J,ne;(0,o.$Sf)(w)&&(w===!0?w="Verified":(w===!1||(J=m.ExtensionManagementErrorCode.Signature,ne=w),w="Unverified")),N&&(N instanceof m.$Ko||N instanceof m.$Lo?(J=N.code,N.code===m.ExtensionManagementErrorCode.Signature&&(ne=N.message)):J=m.ExtensionManagementErrorCode.Internal),c.publicLog(a,{...y,verificationStatus:w,success:!N,duration:P,errorcode:J,errorcodeDetail:ne,durationSinceUpdate:L})}class s{constructor(){this.d=new R.$7g}async waitUntilTaskIsFinished(){return await this.d.wait(),this.g}async run(){return this.g||(this.g=(0,R.$Vg)(a=>this.h(a))),this.d.open(),this.g}cancel(){this.g||(this.g=(0,R.$Vg)(a=>new Promise((y,w)=>{const P=a.onCancellationRequested(()=>{P.dispose(),w(new O.$5)})})),this.d.open()),this.g.cancel()}}e.$bq=s}),define(ae[161],ce([0,1,8,14,20,34,9,6,43,2,31,16,15,17,39,3,11,24,25,50,99,60,18,160,21,27,42,54,145,156,116,137,146,51,12,10,4,32,26,22,23]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f,n,r,t,i,s,c,a,y,w,P,N,L,J,ne,pe,ie,le,ue,se){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uq=e.$tq=e.$sq=e.$rq=void 0,e.$rq=(0,ne.$9h)(t.$Mo);const B=".vsctmp";let G=class extends r.$$p{constructor(q,V,T,g,z,x,X,fe,me,ye,Ee,Ie){super(q,V,Ee,T,ye,Ie),this.fb=z,this.gb=x,this.hb=X,this.ib=me,this.eb=new Map,this.rb=new v.$Bc;const ze=this.D(fe.createInstance(y.$nq));this.bb=this.D(fe.createInstance(C,M=>ze.postUninstall(M))),this.cb=this.D(new P.$pq(Ie,me,Ee,this,this.F)),this.db=this.D(fe.createInstance(a.$mq));const Y=this.D(new N.$qq(this,this.fb,Ie,x,Ee,me,T));this.D(Y.onDidChangeExtensionsByAnotherSource(M=>this.qb(M))),this.sb()}getTargetPlatform(){return this.jb||(this.jb=(0,i.$lp)(this.ib,this.F)),this.jb}async zip(q){this.F.trace("ExtensionManagementService#zip",q.identifier.id);const V=await this.pb(q),T=await(0,d.zip)((0,m.$Jg)(this.db.extensionsDownloadDir,(0,u.$sg)()).fsPath,V);return $.URI.file(T)}async unzip(q){return this.F.trace("ExtensionManagementService#unzip",q.toString()),(await this.install(q)).identifier}async getManifest(q){const{location:V,cleanup:T}=await this.lb(q),g=b.$kc(V.fsPath);try{return await(0,w.$oq)(g)}finally{await T()}}getInstalled(q,V=this.H.defaultProfile.extensionsResource){return this.bb.scanExtensions(q??null,V)}scanAllUserInstalledExtensions(){return this.bb.scanAllUserExtensions(!1)}scanInstalledExtensionAtLocation(q){return this.bb.scanUserExtensionAtLocation(q)}async install(q,V={}){this.F.trace("ExtensionManagementService#install",q.toString());const{location:T,cleanup:g}=await this.lb(q);try{const z=await(0,w.$oq)(b.$kc(T.fsPath)),x=(0,i.$fp)(z.publisher,z.name);if(z.engines&&z.engines.vscode&&!(0,L.$sp)(z.engines.vscode,this.G.vscodeVersion,this.G.date))throw new Error(l.localize(0,null,x,this.G.vscodeVersion));const fe=(await this.I([{manifest:z,extension:T,options:V}])).find(({identifier:me})=>(0,i.$ap)(me,{id:x}));if(fe?.local)return fe.local;throw fe?.error?fe.error:(0,r.$aq)(new Error(`Unknown error while installing extension ${x}`))}finally{await g()}}async installFromLocation(q,V){this.F.trace("ExtensionManagementService#installFromLocation",q.toString());const T=await this.bb.scanUserExtensionAtLocation(q);if(!T)throw new Error(`Cannot find a valid extension from the location ${q.toString()}`);return await this.ub([[T,void 0]],V),this.F.info("Successfully installed extension",T.identifier.id,V.toString()),T}async installExtensionsFromProfile(q,V,T){this.F.trace("ExtensionManagementService#installExtensionsFromProfile",q,V.toString(),T.toString());const g=(await this.bb.scanExtensions(1,V)).filter(z=>q.some(x=>(0,i.$ap)(x,z.identifier)));if(g.length){const z=await Promise.all(g.map(x=>this.bb.scanMetadata(x,V)));await this.ub(g.map((x,X)=>[x,z[X]]),T),this.F.info("Successfully installed extensions",g.map(x=>x.identifier.id),T.toString())}return g}async updateMetadata(q,V,T=this.H.defaultProfile.extensionsResource){return this.F.trace("ExtensionManagementService#updateMetadata",q.identifier.id),V.isPreReleaseVersion&&(V.preRelease=!0,V.hasPreReleaseVersion=!0),V.isMachineScoped===!1&&(V.isMachineScoped=void 0),V.isBuiltin===!1&&(V.isBuiltin=void 0),V.pinned===!1&&(V.pinned=void 0),q=await this.bb.updateMetadata(q,V,T),this.cb.invalidate(T),this.u.fire(q),q}async reinstallFromGallery(q){if(this.F.trace("ExtensionManagementService#reinstallFromGallery",q.identifier.id),!this.y.isEnabled())throw new Error(l.localize(1,null));const V=await this.getTargetPlatform(),[T]=await this.y.getExtensions([{...q.identifier,preRelease:q.preRelease}],{targetPlatform:V,compatible:!0},D.CancellationToken.None);if(!T)throw new Error(l.localize(2,null));await this.bb.setUninstalled(q);try{await this.bb.removeUninstalledExtension(q)}catch(g){throw new Error(l.localize(3,null,(0,O.$Si)(g)))}return this.installFromGallery(T)}ab(q,V,T,g){return this.bb.copyExtension(q,V,T,g)}copyExtensions(q,V){return this.bb.copyExtensions(q,V)}markAsUninstalled(...q){return this.bb.setUninstalled(...q)}async cleanUp(){this.F.trace("ExtensionManagementService#cleanUp");try{await this.bb.cleanUp()}catch(q){this.F.error(q)}}async download(q,V,T){const{location:g}=await this.db.download(q,V,!T);return g}async lb(q){if(q.scheme===S.Schemas.file)return{location:q,async cleanup(){}};this.F.trace("Downloading extension from",q.toString());const V=(0,m.$Jg)(this.db.extensionsDownloadDir,(0,u.$sg)());return await this.hb.download(q,V),this.F.info("Downloaded extension to",V.toString()),{location:V,cleanup:async()=>{try{await this.ib.del(V)}catch(g){this.F.error(g)}}}}Y(){return this.H.defaultProfile.extensionsResource}Z(q,V,T){if($.URI.isUri(V))return new Q(q,V,T,this.y,this.bb,this.C,this.H,this.fb,this.gb,this.F);const g=i.$bp.create(V).toString();let z=this.eb.get(g);return z||(this.eb.set(g,z=new W(q,V,T,this.db,this.bb,this.C,this.H,this.fb,this.gb,this.F)),z.waitUntilTaskIsFinished().finally(()=>this.eb.delete(g))),z}$(q,V){return new Z(q,V.profileLocation,this.gb)}async pb(q){const V=async g=>{let z=await p.Promises.readdir(g);z=z.map(fe=>b.$jc(g,fe));const x=await Promise.all(z.map(fe=>p.Promises.stat(fe)));let X=Promise.resolve([]);return x.forEach((fe,me)=>{const ye=z[me];fe.isFile()&&(X=X.then(Ee=>[...Ee,ye])),fe.isDirectory()&&(X=X.then(Ee=>V(ye).then(Ie=>[...Ee,...Ie])))}),X};return(await V(q.location.fsPath)).map(g=>({path:`extension/${b.$lc(q.location.fsPath,g)}`,localPath:g}))}async qb({added:q,removed:V}){if(V){const T=q&&this.C.extUri.isEqual(V.profileLocation,q.profileLocation)?V.extensions.filter(g=>q.extensions.every(z=>!(0,i.$ap)(z,g))):V.extensions;for(const g of T)this.F.info("Extensions removed from another source",g.id,V.profileLocation.toString()),this.t.fire({identifier:g,profileLocation:V.profileLocation})}if(q){const g=(await this.bb.scanExtensions(1,q.profileLocation)).filter(z=>q.extensions.some(x=>(0,i.$ap)(x,z.identifier)));this.q.fire(g.map(z=>(this.F.info("Extensions added from another source",z.identifier.id,q.profileLocation.toString()),{identifier:z.identifier,local:z,profileLocation:q.profileLocation,operation:1})))}}async sb(){this.D(this.bb.onExtract(V=>this.rb.add(V)));const q=await this.ib.resolve(this.fb.userExtensionsLocation);for(const V of q.children??[])V.isDirectory&&this.rb.add(V.resource);this.D(this.ib.watch(this.fb.userExtensionsLocation)),this.D(this.ib.onDidFilesChange(V=>this.tb(V)))}async tb(q){if(!q.affects(this.fb.userExtensionsLocation,1))return;const V=[];for(const T of q.rawAdded){if(this.rb.has(T)||!this.C.extUri.isEqual(this.C.extUri.dirname(T),this.fb.userExtensionsLocation)||this.C.extUri.isEqual(T,this.C.extUri.joinPath(this.fb.userExtensionsLocation,".obsolete"))||this.C.extUri.basename(T).startsWith(".")||!(await this.ib.stat(T)).isDirectory)continue;const g=await this.bb.scanUserExtensionAtLocation(T);g&&g.installedTimestamp===void 0&&(this.rb.add(T),V.push(g))}V.length&&(await this.ub(V.map(T=>[T,void 0]),this.H.defaultProfile.extensionsResource),this.F.info("Added extensions to default profile from external source",V.map(T=>T.identifier.id)))}async ub(q,V){const T=q.map(g=>g[0]);await this.vb(T),await this.gb.addExtensionsToProfile(q,V),this.q.fire(T.map(g=>({local:g,identifier:g.identifier,operation:1,profileLocation:V})))}async vb(q){const V=await this.bb.getUninstalledExtensions();for(const T of q){const g=i.$bp.create(T);V[g.toString()]&&(this.F.trace("Removing the extension from uninstalled list:",g.id),await this.bb.setInstalled(g),this.F.info("Removed the extension from uninstalled list:",g.id))}}};e.$sq=G,e.$sq=G=ve([oe(0,t.$Jo),oe(1,le.$Al),oe(2,pe.$qj),oe(3,n.$di),oe(4,c.$hq),oe(5,s.$dq),oe(6,f.$mo),oe(7,ne.$7h),oe(8,J.$wk),oe(9,ie.$Ij),oe(10,ue.$7k),oe(11,se.$9k)],G);let C=class extends o.$Tc{constructor(q,V,T,g,z,x){super(),this.j=q,this.m=V,this.n=T,this.q=g,this.s=z,this.t=x,this.h=this.D(new k.$Wd),this.onExtract=this.h.event,this.c=(0,m.$Jg)(this.n.userExtensionsLocation,".obsolete"),this.g=new A.$ch}async cleanUp(){await this.H(),await this.G()}async scanExtensions(q,V){const T={includeInvalid:!0,profileLocation:V};let g=[];return q===null||q===0?g.push(...await this.n.scanAllExtensions({includeInvalid:!0},T,!1)):q===1&&g.push(...await this.n.scanUserExtensions(T)),g=q!==null?g.filter(z=>z.type===q):g,Promise.all(g.map(z=>this.F(z)))}async scanAllUserExtensions(q){const V=await this.n.scanUserExtensions({includeAllVersions:!q,includeInvalid:!0});return Promise.all(V.map(T=>this.F(T)))}async scanUserExtensionAtLocation(q){try{const V=await this.n.scanExistingExtension(q,1,{includeInvalid:!0});if(V)return await this.F(V)}catch(V){this.t.error(V)}return null}async extractUserExtension(q,V,T,g,z){const x=q.toString(),X=$.URI.file(b.$jc(this.n.userExtensionsLocation.fsPath,`.${(0,u.$sg)()}`)),fe=$.URI.file(b.$jc(this.n.userExtensionsLocation.fsPath,x));let me=await this.m.exists(fe);if(me&&g){try{await this.w(q.id,fe,"removeExisting")}catch{throw new t.$Ko(l.localize(4,null,fe.fsPath,q.id),t.ExtensionManagementErrorCode.Delete)}me=!1}if(me)await this.n.updateMetadata(fe,T);else try{try{this.t.trace(`Started extracting the extension from ${V} to ${fe.fsPath}`),await(0,d.$9p)(V,X.fsPath,{sourcePath:"extension",overwrite:!0},z),this.t.info(`Extracted extension to ${fe}:`,q.id)}catch(ye){let Ee=t.ExtensionManagementErrorCode.Extract;throw ye instanceof d.$7p&&(ye.type==="CorruptZip"?Ee=t.ExtensionManagementErrorCode.CorruptZip:ye.type==="Incomplete"&&(Ee=t.ExtensionManagementErrorCode.IncompleteZip)),new t.$Ko(ye.message,Ee)}await this.n.updateMetadata(X,T);try{this.t.trace(`Started renaming the extension from ${X.fsPath} to ${fe.fsPath}`),await this.z(X.fsPath,fe.fsPath),this.t.info("Renamed to",fe.fsPath)}catch(ye){if(ye.code==="ENOTEMPTY")this.t.info("Rename failed because extension was installed by another source. So ignoring renaming.",q.id);else throw this.t.info(`Rename failed because of ${(0,j.$0)(ye)}. Deleted from extracted location`,X),ye}this.h.fire(fe)}catch(ye){try{await this.m.del(X,{recursive:!0})}catch{}throw ye}return this.C(fe,1)}async scanMetadata(q,V){return V?(await this.u(q,V))?.metadata:this.n.scanMetadata(q.location)}async u(q,V){return(await this.q.scanProfileExtensions(V)).find(g=>(0,i.$ap)(g.identifier,q.identifier))}async updateMetadata(q,V,T){return T?await this.q.updateMetadata([[q,V]],T):await this.n.updateMetadata(q.location,V),this.C(q.location,q.type,T)}getUninstalledExtensions(){return this.y()}async setUninstalled(...q){const V=q.map(T=>i.$bp.create(T));await this.y(T=>V.forEach(g=>{T[g.toString()]=!0,this.t.info("Marked extension as uninstalled",g.toString())}))}async setInstalled(q){await this.y(V=>delete V[q.toString()])}async removeExtension(q,V){if(this.s.extUri.isEqualOrParent(q.location,this.n.userExtensionsLocation))return this.w(q.identifier.id,q.location,V)}async removeUninstalledExtension(q){await this.removeExtension(q,"uninstalled"),await this.y(V=>delete V[i.$bp.create(q).toString()])}async copyExtension(q,V,T,g){const z=await this.u(q,V),x=await this.u(q,T);return g={...z?.metadata,...g},x?await this.q.updateMetadata([[q,{...x.metadata,...g}]],T):await this.q.addExtensionsToProfile([[q,g]],T),this.C(q.location,q.type,T)}async copyExtensions(q,V){const T=await this.scanExtensions(1,q),g=await Promise.all(T.filter(z=>!z.isApplicationScoped).map(async z=>[z,await this.scanMetadata(z,q)]));await this.q.addExtensionsToProfile(g,V)}async w(q,V,T){this.t.trace(`Deleting ${T} extension from disk`,q,V.fsPath);const g=this.s.extUri.joinPath(this.s.extUri.dirname(V),`${this.s.extUri.basename(V)}.${(0,h.$Vi)((0,u.$sg)()).toString(16)}${B}`);await this.z(V.fsPath,g.fsPath),await this.m.del(g,{recursive:!0}),this.t.info(`Deleted ${T} extension from disk`,q,V.fsPath)}async y(q){return this.g.queue(async()=>{let V;try{V=(await this.m.readFile(this.c,"utf8")).value.toString()}catch(g){if((0,J.$Nk)(g)!==1)throw g}let T={};if(V)try{T=JSON.parse(V)}catch{}return q&&(q(T),Object.keys(T).length?await this.m.writeFile(this.c,R.$ke.fromString(JSON.stringify(T))):await this.m.del(this.c)),T})}async z(q,V){try{await p.Promises.rename(q,V,2*60*1e3)}catch(T){throw new t.$Ko(T.message||l.localize(5,null,q,V),T.code||t.ExtensionManagementErrorCode.Rename)}}async C(q,V,T){if(T){const z=(await this.n.scanUserExtensions({profileLocation:T})).find(x=>this.s.extUri.isEqual(x.location,q));if(z)return this.F(z)}else{const g=await this.n.scanExistingExtension(q,V,{includeInvalid:!0});if(g)return this.F(g)}throw new Error(l.localize(6,null,q.path))}async F(q){const V=await this.m.resolve(q.location);let T,g;return V.children&&(T=V.children.find(({name:z})=>/^readme(\.txt|\.md|)$/i.test(z))?.resource,g=V.children.find(({name:z})=>/^changelog(\.txt|\.md|)$/i.test(z))?.resource),{identifier:q.identifier,type:q.type,isBuiltin:q.isBuiltin||!!q.metadata?.isBuiltin,location:q.location,manifest:q.manifest,targetPlatform:q.targetPlatform,validations:q.validations,isValid:q.isValid,readmeUrl:T,changelogUrl:g,publisherDisplayName:q.metadata?.publisherDisplayName||null,publisherId:q.metadata?.publisherId||null,isApplicationScoped:!!q.metadata?.isApplicationScoped,isMachineScoped:!!q.metadata?.isMachineScoped,isPreReleaseVersion:!!q.metadata?.isPreReleaseVersion,hasPreReleaseVersion:!!q.metadata?.hasPreReleaseVersion,preRelease:!!q.metadata?.preRelease,installedTimestamp:q.metadata?.installedTimestamp,updated:!!q.metadata?.updated,pinned:!!q.metadata?.pinned}}async G(){const q=await this.getUninstalledExtensions();if(Object.keys(q).length===0){this.t.debug("No uninstalled extensions found.");return}this.t.debug("Removing uninstalled extensions:",Object.keys(q));const V=await this.n.scanUserExtensions({includeAllVersions:!0,includeUninstalled:!0,includeInvalid:!0}),T=new Set;for(const z of V)q[i.$bp.create(z).toString()]||T.add(z.identifier.id.toLowerCase());try{const z=(0,i.$gp)(V,x=>x.identifier);await A.Promises.settled(z.map(async x=>{const X=x.sort((fe,me)=>E.rcompare(fe.manifest.version,me.manifest.version))[0];T.has(X.identifier.id.toLowerCase())||await this.j(await this.F(X))}))}catch(z){this.t.error(z)}const g=V.filter(z=>z.metadata&&q[i.$bp.create(z).toString()]);await Promise.allSettled(g.map(z=>this.removeUninstalledExtension(z)))}async H(){this.t.trace("ExtensionManagementService#removeTempDeleteFolders");let q;try{q=await this.m.resolve(this.n.userExtensionsLocation)}catch(V){(0,J.$Nk)(V)!==1&&this.t.error(V);return}if(q?.children)try{await Promise.allSettled(q.children.map(async V=>{if(!(!V.isDirectory||!V.name.endsWith(B))){this.t.trace("Deleting the temporarily deleted folder",V.resource.toString());try{await this.m.del(V.resource,{recursive:!0}),this.t.trace("Deleted the temporarily deleted folder",V.resource.toString())}catch(T){(0,J.$Nk)(T)!==1&&this.t.error(T)}}}))}catch{}}};e.$tq=C,e.$tq=C=ve([oe(1,J.$wk),oe(2,c.$hq),oe(3,s.$dq),oe(4,ue.$7k),oe(5,pe.$qj)],C);class F extends r.$bq{get profileLocation(){return this.j}get verificationStatus(){return this.k}get operation(){return(0,I.$Rf)(this.options.operation)?this.l:this.options.operation}constructor(q,V,T,g,z,x,X,fe,me){super(),this.identifier=q,this.source=V,this.options=T,this.m=g,this.n=z,this.o=x,this.p=X,this.q=fe,this.s=me,this.j=this.options.profileLocation,this.k=!1,this.l=2}async h(q){const[V,T]=await this.x(q);return this.j=V.isBuiltin||V.isApplicationScoped?this.o.defaultProfile.extensionsResource:this.options.profileLocation,this.n.extUri.isEqual(this.o.defaultProfile.extensionsResource,this.j)&&await this.p.initializeDefaultProfileExtensions(),await this.q.addExtensionsToProfile([[V,T]],this.j),V}async u({zipPath:q,key:V,metadata:T},g,z){let x=await this.v(V);return x?x=await this.m.updateMetadata(x,T):(this.s.trace("Extracting extension...",V.id),x=await this.m.extractUserExtension(V,q,T,g,z),this.s.info("Extracting extension completed.",V.id)),x}async v(q){return await this.w(q)?(this.s.trace("Removing the extension from uninstalled list:",q.id),await this.m.setInstalled(q),this.s.info("Removed the extension from uninstalled list:",q.id),(await this.m.scanAllUserExtensions(!0)).find(g=>i.$bp.create(g).equals(q))):void 0}async w(q){return!!(await this.m.getUninstalledExtensions())[q.toString()]}}class W extends F{constructor(q,V,T,g,z,x,X,fe,me,ye){super(V.identifier,V,T,z,x,X,fe,me,ye),this.y=V,this.z=g}async x(q){let V;try{V=await this.m.scanExtensions(null,this.options.profileLocation)}catch(X){throw new t.$Ko(X,t.ExtensionManagementErrorCode.Scanning)}const T=V.find(X=>(0,i.$ap)(X.identifier,this.y.identifier));T&&(this.l=3);const g={id:this.y.identifier.uuid,publisherId:this.y.publisherId,publisherDisplayName:this.y.publisherDisplayName,targetPlatform:this.y.properties.targetPlatform,isApplicationScoped:this.options.isApplicationScoped||T?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||T?.isMachineScoped,isBuiltin:this.options.isBuiltin||T?.isBuiltin,isSystem:T?.type===0?!0:void 0,updated:!!T,isPreReleaseVersion:this.y.properties.isPreReleaseVersion,hasPreReleaseVersion:T?.hasPreReleaseVersion||this.y.properties.isPreReleaseVersion,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:this.options.pinned??T?.pinned,preRelease:(0,I.$Qf)(this.options.preRelease)?this.options.preRelease:this.options.installPreReleaseVersion||this.y.properties.isPreReleaseVersion||T?.preRelease};if(T&&T.manifest.version===this.y.version&&!(!["undefined","web"].includes(T.targetPlatform)&&this.y.properties.targetPlatform!=="web"&&T.targetPlatform!==this.y.properties.targetPlatform)){this.s.info("No difference found in the extension:",this.y.identifier.id," between local and gallery -> skipping download");try{return[await this.m.updateMetadata(T,g),g]}catch(fe){throw new t.$Ko((0,j.$0)(fe),t.ExtensionManagementErrorCode.UpdateMetadata)}}const{location:z,verificationStatus:x}=await this.z.download(this.y,this.l,!this.options.donotVerifySignature);try{return this.k=x,this.B(z.fsPath),[await this.u({zipPath:z.fsPath,key:i.$bp.create(this.y),metadata:g},!1,q),g]}catch(X){try{await this.z.delete(z)}catch(fe){this.s.warn("Error while deleting the downloaded file",z.toString(),(0,j.$0)(fe))}throw X}}async B(q){try{await(0,w.$oq)(q)}catch(V){throw new t.$Ko((0,r.$_p)(V).message,t.ExtensionManagementErrorCode.Invalid)}}}e.$uq=W;class Q extends F{constructor(q,V,T,g,z,x,X,fe,me,ye){super({id:(0,i.$fp)(q.publisher,q.name)},V,T,z,x,X,fe,me,ye),this.y=q,this.z=V,this.A=g}async h(q){const V=await super.h(q);return this.D(V,q),V}async x(q){const V=new i.$bp(this.identifier,this.y.version),g=(await this.m.scanExtensions(1,this.options.profileLocation)).find(X=>(0,i.$ap)(this.identifier,X.identifier)),z={isApplicationScoped:this.options.isApplicationScoped||g?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||g?.isMachineScoped,isBuiltin:this.options.isBuiltin||g?.isBuiltin,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:this.options.pinned??g?.pinned};if(g)if(this.l=3,V.equals(new i.$bp(g.identifier,g.manifest.version)))try{await this.m.removeExtension(g,"existing")}catch{throw new Error(l.localize(7,null,this.y.displayName||this.y.name))}else!this.options.profileLocation&&E.gt(g.manifest.version,this.y.version)&&await this.m.setUninstalled(g);else{const X=await this.v(V);if(X)try{await this.m.removeExtension(X,"existing")}catch{throw new Error(l.localize(8,null,this.y.displayName||this.y.name))}}return[await this.u({zipPath:b.$kc(this.z.fsPath),key:V,metadata:z},!0,q),z]}async D(q,V){try{let[T]=await this.A.getExtensions([{id:q.identifier.id,version:q.manifest.version}],V);if(T||([T]=await this.A.getExtensions([{id:q.identifier.id}],V)),T){const g={id:T.identifier.uuid,publisherDisplayName:T.publisherDisplayName,publisherId:T.publisherId,isPreReleaseVersion:T.properties.isPreReleaseVersion,hasPreReleaseVersion:q.hasPreReleaseVersion||T.properties.isPreReleaseVersion,preRelease:T.properties.isPreReleaseVersion||this.options.installPreReleaseVersion};await this.m.updateMetadata(q,g,this.options.profileLocation)}}catch{}}}class Z extends r.$bq{constructor(q,V,T){super(),this.extension=q,this.j=V,this.k=T}async h(q){await this.k.removeExtensionFromProfile(this.extension,this.j)}}}),define(ae[162],ce([0,1,11,18,12,4,142,22,23,3,69]),function(K,e,A,R,D,O,j,k,h,o,v){"use strict";var S,b;Object.defineProperty(e,"__esModule",{value:!0}),e.$C4=e.$B4=e.$A4=void 0;let m=class extends h.$_k{static{S=this}static{this.a="profileAssociationsMigration"}constructor(u,p,d,l,f){super(d,l,p,f),this.U=u,this.W=d}O(){return this.U.getItem(S.b,[]).map(p=>({...p,location:(0,o.$Kf)(p.location)?this.u.extUri.joinPath(this.profilesHome,p.location):A.URI.revive(p.location)}))}Q(){const u=this.U.getItem(S.c,{});return this.U.getItem(S.a,!1)?u:this.N(u)}S(){return this.u.extUri.joinPath(A.URI.file(this.W.extensionsPath).with({scheme:this.profilesHome.scheme}),"extensions.json")}};e.$A4=m,e.$A4=m=S=ve([oe(0,j.$v4),oe(1,k.$7k),oe(2,R.$di),oe(3,D.$wk),oe(4,O.$qj)],m);let E=b=class extends m{constructor(u,p,d,l,f){super(u,p,d,l,f),this.$=u}P(u){u.length?this.$.setItem(b.b,u.map(p=>({...p,location:this.u.extUri.basename(p.location)}))):this.$.removeItem(b.b)}O(){const u=super.O();return this.$.getItem("userDataProfilesMigration",!1)||(this.P(u),this.$.setItem("userDataProfilesMigration",!0)),u}R(u){u.emptyWindows||u.workspaces?this.$.setItem(b.c,u):this.$.removeItem(b.c)}Q(){const u="workspaceAndProfileInfo",p=this.$.getItem(u,void 0);if(p){this.$.removeItem(u);const l=p.reduce((f,{workspace:n,profile:r})=>(f[A.URI.revive(n).toString()]=A.URI.revive(r).toString(),f),{});this.$.setItem(b.c,{workspaces:l})}const d=super.Q();return this.$.getItem(b.a,!1)||(this.R(d),this.$.setItem(b.a,!0)),d}};e.$B4=E,e.$B4=E=b=ve([oe(0,j.$w4),oe(1,k.$7k),oe(2,R.$di),oe(3,D.$wk),oe(4,O.$qj)],E);let I=class extends E{constructor(u,p,d,l){super(new v.$z4(0,p,l,d),u,p,d,l)}async init(){return await this.$.init(),super.init()}};e.$C4=I,e.$C4=I=ve([oe(0,k.$7k),oe(1,R.$di),oe(2,D.$wk),oe(3,O.$qj)],I)}),define(ae[163],ce([0,1,140,8,14,9,3,28,18,141,4,44,139,177]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kr=e.$Jr=void 0;let E=class extends S.$Hp{constructor(p,d,l,f){super(f),this.m=p,this.n=d,this.q=l,this.r(),this.D(p.onDidChangeConfiguration(n=>{n.affectsConfiguration("http")&&this.r()}))}r(){const p=this.m.getValue("http");this.f=p?.proxy,this.g=!!p?.proxyStrictSSL,this.h=p?.proxyAuthorization}async request(p,d){const{f:l,g:f}=this;let n;try{n=await(0,o.$hm)(this.m,this.q,this.n.args,process.env)}catch(i){this.j||(this.j=!0,this.q.error("resolving shell environment failed",(0,O.$0)(i)))}const r={...process.env,...n},t=p.agent?p.agent:await(0,b.$Ir)(p.url||"",r,{proxyUrl:l,strictSSL:f});return p.agent=t,p.strictSSL=f,this.h&&(p.headers={...p.headers||{},"Proxy-Authorization":this.h}),this.c(p.isChromiumNetwork?"electron":"node",p,()=>$(p,d))}async resolveProxy(p){}async loadCertificates(){return(await new Promise((d,l)=>{K(["@vscode/proxy-agent"],d,l)})).loadSystemCertificates({log:this.q})}};e.$Jr=E,e.$Jr=E=ve([oe(0,k.$Bi),oe(1,h.$di),oe(2,v.$qj),oe(3,v.$rj)],E);async function I(u){return((0,A.parse)(u.url).protocol==="https:"?await new Promise((l,f)=>{K(["https"],l,f)}):await new Promise((l,f)=>{K(["http"],l,f)})).request}async function $(u,p){return R.Promises.withAsyncBody(async(d,l)=>{const f=(0,A.parse)(u.url),n=u.getRawRequest?u.getRawRequest(u):await I(u),r={hostname:f.hostname,port:f.port?parseInt(f.port):f.protocol==="https:"?443:80,protocol:f.protocol,path:f.path,method:u.type||"GET",headers:u.headers,agent:u.agent,rejectUnauthorized:(0,j.$Qf)(u.strictSSL)?u.strictSSL:!0};u.user&&u.password&&(r.auth=u.user+":"+u.password);const t=n(r,i=>{const s=(0,j.$Of)(u.followRedirects)?u.followRedirects:3;if(i.statusCode&&i.statusCode>=300&&i.statusCode<400&&s>0&&i.headers.location)i.statusCode===303?$({...u,url:i.headers.location,type:"GET",followRedirects:s-1},p).then(d,l):$({...u,url:i.headers.location,followRedirects:s-1},p).then(d,l);else{let c=i;!u.isChromiumNetwork&&i.headers["content-encoding"]==="gzip"&&(c=i.pipe((0,m.createGunzip)())),d({res:i,stream:(0,D.$ze)(c)})}});t.on("error",l),u.timeout&&t.setTimeout(u.timeout),u.isChromiumNetwork&&t.removeHeader("Content-Length"),u.data&&typeof u.data=="string"&&t.write(u.data),t.end(),p.onCancellationRequested(()=>{t.abort(),l(new O.$5)})})}e.$Kr=$}),define(ae[178],ce([0,1,33,8,34,9,2,16,15,13,35,11,25,28,136,60,138,18,114,71,21,65,144,42,54,161,158,12,126,128,52,124,63,64,148,4,132,40,133,53,32,44,163,69,70,26,149,45,150,151,22,153,23,162,152,157,129,131,5,154]),function(K,e,A,R,D,O,j,k,h,o,v,S,b,m,E,I,$,u,p,d,l,f,n,r,t,i,s,c,a,y,w,P,N,L,J,ne,pe,ie,le,ue,se,B,G,C,F,W,Q,Z,ee,q,V,T,g,z,x,X,fe,me,ye,Ee){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;class Ie extends j.$Tc{constructor(M){super(),this.b=M,this.c()}c(){process.once("exit",()=>this.dispose())}async run(){const[M,te]=await this.f();return M.invokeFunction(async re=>{const he=re.get(ne.$qj),de=re.get(c.$wk),U=re.get(u.$di),H=re.get(g.$9k);he.info("CLI main",this.b),this.g(he),await this.h(U,de,H,M),await Promise.all(te.map(_=>{(0,R.$Zg)(_.flush(),1e3)}))})}async f(){const M=new N.$6h,te={_serviceBrand:void 0,...ue.default};M.set(se.$Ij,te);const re=new p.$Jm(this.b,te);M.set(u.$di,re),await Promise.all([re.appSettingsHome.with({scheme:k.Schemas.file}).fsPath,re.extensionsPath].map(Oe=>Oe?b.Promises.mkdir(Oe,{recursive:!0}):void 0));const he=new me.$u4((0,ne.$Ej)(re),re.logsHome);M.set(ne.$rj,he);const de=this.D(he.createLogger("cli",{name:(0,ye.localize)(0,null)})),U=[];he.getLogLevel()===ne.LogLevel.Trace&&U.push(new ne.$yj(he.getLogLevel()));const H=this.D(new fe.$E4(de,U));M.set(ne.$qj,H);const _=this.D(new a.$wq(H));M.set(c.$wk,_);const ge=this.D(new y.$Vq(H));_.registerProvider(k.Schemas.file,ge);const $e=new T.$ls(_);M.set(V.$7k,$e);const ke=new C.$y4(1,re,H,_),we=new z.$A4(ke,$e,re,_,H);M.set(g.$9k,we),_.registerProvider(k.Schemas.vscodeUserData,new Ee.$PQc(k.Schemas.file,ge,k.Schemas.vscodeUserData,we,$e,H));const De=o.$i&&te.win32RegValueName?this.D(new le.$NQc(H,te.win32RegValueName)):re.policyFile?this.D(new pe.$OQc(re.policyFile,_,H)):new ie.$Un;M.set(ie.$Sn,De);const be=this.D(new E.$io(we.defaultProfile.settingsResource,_,De,H));M.set(m.$Bi,be),await Promise.all([ke.init(),be.initialize()]);let Re;try{Re=await(0,x.$rQc)(ke,H)}catch(Oe){Oe.code!=="ENOENT"&&H.error(Oe)}const Le=await(0,x.$sQc)(ke,H);we.init(),M.set(V.$7k,new T.$ls(_));const je=new G.$Jr(be,re,H,he);M.set(B.$Gp,je),M.set(I.$mo,new w.$5h($.$T4,void 0,!0)),M.set(r.$dq,new w.$5h(X.$D4,void 0,!0)),M.set(t.$hq,new w.$5h(s.$oQc,void 0,!0)),M.set(f.$Zp,new w.$5h(f.$1p,void 0,!0)),M.set(i.$rq,new w.$5h(i.$sq,void 0,!0)),M.set(l.$Jo,new w.$5h(d.$Yp,void 0,!0)),M.set(L.$Dr,new w.$5h(J.$Fr,void 0,!1));const qe=[],Fe=(0,Z.$0o)(te,be);if((0,Z.$4o)(te,re)){te.aiConfig&&te.aiConfig.ariaKey&&qe.push(new ee.$s4(je,Fe,"monacoworkbench",null,te.aiConfig.ariaKey));const Oe={appenders:qe,sendErrorTelemetry:!1,commonProperties:(0,F.$Uo)((0,A.release)(),(0,A.hostname)(),process.arch,te.commit,te.version,Re,Le,Fe),piiPaths:(0,Z.$$o)(re)};M.set(W.$Al,new w.$5h(Q.$Lr,[Oe],!1))}else M.set(W.$Al,Z.$Yo);return[new P.$Yq(M),qe]}g(M){(0,O.setUnexpectedErrorHandler)(te=>{const re=(0,D.$Si)(te,!0);re&&M.error(`[uncaught exception in CLI]: ${re}`)}),process.on("uncaughtException",te=>{(0,O.$Z)(te)||(0,O.$1)(te)}),process.on("unhandledRejection",te=>(0,O.$1)(te))}async h(M,te,re,he){let de;if(M.args.profile&&(de=re.profiles.find(H=>H.name===M.args.profile),!de))throw new Error(`Profile '${M.args.profile}' not found.`);const U=(de??re.defaultProfile).extensionsResource;if(this.b["list-extensions"])return he.createInstance(n.$2p,new ne.$yj(ne.LogLevel.Info,!1)).listExtensions(!!this.b["show-versions"],this.b.category,U);if(this.b["install-extension"]||this.b["install-builtin-extension"]){const H={isMachineScoped:!!this.b["do-not-sync"],installPreReleaseVersion:!!this.b["pre-release"],profileLocation:U};return he.createInstance(n.$2p,new ne.$yj(ne.LogLevel.Info,!1)).installExtensions(this.j(this.b["install-extension"]||[]),this.j(this.b["install-builtin-extension"]||[]),H,!!this.b.force)}else{if(this.b["uninstall-extension"])return he.createInstance(n.$2p,new ne.$yj(ne.LogLevel.Info,!1)).uninstallExtensions(this.j(this.b["uninstall-extension"]),!!this.b.force,U);if(this.b["update-extensions"])return he.createInstance(n.$2p,new ne.$yj(ne.LogLevel.Info,!1)).updateExtensions(U);if(this.b["locate-extension"])return he.createInstance(n.$2p,new ne.$yj(ne.LogLevel.Info,!1)).locateExtension(this.b["locate-extension"]);this.b.telemetry&&console.log(await(0,q.$bRc)(M.appRoot,M.extensionsPath))}}j(M){return M.map(te=>/\.vsix$/i.test(te)?S.URI.file((0,h.$ic)(te)?te:(0,h.$jc)((0,v.cwd)(),te)):te)}}async function ze(Y){const M=new Ie(Y);try{await M.run()}finally{M.dispose()}}e.main=ze})}).call(this);

//# sourceMappingURL=https://cursor-sourcemaps.s3.amazonaws.com/sourcemaps/fcd6e551d6f014d13071eac9bd4904e7e0346720/core/vs/code/node/cliProcessMain.js.map
